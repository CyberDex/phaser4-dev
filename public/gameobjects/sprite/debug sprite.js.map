{
  "version": 3,
  "sources": ["../../../node_modules/tweakpane/dist/tweakpane.js", "../../../../phaser-genesis/src/config/const.ts", "../../../../phaser-genesis/src/config/ConfigStore.ts", "../../../../phaser-genesis/src/config/backgroundcolor/SetBackgroundColor.ts", "../../../../phaser-genesis/src/config/backgroundcolor/BackgroundColor.ts", "../../../../phaser-genesis/src/config/banner/SetBanner.ts", "../../../../phaser-genesis/src/config/batchsize/SetBatchSize.ts", "../../../../phaser-genesis/src/config/size/GetHeight.ts", "../../../../phaser-genesis/src/config/size/GetResolution.ts", "../../../../phaser-genesis/src/config/size/GetWidth.ts", "../../../../phaser-genesis/src/config/size/SetSize.ts", "../../../../phaser-genesis/src/renderer/BindingQueue.ts", "../../../../phaser-genesis/src/config/backgroundcolor/GetBackgroundColor.ts", "../../../../phaser-genesis/src/config/renderer/SetRenderer.ts", "../../../../phaser-genesis/src/config/defaultorigin/SetDefaultOrigin.ts", "../../../../phaser-genesis/src/config/maxtextures/SetMaxTextures.ts", "../../../../phaser-genesis/src/dom/GetElement.ts", "../../../../phaser-genesis/src/config/parent/SetParent.ts", "../../../../phaser-genesis/src/config/parent/Parent.ts", "../../../../phaser-genesis/src/config/scenes/SetScenes.ts", "../../../../phaser-genesis/src/config/scenes/Scenes.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleContains.ts", "../../../../phaser-genesis/src/geom/rectangle/Rectangle.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/AddViewport.ts", "../../../../phaser-genesis/src/renderer/webgl1/GL.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindViewport.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetViewport.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/PopViewport.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/PopFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/AddFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/Draw.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/Flush.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/End.ts", "../../../../phaser-genesis/src/renderer/webgl1/colors/GetRGBArray.ts", "../../../../phaser-genesis/src/config/webglcontext/GetWebGLContext.ts", "../../../../phaser-genesis/src/renderer/webgl1/textures/CreateGLTexture.ts", "../../../../phaser-genesis/src/renderer/webgl1/fbo/DeleteFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/textures/DeleteGLTexture.ts", "../../../../phaser-genesis/src/math/pow2/IsSizePowerOfTwo.ts", "../../../../phaser-genesis/src/renderer/webgl1/textures/SetGLTextureFilterMode.ts", "../../../../phaser-genesis/src/renderer/webgl1/textures/UpdateGLTexture.ts", "../../../../phaser-genesis/src/renderer/webgl1/textures/GLTextureBinding.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/ProcessBindingQueue.ts", "../../../../phaser-genesis/src/config/maxtextures/GetMaxTextures.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CheckShaderMaxIfStatements.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/CreateTempTextures.ts", "../../../../phaser-genesis/src/config/batchsize/GetBatchSize.ts", "../../../../phaser-genesis/src/renderer/webgl1/buffers/DeleteGLBuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/buffers/VertexBuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/buffers/IndexedVertexBuffer.ts", "../../../../phaser-genesis/src/utils/array/matrix/CheckMatrix.ts", "../../../../phaser-genesis/src/utils/array/matrix/MatrixToString.ts", "../../../../phaser-genesis/src/utils/array/matrix/ReverseColumns.ts", "../../../../phaser-genesis/src/utils/array/matrix/ReverseRows.ts", "../../../../phaser-genesis/src/utils/array/matrix/TransposeMatrix.ts", "../../../../phaser-genesis/src/utils/array/matrix/RotateMatrix.ts", "../../../../phaser-genesis/src/utils/array/matrix/Rotate180.ts", "../../../../phaser-genesis/src/utils/array/matrix/RotateLeft.ts", "../../../../phaser-genesis/src/utils/array/matrix/RotateRight.ts", "../../../../phaser-genesis/src/utils/array/NumberArray.ts", "../../../../phaser-genesis/src/math/RoundAwayFromZero.ts", "../../../../phaser-genesis/src/utils/array/NumberArrayStep.ts", "../../../../phaser-genesis/src/utils/base64/ArrayBufferToBase64.ts", "../../../../phaser-genesis/src/utils/base64/Base64ToArrayBuffer.ts", "../../../../phaser-genesis/src/utils/string/UppercaseFirst.ts", "../../../../phaser-genesis/src/utils/NOOP.ts", "../../../../phaser-genesis/src/math/mat4/Matrix4.ts", "../../../../phaser-genesis/src/math/mat4/Mat4Ortho.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateAttributes.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/DeleteShaders.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateProgram.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateShader.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateUniformSetter.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/CreateUniforms.ts", "../../../../phaser-genesis/src/renderer/webgl1/GL_CONST.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/DefaultQuadAttributes.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/DefaultQuadUniforms.ts", "../../../../phaser-genesis/src/renderer/webgl1/fbo/CreateDepthBuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/fbo/CreateFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/glsl/SINGLE_QUAD_FRAG.ts", "../../../../phaser-genesis/src/renderer/webgl1/glsl/SINGLE_QUAD_VERT.ts", "../../../../phaser-genesis/src/textures/Frame.ts", "../../../../phaser-genesis/src/textures/Texture.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/Shader.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/QuadShader.ts", "../../../../phaser-genesis/src/renderer/webgl1/glsl/MULTI_QUAD_FRAG.ts", "../../../../phaser-genesis/src/renderer/webgl1/shaders/MultiTextureQuadShader.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultBlendMode.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultFramebuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultShader.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultVertexBuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetDefaultViewport.ts", "../../../../phaser-genesis/src/GameInstance.ts", "../../../../phaser-genesis/src/math/mat4/Mat4Identity.ts", "../../../../phaser-genesis/src/math/mat2d/Matrix2D.ts", "../../../../phaser-genesis/src/math/vec2/Vec2Callback.ts", "../../../../phaser-genesis/src/math/angle/AngleBetween.ts", "../../../../phaser-genesis/src/math/angle/AngleBetweenY.ts", "../../../../phaser-genesis/src/math/const.ts", "../../../../phaser-genesis/src/math/angle/CounterClockwise.ts", "../../../../phaser-genesis/src/math/angle/NormalizeAngle.ts", "../../../../phaser-genesis/src/math/angle/ReverseAngle.ts", "../../../../phaser-genesis/src/math/angle/RotateAngleTo.ts", "../../../../phaser-genesis/src/math/angle/ShortestAngleBetween.ts", "../../../../phaser-genesis/src/math/Wrap.ts", "../../../../phaser-genesis/src/math/angle/WrapAngle.ts", "../../../../phaser-genesis/src/math/angle/WrapAngleDegrees.ts", "../../../../phaser-genesis/src/math/angle/index.ts", "../../../../phaser-genesis/src/camera/StaticCamera.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/RenderPass.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindShader.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/Begin.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindBlendMode.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/BindVertexBuffer.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/GetVertexBufferEntry.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/SetTexture.ts", "../../../../phaser-genesis/src/renderer/webgl1/renderpass/Start.ts", "../../../../phaser-genesis/src/renderer/webgl1/WebGLRendererInstance.ts", "../../../../phaser-genesis/src/renderer/webgl1/WebGLRenderer.ts", "../../../../phaser-genesis/src/config/webgl/WebGL.ts", "../../../../phaser-genesis/src/display/DepthFirstSearch.ts", "../../../../phaser-genesis/src/display/GetChildIndex.ts", "../../../../phaser-genesis/src/display/RemoveChildAt.ts", "../../../../phaser-genesis/src/display/RemoveChild.ts", "../../../../phaser-genesis/src/gameobjects/events/AddedToWorldEvent.ts", "../../../../phaser-genesis/src/gameobjects/events/DestroyEvent.ts", "../../../../phaser-genesis/src/gameobjects/events/PostUpdateEvent.ts", "../../../../phaser-genesis/src/gameobjects/events/RemovedFromWorldEvent.ts", "../../../../phaser-genesis/src/gameobjects/events/UpdateEvent.ts", "../../../../phaser-genesis/src/events/Emit.ts", "../../../../phaser-genesis/src/display/SetWorld.ts", "../../../../phaser-genesis/src/display/SetParent.ts", "../../../../phaser-genesis/src/display/AddChild.ts", "../../../../phaser-genesis/src/display/AddChildren.ts", "../../../../phaser-genesis/src/gameobjects/DIRTY_CONST.ts", "../../../../phaser-genesis/src/display/RemoveChildrenBetween.ts", "../../../../phaser-genesis/src/display/DestroyChildren.ts", "../../../../phaser-genesis/src/display/RemoveChildren.ts", "../../../../phaser-genesis/src/display/ReparentChildren.ts", "../../../../phaser-genesis/src/dom/AddToDOM.ts", "../../../../phaser-genesis/src/dom/DOMContentLoaded.ts", "../../../../phaser-genesis/src/dom/ParseXML.ts", "../../../../phaser-genesis/src/events/EventEmitter.ts", "../../../../phaser-genesis/src/events/EventInstance.ts", "../../../../phaser-genesis/src/events/Off.ts", "../../../../phaser-genesis/src/events/On.ts", "../../../../phaser-genesis/src/events/Once.ts", "../../../../phaser-genesis/src/config/banner/GetBanner.ts", "../../../../phaser-genesis/src/config/parent/GetParent.ts", "../../../../phaser-genesis/src/config/renderer/GetRenderer.ts", "../../../../phaser-genesis/src/scenes/CreateSceneRenderData.ts", "../../../../phaser-genesis/src/config/scenes/GetScenes.ts", "../../../../phaser-genesis/src/scenes/ResetSceneRenderData.ts", "../../../../phaser-genesis/src/scenes/SceneManagerInstance.ts", "../../../../phaser-genesis/src/scenes/SceneManager.ts", "../../../../phaser-genesis/src/config/SetConfigDefaults.ts", "../../../../phaser-genesis/src/textures/CreateCanvas.ts", "../../../../phaser-genesis/src/textures/TextureManagerInstance.ts", "../../../../phaser-genesis/src/textures/TextureManager.ts", "../../../../phaser-genesis/src/Game.ts", "../../../../phaser-genesis/src/loader/File.ts", "../../../../phaser-genesis/src/loader/GetURL.ts", "../../../../phaser-genesis/src/loader/ImageTagLoader.ts", "../../../../phaser-genesis/src/loader/files/ImageFile.ts", "../../../../phaser-genesis/src/loader/Loader.ts", "../../../../phaser-genesis/src/scenes/GetConfigValue.ts", "../../../../phaser-genesis/src/scenes/Install.ts", "../../../../phaser-genesis/src/scenes/Scene.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/GetVertices.ts", "../../../../phaser-genesis/src/gameobjects/components/bounds/BoundsComponent.ts", "../../../../phaser-genesis/src/gameobjects/components/input/InputComponent.ts", "../../../../phaser-genesis/src/renderer/webgl1/colors/PackColors.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/UpdateVertices.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/PreRenderVertices.ts", "../../../../phaser-genesis/src/config/defaultorigin/GetDefaultOriginX.ts", "../../../../phaser-genesis/src/config/defaultorigin/GetDefaultOriginY.ts", "../../../../phaser-genesis/src/math/vec2/Vec2.ts", "../../../../phaser-genesis/src/math/Clamp.ts", "../../../../phaser-genesis/src/math/fuzzy/FuzzyEqual.ts", "../../../../phaser-genesis/src/geom/rectangle/CeilRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/CeilRectanglePosition.ts", "../../../../phaser-genesis/src/geom/rectangle/CenterRectangleOn.ts", "../../../../phaser-genesis/src/geom/rectangle/CloneRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/CopyRectangleFrom.ts", "../../../../phaser-genesis/src/geom/rectangle/DecomposeRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleAspectRatio.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleCenterX.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleCenterY.ts", "../../../../phaser-genesis/src/geom/rectangle/FitRectangleInside.ts", "../../../../phaser-genesis/src/geom/rectangle/FitRectangleOutside.ts", "../../../../phaser-genesis/src/geom/rectangle/FitRectangleToPoint.ts", "../../../../phaser-genesis/src/geom/rectangle/FitRectangleToPoints.ts", "../../../../phaser-genesis/src/geom/rectangle/FloorRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/FloorRectanglePosition.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleArea.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleCenter.ts", "../../../../phaser-genesis/src/geom/line/Line.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleIntersection.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectanglePerimeter.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleMarchingAnts.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleOverlap.ts", "../../../../phaser-genesis/src/math/DegToRad.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectanglePerimeterPoint.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectanglePoint.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectanglePoints.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleRandomPoint.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleContainsRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleRandomPointOutside.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleSize.ts", "../../../../phaser-genesis/src/geom/rectangle/GetRectangleUnion.ts", "../../../../phaser-genesis/src/geom/rectangle/InflateRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/MergeRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleContainsPoint.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleEquals.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleFromPoints.ts", "../../../../phaser-genesis/src/geom/rectangle/RectangleSizeEquals.ts", "../../../../phaser-genesis/src/geom/rectangle/ScaleRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/TranslateRectangle.ts", "../../../../phaser-genesis/src/geom/rectangle/TranslateRectanglePoint.ts", "../../../../phaser-genesis/src/geom/rectangle/index.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/UpdateLocalTransform.ts", "../../../../phaser-genesis/src/math/mat2d/Mat2dCopyFrom.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/UpdateWorldTransform.ts", "../../../../phaser-genesis/src/gameobjects/components/transform/TransformComponent.ts", "../../../../phaser-genesis/src/renderer/webgl1/colors/PackColor.ts", "../../../../phaser-genesis/src/gameobjects/components/Vertex.ts", "../../../../phaser-genesis/src/renderer/webgl1/draw/BatchTexturedQuad.ts", "../../../../phaser-genesis/src/gameobjects/GameObject.ts", "../../../../phaser-genesis/src/gameobjects/container/Container.ts", "../../../../phaser-genesis/src/renderer/canvas/draw/DrawTexturedQuad.ts", "../../../../phaser-genesis/src/gameobjects/sprite/SetFrame.ts", "../../../../phaser-genesis/src/gameobjects/sprite/SetTexture.ts", "../../../../phaser-genesis/src/gameobjects/sprite/Sprite.ts", "../../libs/phaser4debugkit/SpriteEditor.js", "../../../../phaser-genesis/src/world/events/WorldRenderEvent.ts", "../../../../phaser-genesis/src/world/events/WorldShutdownEvent.ts", "../../../../phaser-genesis/src/world/CalculateTotalRenderable.ts", "../../../../phaser-genesis/src/world/HasDirtyChildren.ts", "../../../../phaser-genesis/src/world/UpdateCachedLayers.ts", "../../../../phaser-genesis/src/world/WorldDepthFirstSearch.ts", "../../../../phaser-genesis/src/world/BuildRenderList.ts", "../../../../phaser-genesis/src/math/mat2d/Mat2dEquals.ts", "../../../../phaser-genesis/src/world/MergeRenderData.ts", "../../../../phaser-genesis/src/world/ResetWorldRenderData.ts", "../../../../phaser-genesis/src/world/BaseWorld.ts", "../../../../phaser-genesis/src/world/CreateWorldRenderData.ts", "../../../../phaser-genesis/src/world/StaticWorld.ts", "../../../src/gameobjects/sprite/debug sprite.ts"],
  "sourcesContent": ["/*! Tweakpane 2.4.3 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Tweakpane = factory());\n}(this, (function () { 'use strict';\n\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArrays() {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n                r[k] = a[j];\n        return r;\n    }\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (var i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var CREATE_MESSAGE_MAP = {\n        alreadydisposed: function () { return 'View has been already disposed'; },\n        invalidparams: function (context) { return \"Invalid parameters for '\" + context.name + \"'\"; },\n        nomatchingcontroller: function (context) {\n            return \"No matching controller for '\" + context.key + \"'\";\n        },\n        nomatchingview: function (context) {\n            return \"No matching view for '\" + JSON.stringify(context.params) + \"'\";\n        },\n        notbindable: function () { return \"Value is not bindable\"; },\n        propertynotfound: function (context) { return \"Property '\" + context.name + \"' not found\"; },\n        shouldneverhappen: function () { return 'This error should never happen'; },\n    };\n    var TpError = /** @class */ (function () {\n        function TpError(config) {\n            var _a;\n            this.message = (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        TpError.alreadyDisposed = function () {\n            return new TpError({ type: 'alreadydisposed' });\n        };\n        TpError.notBindable = function () {\n            return new TpError({\n                type: 'notbindable',\n            });\n        };\n        TpError.propertyNotFound = function (name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        };\n        TpError.shouldNeverHappen = function () {\n            return new TpError({ type: 'shouldneverhappen' });\n        };\n        return TpError;\n    }());\n    TpError.prototype = Object.create(Error.prototype);\n    TpError.prototype.constructor = TpError;\n\n    /**\n     * A type-safe event emitter.\n     * @template E The interface that maps event names and event objects.\n     */\n    var Emitter = /** @class */ (function () {\n        function Emitter() {\n            this.observers_ = {};\n        }\n        /**\n         * Adds an event listener to the emitter.\n         * @param eventName The event name to listen.\n         * @param handler The event handler.\n         */\n        Emitter.prototype.on = function (eventName, handler) {\n            var observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        };\n        /**\n         * Removes an event listener from the emitter.\n         * @param eventName The event name.\n         * @param handler The event handler to remove.\n         */\n        Emitter.prototype.off = function (eventName, handler) {\n            var observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter(function (observer) {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        };\n        Emitter.prototype.emit = function (eventName, event) {\n            var observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach(function (observer) {\n                observer.handler(event);\n            });\n        };\n        return Emitter;\n    }());\n\n    var BoundValue = /** @class */ (function () {\n        function BoundValue(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : (function (v1, v2) { return v1 === v2; });\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        Object.defineProperty(BoundValue.prototype, \"constraint\", {\n            get: function () {\n                return this.constraint_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(BoundValue.prototype, \"rawValue\", {\n            get: function () {\n                return this.rawValue_;\n            },\n            set: function (rawValue) {\n                var constrainedValue = this.constraint_\n                    ? this.constraint_.constrain(rawValue)\n                    : rawValue;\n                var changed = !this.equals_(this.rawValue_, constrainedValue);\n                if (!changed) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    sender: this,\n                });\n                this.rawValue_ = constrainedValue;\n                this.emitter.emit('change', {\n                    rawValue: constrainedValue,\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return BoundValue;\n    }());\n\n    var PrimitiveValue = /** @class */ (function () {\n        function PrimitiveValue(initialValue) {\n            this.emitter = new Emitter();\n            this.value_ = initialValue;\n        }\n        Object.defineProperty(PrimitiveValue.prototype, \"rawValue\", {\n            get: function () {\n                return this.value_;\n            },\n            set: function (value) {\n                if (this.value_ === value) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    sender: this,\n                });\n                this.value_ = value;\n                this.emitter.emit('change', {\n                    sender: this,\n                    rawValue: this.value_,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return PrimitiveValue;\n    }());\n\n    function createValue(initialValue, config) {\n        var constraint = config === null || config === void 0 ? void 0 : config.constraint;\n        var equals = config === null || config === void 0 ? void 0 : config.equals;\n        if (!constraint && !equals) {\n            return new PrimitiveValue(initialValue);\n        }\n        return new BoundValue(initialValue, config);\n    }\n\n    var ValueMap = /** @class */ (function () {\n        function ValueMap(valueMap) {\n            var _this = this;\n            this.emitter = new Emitter();\n            this.valMap_ = valueMap;\n            var _loop_1 = function (key) {\n                var v = this_1.valMap_[key];\n                v.emitter.on('change', function () {\n                    _this.emitter.emit('change', {\n                        key: key,\n                        sender: _this,\n                    });\n                });\n            };\n            var this_1 = this;\n            for (var key in this.valMap_) {\n                _loop_1(key);\n            }\n        }\n        ValueMap.createCore = function (initialValue) {\n            var keys = Object.keys(initialValue);\n            return keys.reduce(function (o, key) {\n                var _a;\n                return Object.assign(o, (_a = {},\n                    _a[key] = createValue(initialValue[key]),\n                    _a));\n            }, {});\n        };\n        ValueMap.fromObject = function (initialValue) {\n            var core = this.createCore(initialValue);\n            return new ValueMap(core);\n        };\n        ValueMap.prototype.get = function (key) {\n            return this.valMap_[key].rawValue;\n        };\n        ValueMap.prototype.set = function (key, value) {\n            this.valMap_[key].rawValue = value;\n        };\n        ValueMap.prototype.value = function (key) {\n            return this.valMap_[key];\n        };\n        // TODO: Remove in the next major version\n        /** @deprecated Use ValueMap.value.emitter instead. */\n        ValueMap.prototype.valueEmitter = function (key) {\n            console.warn(\"ValueMap.valueEmitter is deprecated. Use ValueMap.value.emitter instead.\\nThis polyfill will be removed in the next major version.\");\n            return this.valMap_[key].emitter;\n        };\n        return ValueMap;\n    }());\n\n    function createBlade$1() {\n        return new ValueMap({\n            positions: createValue([], {\n                equals: deepEqualsArray,\n            }),\n        });\n    }\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    var PREFIX = 'tp';\n    /**\n     * A utility function for generating BEM-like class name.\n     * @param viewName The name of the view. Used as part of the block name.\n     * @return A class name generator function.\n     */\n    function ClassName(viewName) {\n        /**\n         * Generates a class name.\n         * @param [opt_elementName] The name of the element.\n         * @param [opt_modifier] The name of the modifier.\n         * @return A class name.\n         */\n        var fn = function (opt_elementName, opt_modifier) {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? \"_\" + opt_elementName : '',\n                opt_modifier ? \"-\" + opt_modifier : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    function getAllBladePositions() {\n        return ['veryfirst', 'first', 'last', 'verylast'];\n    }\n\n    var className$q = ClassName('');\n    var POS_TO_CLASS_NAME_MAP = {\n        veryfirst: 'vfst',\n        first: 'fst',\n        last: 'lst',\n        verylast: 'vlst',\n    };\n    var BladeController = /** @class */ (function () {\n        function BladeController(config) {\n            var _this = this;\n            this.parent_ = null;\n            this.blade = config.blade;\n            this.view = config.view;\n            this.viewProps = config.viewProps;\n            var elem = this.view.element;\n            this.blade.value('positions').emitter.on('change', function () {\n                getAllBladePositions().forEach(function (pos) {\n                    elem.classList.remove(className$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n                _this.blade.get('positions').forEach(function (pos) {\n                    elem.classList.add(className$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n            });\n            this.viewProps.handleDispose(function () {\n                // TODO: Remove in the next major version\n                if (_this.view.onDispose) {\n                    console.warn(\"View.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead.\");\n                    _this.view.onDispose();\n                }\n                disposeElement(elem);\n            });\n        }\n        Object.defineProperty(BladeController.prototype, \"parent\", {\n            get: function () {\n                return this.parent_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return BladeController;\n    }());\n\n    var SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        var t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        var globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function isBrowser() {\n        return 'document' in getGlobalObject();\n    }\n    function getCanvasContext(canvasElement) {\n        // HTMLCanvasElement.prototype.getContext is not defined on testing environment\n        return isBrowser() ? canvasElement.getContext('2d') : null;\n    }\n    var ICON_ID_TO_INNER_HTML_MAP = {\n        check: '<path d=\"M2 8l4 4l8 -8\"/>',\n        dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n        p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        var elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function removeElement(element) {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    function removeChildElements(element) {\n        while (element.children.length > 0) {\n            element.removeChild(element.children[0]);\n        }\n    }\n    function removeChildNodes(element) {\n        while (element.childNodes.length > 0) {\n            element.removeChild(element.childNodes[0]);\n        }\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        // Workaround for Firefox\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        // TODO: Workaround for Safari\n        // Safari doesn't set next target for some elements\n        // (e.g. button, input[type=checkbox], etc.)\n        return null;\n    }\n\n    function compose(h1, h2) {\n        return function (input) { return h2(h1(input)); };\n    }\n    function extractValue(ev) {\n        return ev.rawValue;\n    }\n    function bindValue(value, applyValue) {\n        value.emitter.on('change', compose(extractValue, applyValue));\n        applyValue(value.rawValue);\n    }\n    function bindValueMap(valueMap, key, applyValue) {\n        bindValue(valueMap.value(key), applyValue);\n    }\n\n    var className$p = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        var frag = doc.createDocumentFragment();\n        var lineNodes = label.split('\\n').map(function (line) {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach(function (lineNode, index) {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    /**\n     * @hidden\n     */\n    var LabelView = /** @class */ (function () {\n        function LabelView(doc, config) {\n            var _this = this;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$p());\n            config.viewProps.bindClassModifiers(this.element);\n            var labelElem = doc.createElement('div');\n            labelElem.classList.add(className$p('l'));\n            bindValueMap(config.props, 'label', function (value) {\n                if (isEmpty(value)) {\n                    _this.element.classList.add(className$p(undefined, 'nol'));\n                }\n                else {\n                    _this.element.classList.remove(className$p(undefined, 'nol'));\n                    removeChildNodes(labelElem);\n                    labelElem.appendChild(createLabelNode(doc, value));\n                }\n            });\n            this.element.appendChild(labelElem);\n            this.labelElement = labelElem;\n            var valueElem = doc.createElement('div');\n            valueElem.classList.add(className$p('v'));\n            this.element.appendChild(valueElem);\n            this.valueElement = valueElem;\n        }\n        return LabelView;\n    }());\n\n    var LabelController = /** @class */ (function (_super) {\n        __extends(LabelController, _super);\n        function LabelController(doc, config) {\n            var _this = this;\n            var viewProps = config.valueController.viewProps;\n            _this = _super.call(this, __assign(__assign({}, config), { view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps })) || this;\n            _this.props = config.props;\n            _this.valueController = config.valueController;\n            _this.view.valueElement.appendChild(_this.valueController.view.element);\n            // TODO: Remove in the next major version\n            _this.viewProps.handleDispose(function () {\n                var vc = _this.valueController;\n                if (vc.onDispose) {\n                    console.warn(\"Controller.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead.\");\n                    vc.onDispose();\n                }\n                if (vc.view.onDispose) {\n                    console.warn(\"View.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead.\");\n                    vc.view.onDispose();\n                }\n            });\n            return _this;\n        }\n        return LabelController;\n    }(BladeController));\n\n    /**\n     * @hidden\n     */\n    var InputBindingController = /** @class */ (function (_super) {\n        __extends(InputBindingController, _super);\n        function InputBindingController(doc, config) {\n            var _this = _super.call(this, doc, config) || this;\n            _this.binding = config.binding;\n            return _this;\n        }\n        return InputBindingController;\n    }(LabelController));\n\n    /**\n     * @hidden\n     */\n    var InputBinding = /** @class */ (function () {\n        function InputBinding(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        InputBinding.prototype.read = function () {\n            var targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        };\n        InputBinding.prototype.write_ = function (rawValue) {\n            this.writer(this.target, rawValue);\n        };\n        InputBinding.prototype.onValueChange_ = function (ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        };\n        return InputBinding;\n    }());\n\n    function applyClass(elem, className, active) {\n        if (active) {\n            elem.classList.add(className);\n        }\n        else {\n            elem.classList.remove(className);\n        }\n    }\n    function valueToClassName(elem, className) {\n        return function (value) {\n            applyClass(elem, className, value);\n        };\n    }\n    function bindValueToTextContent(value, elem) {\n        bindValue(value, function (text) {\n            elem.textContent = text !== null && text !== void 0 ? text : '';\n        });\n    }\n\n    var className$o = ClassName('');\n    function valueToModifier(elem, modifier) {\n        return valueToClassName(elem, className$o(undefined, modifier));\n    }\n    var ViewProps = /** @class */ (function (_super) {\n        __extends(ViewProps, _super);\n        function ViewProps(valueMap) {\n            return _super.call(this, valueMap) || this;\n        }\n        ViewProps.create = function (opt_initialValue) {\n            var _a, _b;\n            var initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n            var coreObj = {\n                disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n                disposed: false,\n                hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            };\n            var core = ValueMap.createCore(coreObj);\n            return new ViewProps(core);\n        };\n        ViewProps.prototype.bindClassModifiers = function (elem) {\n            bindValueMap(this, 'disabled', valueToModifier(elem, 'disabled'));\n            bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n        };\n        ViewProps.prototype.bindDisabled = function (target) {\n            bindValueMap(this, 'disabled', function (disabled) {\n                target.disabled = disabled;\n            });\n        };\n        ViewProps.prototype.bindTabIndex = function (elem) {\n            bindValueMap(this, 'disabled', function (disabled) {\n                elem.tabIndex = disabled ? -1 : 0;\n            });\n        };\n        ViewProps.prototype.handleDispose = function (callback) {\n            this.value('disposed').emitter.on('change', function (disposed) {\n                if (disposed) {\n                    callback();\n                }\n            });\n        };\n        return ViewProps;\n    }(ValueMap));\n\n    /**\n     * A constraint to combine multiple constraints.\n     * @template T The type of the value.\n     */\n    var CompositeConstraint = /** @class */ (function () {\n        function CompositeConstraint(constraints) {\n            this.constraints = constraints;\n        }\n        CompositeConstraint.prototype.constrain = function (value) {\n            return this.constraints.reduce(function (result, c) {\n                return c.constrain(result);\n            }, value);\n        };\n        return CompositeConstraint;\n    }());\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            var result = c.constraints.reduce(function (tmpResult, sc) {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * A list constranit.\n     * @template T The type of the value.\n     */\n    var ListConstraint = /** @class */ (function () {\n        function ListConstraint(options) {\n            this.options = options;\n        }\n        ListConstraint.prototype.constrain = function (value) {\n            var opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            var matched = opts.filter(function (item) {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        };\n        return ListConstraint;\n    }());\n\n    /**\n     * A number step range constraint.\n     */\n    var StepConstraint = /** @class */ (function () {\n        function StepConstraint(step) {\n            this.step = step;\n        }\n        StepConstraint.prototype.constrain = function (value) {\n            var r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        };\n        return StepConstraint;\n    }());\n\n    function mapRange(value, start1, end1, start2, end2) {\n        var p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        var text = String(value.toFixed(10));\n        var frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    function normalizeListOptions(options) {\n        if (Array.isArray(options)) {\n            return options;\n        }\n        var items = [];\n        Object.keys(options).forEach(function (text) {\n            items.push({ text: text, value: options[text] });\n        });\n        return items;\n    }\n    /**\n     * Tries to create a list constraint.\n     * @template T The type of the raw value.\n     * @param params The input parameters object.\n     * @return A constraint or null if not found.\n     */\n    function createListConstraint(params) {\n        if ('options' in params && params.options !== undefined) {\n            return new ListConstraint(normalizeListOptions(forceCast(params.options)));\n        }\n        return null;\n    }\n    /**\n     * @hidden\n     */\n    function findListItems(constraint) {\n        var c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        var c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    /**\n     * @hidden\n     */\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        var sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    /**\n     * @hidden\n     */\n    function getBaseStep(constraint) {\n        var step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n    /**\n     * @hidden\n     */\n    function getSuitableDraggingScale(constraint, rawValue) {\n        var _a;\n        var sc = constraint && findConstraint(constraint, StepConstraint);\n        var base = Math.abs((_a = sc === null || sc === void 0 ? void 0 : sc.step) !== null && _a !== void 0 ? _a : rawValue);\n        return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n    }\n    // TODO: Remove polyfill in the next major release\n    function polyfillViewProps(controller, pluginId) {\n        if (!controller.viewProps) {\n            controller.viewProps = ViewProps.create();\n            console.warn(\"Missing controller.viewProps (plugin: '\" + pluginId + \"')\\nThis polyfill will be removed in the next major version.\");\n        }\n    }\n\n    function createInputBindingController(plugin, args) {\n        var initialValue = plugin.accept(args.target.read(), args.params);\n        if (initialValue === null) {\n            return null;\n        }\n        var valueArgs = {\n            target: args.target,\n            initialValue: initialValue,\n            params: args.params,\n        };\n        var reader = plugin.binding.reader(valueArgs);\n        var constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        var value = createValue(reader(initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        var binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        var controller = plugin.controller({\n            constraint: constraint,\n            document: args.document,\n            initialValue: initialValue,\n            params: args.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: args.params.disabled,\n                hidden: args.params.hidden,\n            }),\n        });\n        polyfillViewProps(controller, plugin.id);\n        return new InputBindingController(args.document, {\n            binding: binding,\n            blade: createBlade$1(),\n            props: ValueMap.fromObject({\n                label: args.params.label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    var MonitorBindingController = /** @class */ (function (_super) {\n        __extends(MonitorBindingController, _super);\n        function MonitorBindingController(doc, config) {\n            var _this = _super.call(this, doc, config) || this;\n            _this.binding = config.binding;\n            _this.viewProps.bindDisabled(_this.binding.ticker);\n            _this.viewProps.handleDispose(function () {\n                _this.binding.dispose();\n            });\n            return _this;\n        }\n        return MonitorBindingController;\n    }(LabelController));\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    /**\n     * @hidden\n     */\n    function initializeBuffer(bufferSize) {\n        var buffer = [];\n        fillBuffer(buffer, bufferSize);\n        return createValue(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        var index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    /**\n     * @hidden\n     */\n    function createPushedBuffer(buffer, newValue) {\n        var newBuffer = __spreadArrays(createTrimmedBuffer(buffer), [newValue]);\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    /**\n     * @hidden\n     */\n    var MonitorBinding = /** @class */ (function () {\n        function MonitorBinding(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        MonitorBinding.prototype.dispose = function () {\n            this.ticker.dispose();\n        };\n        MonitorBinding.prototype.read = function () {\n            var targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            var buffer = this.value.rawValue;\n            var newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        };\n        MonitorBinding.prototype.onTick_ = function (_) {\n            this.read();\n        };\n        return MonitorBinding;\n    }());\n\n    /**\n     * @hidden\n     */\n    var IntervalTicker = /** @class */ (function () {\n        function IntervalTicker(doc, interval) {\n            this.disabled_ = false;\n            this.timerId_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            // this.onWindowBlur_ = this.onWindowBlur_.bind(this);\n            // this.onWindowFocus_ = this.onWindowFocus_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            this.interval_ = interval;\n            this.setTimer_();\n            // TODO: Stop on blur?\n            // const win = document.defaultView;\n            // if (win) {\n            //   win.addEventListener('blur', this.onWindowBlur_);\n            //   win.addEventListener('focus', this.onWindowFocus_);\n            // }\n        }\n        Object.defineProperty(IntervalTicker.prototype, \"disabled\", {\n            get: function () {\n                return this.disabled_;\n            },\n            set: function (inactive) {\n                this.disabled_ = inactive;\n                if (this.disabled_) {\n                    this.clearTimer_();\n                }\n                else {\n                    this.setTimer_();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        IntervalTicker.prototype.dispose = function () {\n            this.clearTimer_();\n        };\n        IntervalTicker.prototype.clearTimer_ = function () {\n            if (this.timerId_ === null) {\n                return;\n            }\n            var win = this.doc_.defaultView;\n            if (win) {\n                win.clearInterval(this.timerId_);\n            }\n            this.timerId_ = null;\n        };\n        IntervalTicker.prototype.setTimer_ = function () {\n            this.clearTimer_();\n            if (this.interval_ <= 0) {\n                return;\n            }\n            var win = this.doc_.defaultView;\n            if (win) {\n                this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n            }\n        };\n        IntervalTicker.prototype.onTick_ = function () {\n            if (this.disabled_) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        };\n        return IntervalTicker;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ManualTicker = /** @class */ (function () {\n        function ManualTicker() {\n            this.disabled = false;\n            this.emitter = new Emitter();\n        }\n        ManualTicker.prototype.dispose = function () { };\n        ManualTicker.prototype.tick = function () {\n            if (this.disabled) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        };\n        return ManualTicker;\n    }());\n\n    var Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createMonitorBindingController(plugin, args) {\n        var _a, _b;\n        var initialValue = plugin.accept(args.target.read(), args.params);\n        if (initialValue === null) {\n            return null;\n        }\n        var valueArgs = {\n            target: args.target,\n            initialValue: initialValue,\n            params: args.params,\n        };\n        var reader = plugin.binding.reader(valueArgs);\n        var bufferSize = (_b = (_a = args.params.bufferSize) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(args.params))) !== null && _b !== void 0 ? _b : 1;\n        var binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, args.params.interval),\n            value: initializeBuffer(bufferSize),\n        });\n        var controller = plugin.controller({\n            document: args.document,\n            params: args.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: args.params.disabled,\n                hidden: args.params.hidden,\n            }),\n        });\n        polyfillViewProps(controller, plugin.id);\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            blade: createBlade$1(),\n            props: ValueMap.fromObject({\n                label: args.params.label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    var BladeApi = /** @class */ (function () {\n        function BladeApi(controller) {\n            this.controller_ = controller;\n        }\n        Object.defineProperty(BladeApi.prototype, \"disabled\", {\n            get: function () {\n                return this.controller_.viewProps.get('disabled');\n            },\n            set: function (disabled) {\n                this.controller_.viewProps.set('disabled', disabled);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(BladeApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller_.viewProps.get('hidden');\n            },\n            set: function (hidden) {\n                this.controller_.viewProps.set('hidden', hidden);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        BladeApi.prototype.dispose = function () {\n            this.controller_.viewProps.set('disposed', true);\n        };\n        return BladeApi;\n    }());\n\n    /**\n     * A base class of Tweakpane API events.\n     */\n    var TpEvent = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function TpEvent(target) {\n            this.target = target;\n        }\n        return TpEvent;\n    }());\n    /**\n     * An event class for value changes of input bindings.\n     * @template T The type of the value.\n     */\n    var TpChangeEvent = /** @class */ (function (_super) {\n        __extends(TpChangeEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpChangeEvent(target, value, presetKey) {\n            var _this = _super.call(this, target) || this;\n            _this.value = value;\n            _this.presetKey = presetKey;\n            return _this;\n        }\n        return TpChangeEvent;\n    }(TpEvent));\n    /**\n     * An event class for value updates of monitor bindings.\n     * @template T The type of the value.\n     */\n    var TpUpdateEvent = /** @class */ (function (_super) {\n        __extends(TpUpdateEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpUpdateEvent(target, value, presetKey) {\n            var _this = _super.call(this, target) || this;\n            _this.value = value;\n            _this.presetKey = presetKey;\n            return _this;\n        }\n        return TpUpdateEvent;\n    }(TpEvent));\n    /**\n     * An event class for folder.\n     */\n    var TpFoldEvent = /** @class */ (function (_super) {\n        __extends(TpFoldEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpFoldEvent(target, expanded) {\n            var _this = _super.call(this, target) || this;\n            _this.expanded = expanded;\n            return _this;\n        }\n        return TpFoldEvent;\n    }(TpEvent));\n\n    /**\n     * The API for the input binding between the parameter and the pane.\n     * @template In The internal type.\n     * @template Ex The external type (= parameter object).\n     */\n    var InputBindingApi = /** @class */ (function (_super) {\n        __extends(InputBindingApi, _super);\n        /**\n         * @hidden\n         */\n        function InputBindingApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.onBindingChange_ = _this.onBindingChange_.bind(_this);\n            _this.emitter_ = new Emitter();\n            _this.controller_.binding.emitter.on('change', _this.onBindingChange_);\n            return _this;\n        }\n        InputBindingApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        InputBindingApi.prototype.refresh = function () {\n            this.controller_.binding.read();\n        };\n        InputBindingApi.prototype.onBindingChange_ = function (ev) {\n            var value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        };\n        return InputBindingApi;\n    }(BladeApi));\n\n    /**\n     * The API for the monitor binding between the parameter and the pane.\n     */\n    var MonitorBindingApi = /** @class */ (function (_super) {\n        __extends(MonitorBindingApi, _super);\n        /**\n         * @hidden\n         */\n        function MonitorBindingApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.onBindingUpdate_ = _this.onBindingUpdate_.bind(_this);\n            _this.emitter_ = new Emitter();\n            _this.controller_.binding.emitter.on('update', _this.onBindingUpdate_);\n            return _this;\n        }\n        MonitorBindingApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        MonitorBindingApi.prototype.refresh = function () {\n            this.controller_.binding.read();\n        };\n        MonitorBindingApi.prototype.onBindingUpdate_ = function (ev) {\n            var value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        };\n        return MonitorBindingApi;\n    }(BladeApi));\n\n    function parseObject(value, keyToParserMap) {\n        var keys = Object.keys(keyToParserMap);\n        var result = keys.reduce(function (tmp, key) {\n            var _a;\n            if (tmp === undefined) {\n                return undefined;\n            }\n            var parser = keyToParserMap[key];\n            var result = parser(value[key]);\n            return result.succeeded\n                ? __assign(__assign({}, tmp), (_a = {}, _a[key] = result.value, _a)) : undefined;\n        }, {});\n        return forceCast(result);\n    }\n    function parseArray(value, parseItem) {\n        return value.reduce(function (tmp, item) {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            var result = parseItem(item);\n            if (!result.succeeded || result.value === undefined) {\n                return undefined;\n            }\n            return __spreadArrays(tmp, [result.value]);\n        }, []);\n    }\n    function isObject(value) {\n        if (value === null) {\n            return false;\n        }\n        return typeof value === 'object';\n    }\n    function createParamsParserBuilder(parse) {\n        return function (optional) { return function (v) {\n            if (!optional && v === undefined) {\n                return {\n                    succeeded: false,\n                    value: undefined,\n                };\n            }\n            if (optional && v === undefined) {\n                return {\n                    succeeded: true,\n                    value: undefined,\n                };\n            }\n            var result = parse(v);\n            return result !== undefined\n                ? {\n                    succeeded: true,\n                    value: result,\n                }\n                : {\n                    succeeded: false,\n                    value: undefined,\n                };\n        }; };\n    }\n    function createParamsParserBuilders(optional) {\n        return {\n            custom: function (parse) {\n                return createParamsParserBuilder(parse)(optional);\n            },\n            boolean: createParamsParserBuilder(function (v) {\n                return typeof v === 'boolean' ? v : undefined;\n            })(optional),\n            number: createParamsParserBuilder(function (v) {\n                return typeof v === 'number' ? v : undefined;\n            })(optional),\n            string: createParamsParserBuilder(function (v) {\n                return typeof v === 'string' ? v : undefined;\n            })(optional),\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            function: createParamsParserBuilder(function (v) {\n                // eslint-disable-next-line @typescript-eslint/ban-types\n                return typeof v === 'function' ? v : undefined;\n            })(optional),\n            constant: function (value) {\n                return createParamsParserBuilder(function (v) { return (v === value ? value : undefined); })(optional);\n            },\n            raw: createParamsParserBuilder(function (v) { return v; })(optional),\n            object: function (keyToParserMap) {\n                return createParamsParserBuilder(function (v) {\n                    if (!isObject(v)) {\n                        return undefined;\n                    }\n                    return parseObject(v, keyToParserMap);\n                })(optional);\n            },\n            array: function (itemParser) {\n                return createParamsParserBuilder(function (v) {\n                    if (!Array.isArray(v)) {\n                        return undefined;\n                    }\n                    return parseArray(v, itemParser);\n                })(optional);\n            },\n        };\n    }\n    var ParamsParsers = {\n        optional: createParamsParserBuilders(true),\n        required: createParamsParserBuilders(false),\n    };\n    function parseParams(value, keyToParserMap) {\n        var result = ParamsParsers.required.object(keyToParserMap)(value);\n        return result.succeeded ? result.value : undefined;\n    }\n\n    function createBladeController(plugin, args) {\n        var ac = plugin.accept(args.params);\n        if (!ac) {\n            return null;\n        }\n        var disabled = ParamsParsers.optional.boolean(args.params['disabled'])\n            .value;\n        var hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;\n        return plugin.controller({\n            blade: createBlade$1(),\n            document: args.document,\n            params: forceCast(__assign(__assign({}, ac.params), { disabled: disabled, hidden: hidden })),\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n    }\n\n    function addButtonAsBlade(api, params) {\n        return api.addBlade_v3_(__assign(__assign({}, params), { view: 'button' }));\n    }\n    function addFolderAsBlade(api, params) {\n        return api.addBlade_v3_(__assign(__assign({}, params), { view: 'folder' }));\n    }\n    function addSeparatorAsBlade(api, opt_params) {\n        var params = opt_params || {};\n        return api.addBlade_v3_(__assign(__assign({}, params), { view: 'separator' }));\n    }\n    function addTabAsBlade(api, params) {\n        return api.addBlade_v3_(__assign(__assign({}, params), { view: 'tab' }));\n    }\n\n    /**\n     * @hidden\n     */\n    var RackLikeApi = /** @class */ (function (_super) {\n        __extends(RackLikeApi, _super);\n        function RackLikeApi(controller, rackApi) {\n            var _this = _super.call(this, controller) || this;\n            _this.rackApi_ = rackApi;\n            return _this;\n        }\n        return RackLikeApi;\n    }(BladeApi));\n\n    /**\n     * A binding target.\n     */\n    var BindingTarget = /** @class */ (function () {\n        function BindingTarget(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        BindingTarget.isBindable = function (obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        };\n        Object.defineProperty(BindingTarget.prototype, \"key\", {\n            /**\n             * The property name of the binding.\n             */\n            get: function () {\n                return this.key_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(BindingTarget.prototype, \"presetKey\", {\n            /**\n             * The key used for presets.\n             */\n            get: function () {\n                return this.presetKey_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Read a bound value.\n         * @return A bound value\n         */\n        BindingTarget.prototype.read = function () {\n            return this.obj_[this.key_];\n        };\n        /**\n         * Write a value.\n         * @param value The value to write to the target.\n         */\n        BindingTarget.prototype.write = function (value) {\n            this.obj_[this.key_] = value;\n        };\n        /**\n         * Write a value to the target property.\n         * @param name The property name.\n         * @param value The value to write to the target.\n         */\n        BindingTarget.prototype.writeProperty = function (name, value) {\n            var valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        };\n        return BindingTarget;\n    }());\n\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n    function registerPlugin(r) {\n        if (r.type === 'blade') {\n            Plugins.blades.unshift(r.plugin);\n        }\n        else if (r.type === 'input') {\n            Plugins.inputs.unshift(r.plugin);\n        }\n        else if (r.type === 'monitor') {\n            Plugins.monitors.unshift(r.plugin);\n        }\n    }\n\n    var NestedOrderedSet = /** @class */ (function () {\n        function NestedOrderedSet(extract) {\n            this.emitter = new Emitter();\n            this.items_ = [];\n            this.cache_ = new Set();\n            this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n            this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n            this.extract_ = extract;\n        }\n        Object.defineProperty(NestedOrderedSet.prototype, \"items\", {\n            get: function () {\n                return this.items_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        NestedOrderedSet.prototype.allItems = function () {\n            return Array.from(this.cache_);\n        };\n        NestedOrderedSet.prototype.find = function (callback) {\n            for (var _i = 0, _a = this.allItems(); _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (callback(item)) {\n                    return item;\n                }\n            }\n            return null;\n        };\n        NestedOrderedSet.prototype.includes = function (item) {\n            return this.cache_.has(item);\n        };\n        NestedOrderedSet.prototype.add = function (item, opt_index) {\n            var _this = this;\n            if (this.includes(item)) {\n                throw TpError.shouldNeverHappen();\n            }\n            var index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.cache_.add(item);\n            var subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.on('add', this.onSubListAdd_);\n                subList.emitter.on('remove', this.onSubListRemove_);\n                subList.allItems().forEach(function (item) {\n                    _this.cache_.add(item);\n                });\n            }\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        };\n        NestedOrderedSet.prototype.remove = function (item) {\n            var index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.cache_.delete(item);\n            var subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.off('add', this.onSubListAdd_);\n                subList.emitter.off('remove', this.onSubListRemove_);\n            }\n            this.emitter.emit('remove', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        };\n        NestedOrderedSet.prototype.onSubListAdd_ = function (ev) {\n            this.cache_.add(ev.item);\n            this.emitter.emit('add', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        };\n        NestedOrderedSet.prototype.onSubListRemove_ = function (ev) {\n            this.cache_.delete(ev.item);\n            this.emitter.emit('remove', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        };\n        return NestedOrderedSet;\n    }());\n\n    function findSubBladeApiSet(api) {\n        if (api instanceof RackApi) {\n            return api['apiSet_'];\n        }\n        if (api instanceof RackLikeApi) {\n            return api['rackApi_']['apiSet_'];\n        }\n        return null;\n    }\n    function getApiByController(apiSet, controller) {\n        var api = apiSet.find(function (api) { return api.controller_ === controller; });\n        /* istanbul ignore next */\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n    /**\n     * @hidden\n     */\n    var RackApi = /** @class */ (function (_super) {\n        __extends(RackApi, _super);\n        /**\n         * @hidden\n         */\n        function RackApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.onRackAdd_ = _this.onRackAdd_.bind(_this);\n            _this.onRackRemove_ = _this.onRackRemove_.bind(_this);\n            _this.onRackInputChange_ = _this.onRackInputChange_.bind(_this);\n            _this.onRackMonitorUpdate_ = _this.onRackMonitorUpdate_.bind(_this);\n            _this.emitter_ = new Emitter();\n            _this.apiSet_ = new NestedOrderedSet(findSubBladeApiSet);\n            var rack = _this.controller_.rack;\n            rack.emitter.on('add', _this.onRackAdd_);\n            rack.emitter.on('remove', _this.onRackRemove_);\n            rack.emitter.on('inputchange', _this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', _this.onRackMonitorUpdate_);\n            rack.children.forEach(function (bc) {\n                _this.setUpApi_(bc);\n            });\n            return _this;\n        }\n        Object.defineProperty(RackApi.prototype, \"children\", {\n            get: function () {\n                var _this = this;\n                return this.controller_.rack.children.map(function (bc) {\n                    return getApiByController(_this.apiSet_, bc);\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        RackApi.prototype.addInput = function (object, key, opt_params) {\n            var params = opt_params || {};\n            var doc = this.controller_.view.element.ownerDocument;\n            var bc = createInput(doc, createBindingTarget(object, key, params.presetKey), params);\n            var api = new InputBindingApi(bc);\n            return this.add(api, params.index);\n        };\n        RackApi.prototype.addMonitor = function (object, key, opt_params) {\n            var params = opt_params || {};\n            var doc = this.controller_.view.element.ownerDocument;\n            var bc = createMonitor(doc, createBindingTarget(object, key), params);\n            var api = new MonitorBindingApi(bc);\n            return forceCast(this.add(api, params.index));\n        };\n        RackApi.prototype.addFolder = function (params) {\n            return addFolderAsBlade(this, params);\n        };\n        RackApi.prototype.addButton = function (params) {\n            return addButtonAsBlade(this, params);\n        };\n        RackApi.prototype.addSeparator = function (opt_params) {\n            return addSeparatorAsBlade(this, opt_params);\n        };\n        RackApi.prototype.addTab = function (params) {\n            return addTabAsBlade(this, params);\n        };\n        RackApi.prototype.add = function (api, opt_index) {\n            this.controller_.rack.add(api.controller_, opt_index);\n            // Replace generated API with specified one\n            var gapi = this.apiSet_.find(function (a) { return a.controller_ === api.controller_; });\n            if (gapi) {\n                this.apiSet_.remove(gapi);\n            }\n            this.apiSet_.add(api);\n            return api;\n        };\n        RackApi.prototype.remove = function (api) {\n            this.controller_.rack.remove(api.controller_);\n        };\n        RackApi.prototype.addBlade_v3_ = function (opt_params) {\n            var params = opt_params !== null && opt_params !== void 0 ? opt_params : {};\n            var doc = this.controller_.view.element.ownerDocument;\n            var bc = createBlade(doc, params);\n            var api = createBladeApi(bc);\n            return this.add(api, params.index);\n        };\n        RackApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        RackApi.prototype.setUpApi_ = function (bc) {\n            var api = this.apiSet_.find(function (api) { return api.controller_ === bc; });\n            if (!api) {\n                // Auto-fill missing API\n                this.apiSet_.add(createBladeApi(bc));\n            }\n        };\n        RackApi.prototype.onRackAdd_ = function (ev) {\n            this.setUpApi_(ev.bladeController);\n        };\n        RackApi.prototype.onRackRemove_ = function (ev) {\n            if (ev.isRoot) {\n                var api = getApiByController(this.apiSet_, ev.bladeController);\n                this.apiSet_.remove(api);\n            }\n        };\n        RackApi.prototype.onRackInputChange_ = function (ev) {\n            var api = getApiByController(this.apiSet_, ev.bindingController);\n            var binding = ev.bindingController.binding;\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        };\n        RackApi.prototype.onRackMonitorUpdate_ = function (ev) {\n            var api = getApiByController(this.apiSet_, ev.bindingController);\n            var binding = ev.bindingController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        };\n        return RackApi;\n    }(BladeApi));\n\n    /**\n     * @hidden\n     */\n    var PlainView = /** @class */ (function () {\n        function PlainView(doc, config) {\n            var className = ClassName(config.viewName);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n        }\n        return PlainView;\n    }());\n\n    var RackLikeController = /** @class */ (function (_super) {\n        __extends(RackLikeController, _super);\n        function RackLikeController(config) {\n            var _this = _super.call(this, {\n                blade: config.blade,\n                view: config.view,\n                viewProps: config.rackController.viewProps,\n            }) || this;\n            _this.rackController = config.rackController;\n            return _this;\n        }\n        return RackLikeController;\n    }(BladeController));\n\n    function findInputBindingController(bcs, b) {\n        for (var i = 0; i < bcs.length; i++) {\n            var bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (var i = 0; i < bcs.length; i++) {\n            var bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findSubRack(bc) {\n        if (bc instanceof RackController) {\n            return bc.rack;\n        }\n        if (bc instanceof RackLikeController) {\n            return bc.rackController.rack;\n        }\n        return null;\n    }\n    function findSubBladeControllerSet(bc) {\n        var rack = findSubRack(bc);\n        return rack ? rack['bcSet_'] : null;\n    }\n    /**\n     * @hidden\n     */\n    var BladeRack = /** @class */ (function () {\n        function BladeRack(blade) {\n            var _a;\n            this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n            this.onSetAdd_ = this.onSetAdd_.bind(this);\n            this.onSetRemove_ = this.onSetRemove_.bind(this);\n            this.onChildDispose_ = this.onChildDispose_.bind(this);\n            this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n            this.onChildInputChange_ = this.onChildInputChange_.bind(this);\n            this.onChildMonitorUpdate_ = this.onChildMonitorUpdate_.bind(this);\n            this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n            this.onDescendantLayout_ = this.onDescendantLayout_.bind(this);\n            this.onDescendantInputChange_ = this.onDescendantInputChange_.bind(this);\n            this.onDescendaantMonitorUpdate_ = this.onDescendaantMonitorUpdate_.bind(this);\n            this.emitter = new Emitter();\n            this.blade_ = blade !== null && blade !== void 0 ? blade : null;\n            (_a = this.blade_) === null || _a === void 0 ? void 0 : _a.value('positions').emitter.on('change', this.onBladePositionsChange_);\n            this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n            this.bcSet_.emitter.on('add', this.onSetAdd_);\n            this.bcSet_.emitter.on('remove', this.onSetRemove_);\n        }\n        Object.defineProperty(BladeRack.prototype, \"children\", {\n            get: function () {\n                return this.bcSet_.items;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        BladeRack.prototype.add = function (bc, opt_index) {\n            if (bc.parent) {\n                bc.parent.remove(bc);\n            }\n            bc['parent_'] = this;\n            this.bcSet_.add(bc, opt_index);\n        };\n        BladeRack.prototype.remove = function (bc) {\n            bc['parent_'] = null;\n            this.bcSet_.remove(bc);\n        };\n        BladeRack.prototype.find = function (controllerClass) {\n            return forceCast(this.bcSet_.allItems().filter(function (bc) {\n                return bc instanceof controllerClass;\n            }));\n        };\n        BladeRack.prototype.onSetAdd_ = function (ev) {\n            this.updatePositions_();\n            var isRoot = ev.target === ev.root;\n            this.emitter.emit('add', {\n                bladeController: ev.item,\n                index: ev.index,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            var bc = ev.item;\n            bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n            bc.blade\n                .value('positions')\n                .emitter.on('change', this.onChildPositionsChange_);\n            bc.viewProps.handleDispose(this.onChildDispose_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onChildMonitorUpdate_);\n            }\n            else {\n                var rack = findSubRack(bc);\n                if (rack) {\n                    var emitter = rack.emitter;\n                    emitter.on('layout', this.onDescendantLayout_);\n                    emitter.on('inputchange', this.onDescendantInputChange_);\n                    emitter.on('monitorupdate', this.onDescendaantMonitorUpdate_);\n                }\n            }\n        };\n        BladeRack.prototype.onSetRemove_ = function (ev) {\n            this.updatePositions_();\n            var isRoot = ev.target === ev.root;\n            this.emitter.emit('remove', {\n                bladeController: ev.item,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            var bc = ev.item;\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.off('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.off('update', this.onChildMonitorUpdate_);\n            }\n            else {\n                var rack = findSubRack(bc);\n                if (rack) {\n                    var emitter = rack.emitter;\n                    emitter.off('layout', this.onDescendantLayout_);\n                    emitter.off('inputchange', this.onDescendantInputChange_);\n                    emitter.off('monitorupdate', this.onDescendaantMonitorUpdate_);\n                }\n            }\n        };\n        BladeRack.prototype.updatePositions_ = function () {\n            var _this = this;\n            var visibleItems = this.bcSet_.items.filter(function (bc) { return !bc.viewProps.get('hidden'); });\n            var firstVisibleItem = visibleItems[0];\n            var lastVisibleItem = visibleItems[visibleItems.length - 1];\n            this.bcSet_.items.forEach(function (bc) {\n                var ps = [];\n                if (bc === firstVisibleItem) {\n                    ps.push('first');\n                    if (!_this.blade_ ||\n                        _this.blade_.get('positions').includes('veryfirst')) {\n                        ps.push('veryfirst');\n                    }\n                }\n                if (bc === lastVisibleItem) {\n                    ps.push('last');\n                    if (!_this.blade_ || _this.blade_.get('positions').includes('verylast')) {\n                        ps.push('verylast');\n                    }\n                }\n                bc.blade.set('positions', ps);\n            });\n        };\n        BladeRack.prototype.onChildPositionsChange_ = function () {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onChildViewPropsChange_ = function (_ev) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onChildDispose_ = function () {\n            var _this = this;\n            var disposedUcs = this.bcSet_.items.filter(function (bc) {\n                return bc.viewProps.get('disposed');\n            });\n            disposedUcs.forEach(function (bc) {\n                _this.bcSet_.remove(bc);\n            });\n        };\n        BladeRack.prototype.onChildInputChange_ = function (ev) {\n            var ibc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            /* istanbul ignore next */\n            if (!ibc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bindingController: ibc,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onChildMonitorUpdate_ = function (ev) {\n            var mbc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            /* istanbul ignore next */\n            if (!mbc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('monitorupdate', {\n                bindingController: mbc,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onDescendantLayout_ = function (_) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onDescendantInputChange_ = function (ev) {\n            this.emitter.emit('inputchange', {\n                bindingController: ev.bindingController,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onDescendaantMonitorUpdate_ = function (ev) {\n            this.emitter.emit('monitorupdate', {\n                bindingController: ev.bindingController,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onBladePositionsChange_ = function () {\n            this.updatePositions_();\n        };\n        return BladeRack;\n    }());\n\n    /**\n     * @hidden\n     */\n    var RackController = /** @class */ (function (_super) {\n        __extends(RackController, _super);\n        function RackController(doc, config) {\n            var _this = _super.call(this, __assign(__assign({}, config), { view: new PlainView(doc, {\n                    viewName: 'brk',\n                    viewProps: config.viewProps,\n                }) })) || this;\n            _this.onRackAdd_ = _this.onRackAdd_.bind(_this);\n            _this.onRackRemove_ = _this.onRackRemove_.bind(_this);\n            var rack = new BladeRack(config.root ? undefined : config.blade);\n            rack.emitter.on('add', _this.onRackAdd_);\n            rack.emitter.on('remove', _this.onRackRemove_);\n            _this.rack = rack;\n            _this.viewProps.handleDispose(function () {\n                for (var i = _this.rack.children.length - 1; i >= 0; i--) {\n                    var bc = _this.rack.children[i];\n                    bc.viewProps.set('disposed', true);\n                }\n            });\n            return _this;\n        }\n        RackController.prototype.onRackAdd_ = function (ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            insertElementAt(this.view.element, ev.bladeController.view.element, ev.index);\n        };\n        RackController.prototype.onRackRemove_ = function (ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            removeElement(ev.bladeController.view.element);\n        };\n        return RackController;\n    }(BladeController));\n\n    var Plugins = {\n        blades: [],\n        inputs: [],\n        monitors: [],\n    };\n    function getAllPlugins() {\n        return __spreadArrays(Plugins.blades, Plugins.inputs, Plugins.monitors);\n    }\n    /**\n     * @hidden\n     */\n    function createInput(document, target, params) {\n        var initialValue = target.read();\n        if (isEmpty(initialValue)) {\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        var bc = Plugins.inputs.reduce(function (result, plugin) {\n            return result ||\n                createInputBindingController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                });\n        }, null);\n        if (bc) {\n            return bc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n    /**\n     * @hidden\n     */\n    function createMonitor(document, target, params) {\n        var bc = Plugins.monitors.reduce(function (result, plugin) {\n            return result ||\n                createMonitorBindingController(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                });\n        }, null);\n        if (bc) {\n            return bc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n    function createBlade(document, params) {\n        var bc = Plugins.blades.reduce(function (result, plugin) {\n            return result ||\n                createBladeController(plugin, {\n                    document: document,\n                    params: params,\n                });\n        }, null);\n        if (!bc) {\n            throw new TpError({\n                type: 'nomatchingview',\n                context: {\n                    params: params,\n                },\n            });\n        }\n        return bc;\n    }\n    function createBladeApi(bc) {\n        if (bc instanceof InputBindingController) {\n            return new InputBindingApi(bc);\n        }\n        if (bc instanceof MonitorBindingController) {\n            return new MonitorBindingApi(bc);\n        }\n        if (bc instanceof RackController) {\n            return new RackApi(bc);\n        }\n        var api = Plugins.blades.reduce(function (result, plugin) {\n            return result || plugin.api(bc);\n        }, null);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n\n    var className$n = ClassName('lst');\n    /**\n     * @hidden\n     */\n    var ListView = /** @class */ (function () {\n        function ListView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.props_ = config.props;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$n());\n            config.viewProps.bindClassModifiers(this.element);\n            var selectElem = doc.createElement('select');\n            selectElem.classList.add(className$n('s'));\n            bindValueMap(this.props_, 'options', function (opts) {\n                removeChildElements(selectElem);\n                opts.forEach(function (item, index) {\n                    var optionElem = doc.createElement('option');\n                    optionElem.dataset.index = String(index);\n                    optionElem.textContent = item.text;\n                    optionElem.value = String(item.value);\n                    selectElem.appendChild(optionElem);\n                });\n            });\n            config.viewProps.bindDisabled(selectElem);\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            var markElem = doc.createElement('div');\n            markElem.classList.add(className$n('m'));\n            markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value_ = config.value;\n            this.update_();\n        }\n        ListView.prototype.update_ = function () {\n            this.selectElement.value = String(this.value_.rawValue);\n        };\n        ListView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return ListView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ListController = /** @class */ (function () {\n        function ListController(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ListView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        ListController.prototype.onSelectChange_ = function (e) {\n            var selectElem = forceCast(e.currentTarget);\n            var optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            var itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.props.get('options')[itemIndex].value;\n        };\n        return ListController;\n    }());\n\n    var ListApi = /** @class */ (function (_super) {\n        __extends(ListApi, _super);\n        function ListApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.emitter_ = new Emitter();\n            _this.controller_.valueController.value.emitter.on('change', function (ev) {\n                _this.emitter_.emit('change', {\n                    event: new TpChangeEvent(_this, ev.rawValue),\n                });\n            });\n            return _this;\n        }\n        Object.defineProperty(ListApi.prototype, \"label\", {\n            get: function () {\n                return this.controller_.props.get('label');\n            },\n            set: function (label) {\n                this.controller_.props.set('label', label);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ListApi.prototype, \"options\", {\n            get: function () {\n                return this.controller_.valueController.props.get('options');\n            },\n            set: function (options) {\n                this.controller_.valueController.props.set('options', options);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ListApi.prototype, \"value\", {\n            get: function () {\n                return this.controller_.valueController.value.rawValue;\n            },\n            set: function (value) {\n                this.controller_.valueController.value.rawValue = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ListApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        return ListApi;\n    }(BladeApi));\n\n    function parseOptions(value) {\n        var p = ParamsParsers;\n        if (Array.isArray(value)) {\n            return p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            }))(value).value;\n        }\n        if (typeof value === 'object') {\n            return p.required.raw(value)\n                .value;\n        }\n        return undefined;\n    }\n    var ListBladePlugin = (function () {\n        return {\n            id: 'list',\n            accept: function (params) {\n                var p = ParamsParsers;\n                var result = parseParams(params, {\n                    options: p.required.custom(parseOptions),\n                    value: p.required.raw,\n                    view: p.required.constant('list'),\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller: function (args) {\n                var ic = new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: normalizeListOptions(args.params.options),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabelController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api: function (controller) {\n                if (!(controller instanceof LabelController)) {\n                    return null;\n                }\n                if (!(controller.valueController instanceof ListController)) {\n                    return null;\n                }\n                return new ListApi(controller);\n            },\n        };\n    })();\n\n    var ButtonApi = /** @class */ (function (_super) {\n        __extends(ButtonApi, _super);\n        function ButtonApi() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(ButtonApi.prototype, \"disabled\", {\n            get: function () {\n                return this.controller_.viewProps.get('disabled');\n            },\n            set: function (disabled) {\n                this.controller_.viewProps.set('disabled', disabled);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ButtonApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller_.viewProps.get('hidden');\n            },\n            set: function (hidden) {\n                this.controller_.viewProps.set('hidden', hidden);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ButtonApi.prototype, \"label\", {\n            get: function () {\n                return this.controller_.props.get('label');\n            },\n            set: function (label) {\n                this.controller_.props.set('label', label);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ButtonApi.prototype, \"title\", {\n            get: function () {\n                var _a;\n                return (_a = this.controller_.valueController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n            },\n            set: function (title) {\n                this.controller_.valueController.props.set('title', title);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ButtonApi.prototype.on = function (eventName, handler) {\n            var emitter = this.controller_.valueController.emitter;\n            // TODO: Type-safe\n            emitter.on(eventName, forceCast(handler.bind(this)));\n            return this;\n        };\n        return ButtonApi;\n    }(BladeApi));\n\n    var className$m = ClassName('btn');\n    /**\n     * @hidden\n     */\n    var ButtonView = /** @class */ (function () {\n        function ButtonView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$m());\n            config.viewProps.bindClassModifiers(this.element);\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$m('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            bindValueToTextContent(config.props.value('title'), buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n        }\n        return ButtonView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ButtonController = /** @class */ (function () {\n        function ButtonController(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new ButtonView(doc, {\n                props: this.props,\n                viewProps: this.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        ButtonController.prototype.onClick_ = function () {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        };\n        return ButtonController;\n    }());\n\n    var ButtonBladePlugin = {\n        id: 'button',\n        accept: function (params) {\n            var p = ParamsParsers;\n            var result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('button'),\n                label: p.optional.string,\n            });\n            return result ? { params: result } : null;\n        },\n        controller: function (args) {\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: new ButtonController(args.document, {\n                    props: ValueMap.fromObject({\n                        title: args.params.title,\n                    }),\n                    viewProps: args.viewProps,\n                }),\n            });\n        },\n        api: function (controller) {\n            if (!(controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(controller.valueController instanceof ButtonController)) {\n                return null;\n            }\n            return new ButtonApi(controller);\n        },\n    };\n\n    var FolderApi = /** @class */ (function (_super) {\n        __extends(FolderApi, _super);\n        /**\n         * @hidden\n         */\n        function FolderApi(controller) {\n            var _this = _super.call(this, controller, new RackApi(controller.rackController)) || this;\n            _this.emitter_ = new Emitter();\n            _this.controller_.foldable\n                .value('expanded')\n                .emitter.on('change', function (ev) {\n                _this.emitter_.emit('fold', {\n                    event: new TpFoldEvent(_this, ev.sender.rawValue),\n                });\n            });\n            _this.rackApi_.on('change', function (ev) {\n                _this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            _this.rackApi_.on('update', function (ev) {\n                _this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            return _this;\n        }\n        Object.defineProperty(FolderApi.prototype, \"expanded\", {\n            get: function () {\n                return this.controller_.foldable.get('expanded');\n            },\n            set: function (expanded) {\n                this.controller_.foldable.set('expanded', expanded);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FolderApi.prototype, \"title\", {\n            get: function () {\n                return this.controller_.props.get('title');\n            },\n            set: function (title) {\n                this.controller_.props.set('title', title);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FolderApi.prototype, \"children\", {\n            get: function () {\n                return this.rackApi_.children;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FolderApi.prototype.addInput = function (object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        };\n        FolderApi.prototype.addMonitor = function (object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        };\n        FolderApi.prototype.addFolder = function (params) {\n            return this.rackApi_.addFolder(params);\n        };\n        FolderApi.prototype.addButton = function (params) {\n            return this.rackApi_.addButton(params);\n        };\n        FolderApi.prototype.addSeparator = function (opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        };\n        FolderApi.prototype.addTab = function (params) {\n            return this.rackApi_.addTab(params);\n        };\n        FolderApi.prototype.add = function (api, opt_index) {\n            return this.rackApi_.add(api, opt_index);\n        };\n        FolderApi.prototype.remove = function (api) {\n            this.rackApi_.remove(api);\n        };\n        FolderApi.prototype.addBlade_v3_ = function (opt_params) {\n            return this.rackApi_.addBlade_v3_(opt_params);\n        };\n        /**\n         * Adds a global event listener. It handles all events of child inputs/monitors.\n         * @param eventName The event name to listen.\n         * @return The API object itself.\n         */\n        FolderApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        return FolderApi;\n    }(RackLikeApi));\n\n    function createFoldable(expanded) {\n        return ValueMap.fromObject({\n            expanded: expanded,\n            expandedHeight: null,\n            shouldFixHeight: false,\n            temporaryExpanded: null,\n        });\n    }\n    function computeExpandedFolderHeight(folder, containerElement) {\n        var height = 0;\n        disableTransitionTemporarily(containerElement, function () {\n            // Expand folder temporarily\n            folder.set('expandedHeight', null);\n            folder.set('temporaryExpanded', true);\n            forceReflow(containerElement);\n            // Compute height\n            height = containerElement.clientHeight;\n            // Restore expanded\n            folder.set('temporaryExpanded', null);\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n    function getFoldableStyleExpanded(foldable) {\n        var _a;\n        return (_a = foldable.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : foldable.get('expanded');\n    }\n    function getFoldableStyleHeight(foldable) {\n        if (!getFoldableStyleExpanded(foldable)) {\n            return '0';\n        }\n        var exHeight = foldable.get('expandedHeight');\n        if (foldable.get('shouldFixHeight') && !isEmpty(exHeight)) {\n            return exHeight + \"px\";\n        }\n        return 'auto';\n    }\n    function applyHeight(foldable, elem) {\n        elem.style.height = getFoldableStyleHeight(foldable);\n    }\n    function bindFoldable(foldable, elem) {\n        foldable.value('expanded').emitter.on('beforechange', function () {\n            if (isEmpty(foldable.get('expandedHeight'))) {\n                foldable.set('expandedHeight', computeExpandedFolderHeight(foldable, elem));\n            }\n            foldable.set('shouldFixHeight', true);\n            forceReflow(elem);\n        });\n        foldable.emitter.on('change', function () {\n            applyHeight(foldable, elem);\n        });\n        applyHeight(foldable, elem);\n        elem.addEventListener('transitionend', function (ev) {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            foldable.set('shouldFixHeight', false);\n            foldable.set('expandedHeight', null);\n        });\n    }\n\n    var bladeContainerClassName = ClassName('cnt');\n\n    /**\n     * @hidden\n     */\n    var FolderView = /** @class */ (function () {\n        function FolderView(doc, config) {\n            var _this = this;\n            this.onFoldableExpandedChange_ = this.onFoldableExpandedChange_.bind(this);\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            this.foldable_ = config.foldable;\n            bindValueMap(this.foldable_, 'expanded', this.onFoldableExpandedChange_);\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(this.className_('b'));\n            bindValueMap(config.props, 'title', function (title) {\n                if (isEmpty(title)) {\n                    _this.element.classList.add(_this.className_(undefined, 'not'));\n                }\n                else {\n                    _this.element.classList.remove(_this.className_(undefined, 'not'));\n                }\n            });\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            var titleElem = doc.createElement('div');\n            titleElem.classList.add(this.className_('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n            var markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.buttonElement.appendChild(markElem);\n            var containerElem = config.containerElement;\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n        }\n        FolderView.prototype.onFoldableExpandedChange_ = function () {\n            var expanded = getFoldableStyleExpanded(this.foldable_);\n            var expandedClass = this.className_(undefined, 'expanded');\n            if (expanded) {\n                this.element.classList.add(expandedClass);\n            }\n            else {\n                this.element.classList.remove(expandedClass);\n            }\n        };\n        return FolderView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var FolderController = /** @class */ (function (_super) {\n        __extends(FolderController, _super);\n        function FolderController(doc, config) {\n            var _a;\n            var _this = this;\n            var foldable = createFoldable((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            var rc = new RackController(doc, {\n                blade: config.blade,\n                root: config.root,\n                viewProps: config.viewProps,\n            });\n            _this = _super.call(this, __assign(__assign({}, config), { rackController: rc, view: new FolderView(doc, {\n                    containerElement: rc.view.element,\n                    foldable: foldable,\n                    props: config.props,\n                    viewName: config.root ? 'rot' : undefined,\n                    viewProps: config.viewProps,\n                }) })) || this;\n            _this.onTitleClick_ = _this.onTitleClick_.bind(_this);\n            _this.props = config.props;\n            _this.foldable = foldable;\n            bindFoldable(_this.foldable, _this.view.containerElement);\n            _this.view.buttonElement.addEventListener('click', _this.onTitleClick_);\n            return _this;\n        }\n        Object.defineProperty(FolderController.prototype, \"document\", {\n            get: function () {\n                return this.view.element.ownerDocument;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FolderController.prototype.onTitleClick_ = function () {\n            this.foldable.set('expanded', !this.foldable.get('expanded'));\n        };\n        return FolderController;\n    }(RackLikeController));\n\n    var FolderBladePlugin = {\n        id: 'button',\n        accept: function (params) {\n            var p = ParamsParsers;\n            var result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('folder'),\n                expanded: p.optional.boolean,\n            });\n            return result ? { params: result } : null;\n        },\n        controller: function (args) {\n            return new FolderController(args.document, {\n                blade: args.blade,\n                expanded: args.params.expanded,\n                props: ValueMap.fromObject({\n                    title: args.params.title,\n                }),\n                viewProps: args.viewProps,\n            });\n        },\n        api: function (controller) {\n            if (!(controller instanceof FolderController)) {\n                return null;\n            }\n            return new FolderApi(controller);\n        },\n    };\n\n    var SeparatorApi = /** @class */ (function (_super) {\n        __extends(SeparatorApi, _super);\n        function SeparatorApi() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return SeparatorApi;\n    }(BladeApi));\n\n    var className$l = ClassName('spr');\n    /**\n     * @hidden\n     */\n    var SeparatorView = /** @class */ (function () {\n        function SeparatorView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            config.viewProps.bindClassModifiers(this.element);\n            var hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$l('r'));\n            this.element.appendChild(hrElem);\n        }\n        return SeparatorView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SeparatorController = /** @class */ (function (_super) {\n        __extends(SeparatorController, _super);\n        function SeparatorController(doc, config) {\n            return _super.call(this, __assign(__assign({}, config), { view: new SeparatorView(doc, {\n                    viewProps: config.viewProps,\n                }) })) || this;\n        }\n        return SeparatorController;\n    }(BladeController));\n\n    var SeparatorBladePlugin = {\n        id: 'separator',\n        accept: function (params) {\n            var p = ParamsParsers;\n            var result = parseParams(params, {\n                view: p.required.constant('separator'),\n            });\n            return result ? { params: result } : null;\n        },\n        controller: function (args) {\n            return new SeparatorController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n        },\n        api: function (controller) {\n            if (!(controller instanceof SeparatorController)) {\n                return null;\n            }\n            return new SeparatorApi(controller);\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce(function (result, target) {\n            var _a;\n            return Object.assign(result, (_a = {},\n                _a[target.presetKey] = target.read(),\n                _a));\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach(function (target) {\n            var value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    var RootApi = /** @class */ (function (_super) {\n        __extends(RootApi, _super);\n        /**\n         * @hidden\n         */\n        function RootApi(controller) {\n            return _super.call(this, controller) || this;\n        }\n        /**\n         * Registers a plugin.\n         * @param r The configuration of the plugin.\n         */\n        RootApi.registerPlugin = function (r) {\n            registerPlugin(r);\n        };\n        Object.defineProperty(RootApi.prototype, \"element\", {\n            get: function () {\n                return this.controller_.view.element;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        RootApi.prototype.importPreset = function (preset) {\n            var targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map(function (ibc) {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        };\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        RootApi.prototype.exportPreset = function () {\n            var targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map(function (ibc) {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        };\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        RootApi.prototype.refresh = function () {\n            // Force-read all input bindings\n            this.controller_.rackController.rack\n                .find(InputBindingController)\n                .forEach(function (ibc) {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller_.rackController.rack\n                .find(MonitorBindingController)\n                .forEach(function (mbc) {\n                mbc.binding.read();\n            });\n        };\n        return RootApi;\n    }(FolderApi));\n    function registerDefaultPlugins$1() {\n        [ButtonBladePlugin, FolderBladePlugin, SeparatorBladePlugin].forEach(function (p) {\n            registerPlugin({\n                type: 'blade',\n                plugin: p,\n            });\n        });\n    }\n    registerDefaultPlugins$1();\n\n    var RootController = /** @class */ (function (_super) {\n        __extends(RootController, _super);\n        function RootController(doc, config) {\n            return _super.call(this, doc, {\n                expanded: config.expanded,\n                blade: config.blade,\n                props: config.props,\n                root: true,\n                viewProps: config.viewProps,\n            }) || this;\n        }\n        return RootController;\n    }(FolderController));\n\n    var NumberLiteralNode = /** @class */ (function () {\n        function NumberLiteralNode(text) {\n            this.text = text;\n        }\n        NumberLiteralNode.prototype.evaluate = function () {\n            return Number(this.text);\n        };\n        NumberLiteralNode.prototype.toString = function () {\n            return this.text;\n        };\n        return NumberLiteralNode;\n    }());\n    var BINARY_OPERATION_MAP = {\n        '**': function (v1, v2) { return Math.pow(v1, v2); },\n        '*': function (v1, v2) { return v1 * v2; },\n        '/': function (v1, v2) { return v1 / v2; },\n        '%': function (v1, v2) { return v1 % v2; },\n        '+': function (v1, v2) { return v1 + v2; },\n        '-': function (v1, v2) { return v1 - v2; },\n        '<<': function (v1, v2) { return v1 << v2; },\n        '>>': function (v1, v2) { return v1 >> v2; },\n        '>>>': function (v1, v2) { return v1 >>> v2; },\n        '&': function (v1, v2) { return v1 & v2; },\n        '^': function (v1, v2) { return v1 ^ v2; },\n        '|': function (v1, v2) { return v1 | v2; },\n    };\n    var BinaryOperationNode = /** @class */ (function () {\n        function BinaryOperationNode(operator, left, right) {\n            this.left = left;\n            this.operator = operator;\n            this.right = right;\n        }\n        BinaryOperationNode.prototype.evaluate = function () {\n            var op = BINARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(\"unexpected binary operator: '\" + this.operator);\n            }\n            return op(this.left.evaluate(), this.right.evaluate());\n        };\n        BinaryOperationNode.prototype.toString = function () {\n            return [\n                'b(',\n                this.left.toString(),\n                this.operator,\n                this.right.toString(),\n                ')',\n            ].join(' ');\n        };\n        return BinaryOperationNode;\n    }());\n    var UNARY_OPERATION_MAP = {\n        '+': function (v) { return v; },\n        '-': function (v) { return -v; },\n        '~': function (v) { return ~v; },\n    };\n    var UnaryOperationNode = /** @class */ (function () {\n        function UnaryOperationNode(operator, expr) {\n            this.operator = operator;\n            this.expression = expr;\n        }\n        UnaryOperationNode.prototype.evaluate = function () {\n            var op = UNARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(\"unexpected unary operator: '\" + this.operator);\n            }\n            return op(this.expression.evaluate());\n        };\n        UnaryOperationNode.prototype.toString = function () {\n            return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n        };\n        return UnaryOperationNode;\n    }());\n\n    function combineReader(parsers) {\n        return function (text, cursor) {\n            for (var i = 0; i < parsers.length; i++) {\n                var result = parsers[i](text, cursor);\n                if (result !== '') {\n                    return result;\n                }\n            }\n            return '';\n        };\n    }\n    function readWhitespace(text, cursor) {\n        var _a;\n        var m = text.substr(cursor).match(/^\\s+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readNonZeroDigit(text, cursor) {\n        var ch = text.substr(cursor, 1);\n        return ch.match(/^[1-9]$/) ? ch : '';\n    }\n    function readDecimalDigits(text, cursor) {\n        var _a;\n        var m = text.substr(cursor).match(/^[0-9]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readSignedInteger(text, cursor) {\n        var ds = readDecimalDigits(text, cursor);\n        if (ds !== '') {\n            return ds;\n        }\n        var sign = text.substr(cursor, 1);\n        cursor += 1;\n        if (sign !== '-' && sign !== '+') {\n            return '';\n        }\n        var sds = readDecimalDigits(text, cursor);\n        if (sds === '') {\n            return '';\n        }\n        return sign + sds;\n    }\n    function readExponentPart(text, cursor) {\n        var e = text.substr(cursor, 1);\n        cursor += 1;\n        if (e.toLowerCase() !== 'e') {\n            return '';\n        }\n        var si = readSignedInteger(text, cursor);\n        if (si === '') {\n            return '';\n        }\n        return e + si;\n    }\n    function readDecimalIntegerLiteral(text, cursor) {\n        var ch = text.substr(cursor, 1);\n        if (ch === '0') {\n            return ch;\n        }\n        var nzd = readNonZeroDigit(text, cursor);\n        cursor += nzd.length;\n        if (nzd === '') {\n            return '';\n        }\n        return nzd + readDecimalDigits(text, cursor);\n    }\n    function readDecimalLiteral1(text, cursor) {\n        var dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        var dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        var dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        return dil + dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral2(text, cursor) {\n        var dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        var dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        if (dds === '') {\n            return '';\n        }\n        return dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral3(text, cursor) {\n        var dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        return dil + readExponentPart(text, cursor);\n    }\n    var readDecimalLiteral = combineReader([\n        readDecimalLiteral1,\n        readDecimalLiteral2,\n        readDecimalLiteral3,\n    ]);\n    function parseBinaryDigits(text, cursor) {\n        var _a;\n        var m = text.substr(cursor).match(/^[01]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readBinaryIntegerLiteral(text, cursor) {\n        var prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0b') {\n            return '';\n        }\n        var bds = parseBinaryDigits(text, cursor);\n        if (bds === '') {\n            return '';\n        }\n        return prefix + bds;\n    }\n    function readOctalDigits(text, cursor) {\n        var _a;\n        var m = text.substr(cursor).match(/^[0-7]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readOctalIntegerLiteral(text, cursor) {\n        var prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0o') {\n            return '';\n        }\n        var ods = readOctalDigits(text, cursor);\n        if (ods === '') {\n            return '';\n        }\n        return prefix + ods;\n    }\n    function readHexDigits(text, cursor) {\n        var _a;\n        var m = text.substr(cursor).match(/^[0-9a-f]+/i);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readHexIntegerLiteral(text, cursor) {\n        var prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0x') {\n            return '';\n        }\n        var hds = readHexDigits(text, cursor);\n        if (hds === '') {\n            return '';\n        }\n        return prefix + hds;\n    }\n    var readNonDecimalIntegerLiteral = combineReader([\n        readBinaryIntegerLiteral,\n        readOctalIntegerLiteral,\n        readHexIntegerLiteral,\n    ]);\n    var readNumericLiteral = combineReader([\n        readNonDecimalIntegerLiteral,\n        readDecimalLiteral,\n    ]);\n\n    function parseLiteral(text, cursor) {\n        var num = readNumericLiteral(text, cursor);\n        cursor += num.length;\n        if (num === '') {\n            return null;\n        }\n        return {\n            evaluable: new NumberLiteralNode(num),\n            cursor: cursor,\n        };\n    }\n    function parseParenthesizedExpression(text, cursor) {\n        var op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '(') {\n            return null;\n        }\n        var expr = parseExpression(text, cursor);\n        if (!expr) {\n            return null;\n        }\n        cursor = expr.cursor;\n        cursor += readWhitespace(text, cursor).length;\n        var cl = text.substr(cursor, 1);\n        cursor += cl.length;\n        if (cl !== ')') {\n            return null;\n        }\n        return {\n            evaluable: expr.evaluable,\n            cursor: cursor,\n        };\n    }\n    function parsePrimaryExpression(text, cursor) {\n        return (parseLiteral(text, cursor) || parseParenthesizedExpression(text, cursor));\n    }\n    function parseUnaryExpression(text, cursor) {\n        var expr = parsePrimaryExpression(text, cursor);\n        if (expr) {\n            return expr;\n        }\n        var op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '+' && op !== '-' && op !== '~') {\n            return null;\n        }\n        var num = parseUnaryExpression(text, cursor);\n        if (!num) {\n            return null;\n        }\n        cursor = num.cursor;\n        return {\n            cursor: cursor,\n            evaluable: new UnaryOperationNode(op, num.evaluable),\n        };\n    }\n    function readBinaryOperator(ops, text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        var op = ops.filter(function (op) { return text.startsWith(op, cursor); })[0];\n        if (!op) {\n            return null;\n        }\n        cursor += op.length;\n        cursor += readWhitespace(text, cursor).length;\n        return {\n            cursor: cursor,\n            operator: op,\n        };\n    }\n    function createBinaryOperationExpressionParser(exprParser, ops) {\n        return function (text, cursor) {\n            var firstExpr = exprParser(text, cursor);\n            if (!firstExpr) {\n                return null;\n            }\n            cursor = firstExpr.cursor;\n            var expr = firstExpr.evaluable;\n            for (;;) {\n                var op = readBinaryOperator(ops, text, cursor);\n                if (!op) {\n                    break;\n                }\n                cursor = op.cursor;\n                var nextExpr = exprParser(text, cursor);\n                if (!nextExpr) {\n                    return null;\n                }\n                cursor = nextExpr.cursor;\n                expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n            }\n            return expr\n                ? {\n                    cursor: cursor,\n                    evaluable: expr,\n                }\n                : null;\n        };\n    }\n    var parseBinaryOperationExpression = [\n        ['**'],\n        ['*', '/', '%'],\n        ['+', '-'],\n        ['<<', '>>>', '>>'],\n        ['&'],\n        ['^'],\n        ['|'],\n    ].reduce(function (parser, ops) {\n        return createBinaryOperationExpressionParser(parser, ops);\n    }, parseUnaryExpression);\n    function parseExpression(text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        return parseBinaryOperationExpression(text, cursor);\n    }\n    /**\n     * Parse ECMAScript expression with numeric literals.\n     * https://262.ecma-international.org/\n     * @param text The string to be parsed.\n     * @return A parsing result, or null if failed.\n     */\n    function parseEcmaNumberExpression(text) {\n        var expr = parseExpression(text, 0);\n        if (!expr) {\n            return null;\n        }\n        var cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n        if (cursor !== text.length) {\n            return null;\n        }\n        return expr.evaluable;\n    }\n\n    /**\n     * @hidden\n     */\n    function parseNumber(text) {\n        var _a;\n        var r = parseEcmaNumberExpression(text);\n        return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * @hidden\n     */\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            var pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    /**\n     * @hidden\n     */\n    function numberToString(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function createNumberFormatter(digits) {\n        return function (value) {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    var className$k = ClassName('sldtxt');\n    /**\n     * @hidden\n     */\n    var SliderTextView = /** @class */ (function () {\n        function SliderTextView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k());\n            var sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$k('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$k('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n        return SliderTextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    function getStepForKey(baseStep, keys) {\n        var step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    /**\n     * @hidden\n     */\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowDown',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowUp',\n        };\n    }\n    /**\n     * @hidden\n     */\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowLeft',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowRight',\n        };\n    }\n    /**\n     * @hidden\n     */\n    function isVerticalArrowKey(key) {\n        return key === 'ArrowUp' || key === 'ArrowDown';\n    }\n    /**\n     * @hidden\n     */\n    function isArrowKey(key) {\n        return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n    }\n\n    function computeOffset(ev, elem) {\n        // NOTE: OffsetX/Y should be computed from page and window properties to capture mouse events\n        var win = elem.ownerDocument.defaultView;\n        var rect = elem.getBoundingClientRect();\n        return {\n            x: ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            y: ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        };\n    }\n    /**\n     * A utility class to handle both mouse and touch events.\n     */\n    var PointerHandler = /** @class */ (function () {\n        function PointerHandler(element) {\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.elem_ = element;\n            this.emitter = new Emitter();\n            var doc = this.elem_.ownerDocument;\n            if (supportsTouch(doc)) {\n                element.addEventListener('touchstart', this.onTouchStart_);\n                element.addEventListener('touchmove', this.onTouchMove_);\n                element.addEventListener('touchend', this.onTouchEnd_);\n            }\n            else {\n                element.addEventListener('mousedown', this.onMouseDown_);\n            }\n        }\n        PointerHandler.prototype.computePosition_ = function (offset) {\n            var rect = this.elem_.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                point: offset\n                    ? {\n                        x: offset.x,\n                        y: offset.y,\n                    }\n                    : null,\n            };\n        };\n        PointerHandler.prototype.onMouseDown_ = function (ev) {\n            var _a;\n            // Prevent native text selection\n            ev.preventDefault();\n            (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            var doc = this.elem_.ownerDocument;\n            doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        PointerHandler.prototype.onDocumentMouseMove_ = function (ev) {\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        PointerHandler.prototype.onDocumentMouseUp_ = function (ev) {\n            var doc = this.elem_.ownerDocument;\n            doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        PointerHandler.prototype.onTouchStart_ = function (ev) {\n            // Prevent native page scroll\n            ev.preventDefault();\n            var touch = ev.targetTouches.item(0);\n            var rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        PointerHandler.prototype.onTouchMove_ = function (ev) {\n            var touch = ev.targetTouches.item(0);\n            var rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        PointerHandler.prototype.onTouchEnd_ = function (ev) {\n            var touch = ev.targetTouches.item(0);\n            var rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        };\n        return PointerHandler;\n    }());\n\n    var className$j = ClassName('txt');\n    var NumberTextView = /** @class */ (function () {\n        function NumberTextView(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j(), className$j(undefined, 'num'));\n            if (config.arrayPosition) {\n                this.element.classList.add(className$j(undefined, config.arrayPosition));\n            }\n            config.viewProps.bindClassModifiers(this.element);\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$j('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n            this.dragging_ = config.dragging;\n            this.dragging_.emitter.on('change', this.onDraggingChange_);\n            this.element.classList.add(className$j());\n            this.inputElement.classList.add(className$j('i'));\n            var knobElem = doc.createElement('div');\n            knobElem.classList.add(className$j('k'));\n            this.element.appendChild(knobElem);\n            this.knobElement = knobElem;\n            var guideElem = doc.createElementNS(SVG_NS, 'svg');\n            guideElem.classList.add(className$j('g'));\n            this.knobElement.appendChild(guideElem);\n            var bodyElem = doc.createElementNS(SVG_NS, 'path');\n            bodyElem.classList.add(className$j('gb'));\n            guideElem.appendChild(bodyElem);\n            this.guideBodyElem_ = bodyElem;\n            var headElem = doc.createElementNS(SVG_NS, 'path');\n            headElem.classList.add(className$j('gh'));\n            guideElem.appendChild(headElem);\n            this.guideHeadElem_ = headElem;\n            var tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(ClassName('tt')());\n            this.knobElement.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.refresh();\n        }\n        NumberTextView.prototype.onDraggingChange_ = function (ev) {\n            if (ev.rawValue === null) {\n                this.element.classList.remove(className$j(undefined, 'drg'));\n                return;\n            }\n            this.element.classList.add(className$j(undefined, 'drg'));\n            var x = ev.rawValue / this.props_.get('draggingScale');\n            var aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n            var adx = constrainRange(-aox, -4, +4);\n            this.guideHeadElem_.setAttributeNS(null, 'd', [\"M \" + (aox + adx) + \",0 L\" + aox + \",4 L\" + (aox + adx) + \",8\", \"M \" + x + \",-1 L\" + x + \",9\"].join(' '));\n            this.guideBodyElem_.setAttributeNS(null, 'd', \"M 0,4 L\" + x + \",4\");\n            var formatter = this.props_.get('formatter');\n            this.tooltipElem_.textContent = formatter(this.value.rawValue);\n            this.tooltipElem_.style.left = x + \"px\";\n        };\n        NumberTextView.prototype.refresh = function () {\n            var formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value.rawValue);\n        };\n        NumberTextView.prototype.onChange_ = function () {\n            this.refresh();\n        };\n        return NumberTextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var NumberTextController = /** @class */ (function () {\n        function NumberTextController(doc, config) {\n            this.originRawValue_ = 0;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.dragging_ = createValue(null);\n            this.view = new NumberTextView(doc, {\n                arrayPosition: config.arrayPosition,\n                dragging: this.dragging_,\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n            this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n            var ph = new PointerHandler(this.view.knobElement);\n            ph.emitter.on('down', this.onPointerDown_);\n            ph.emitter.on('move', this.onPointerMove_);\n            ph.emitter.on('up', this.onPointerUp_);\n        }\n        NumberTextController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var value = inputElem.value;\n            var parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        };\n        NumberTextController.prototype.onInputKeyDown_ = function (e) {\n            var step = getStepForKey(this.baseStep_, getVerticalStepKeys(e));\n            if (step !== 0) {\n                this.value.rawValue += step;\n            }\n        };\n        NumberTextController.prototype.onPointerDown_ = function () {\n            this.originRawValue_ = this.value.rawValue;\n            this.dragging_.rawValue = 0;\n        };\n        NumberTextController.prototype.onPointerMove_ = function (ev) {\n            if (!ev.data.point) {\n                return;\n            }\n            var dx = ev.data.point.x - ev.data.bounds.width / 2;\n            this.value.rawValue =\n                this.originRawValue_ + dx * this.props.get('draggingScale');\n            this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n        };\n        NumberTextController.prototype.onPointerUp_ = function () {\n            this.dragging_.rawValue = null;\n        };\n        return NumberTextController;\n    }());\n\n    var className$i = ClassName('sld');\n    /**\n     * @hidden\n     */\n    var SliderView = /** @class */ (function () {\n        function SliderView(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            config.viewProps.bindClassModifiers(this.element);\n            var trackElem = doc.createElement('div');\n            trackElem.classList.add(className$i('t'));\n            config.viewProps.bindTabIndex(trackElem);\n            this.element.appendChild(trackElem);\n            this.trackElement = trackElem;\n            var knobElem = doc.createElement('div');\n            knobElem.classList.add(className$i('k'));\n            this.trackElement.appendChild(knobElem);\n            this.knobElement = knobElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        SliderView.prototype.update_ = function () {\n            var p = constrainRange(mapRange(this.value.rawValue, this.props_.get('minValue'), this.props_.get('maxValue'), 0, 100), 0, 100);\n            this.knobElement.style.width = p + \"%\";\n        };\n        SliderView.prototype.onChange_ = function () {\n            this.update_();\n        };\n        return SliderView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SliderController = /** @class */ (function () {\n        function SliderController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPoint_ = this.onPoint_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.props = config.props;\n            this.view = new SliderView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.trackElement);\n            this.ptHandler_.emitter.on('down', this.onPoint_);\n            this.ptHandler_.emitter.on('move', this.onPoint_);\n            this.ptHandler_.emitter.on('up', this.onPoint_);\n            this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        }\n        SliderController.prototype.handlePointerEvent_ = function (d) {\n            if (!d.point) {\n                return;\n            }\n            this.value.rawValue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('minValue'), this.props.get('maxValue'));\n        };\n        SliderController.prototype.onPoint_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SliderController.prototype.onKeyDown_ = function (ev) {\n            this.value.rawValue += getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n        };\n        return SliderController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SliderTextController = /** @class */ (function () {\n        function SliderTextController(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.sliderC_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                props: config.sliderProps,\n                value: config.value,\n                viewProps: this.viewProps,\n            });\n            this.textC_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                parser: config.parser,\n                props: config.textProps,\n                value: config.value,\n                viewProps: config.viewProps,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        Object.defineProperty(SliderTextController.prototype, \"sliderController\", {\n            get: function () {\n                return this.sliderC_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(SliderTextController.prototype, \"textController\", {\n            get: function () {\n                return this.textC_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return SliderTextController;\n    }());\n\n    var SliderApi = /** @class */ (function (_super) {\n        __extends(SliderApi, _super);\n        function SliderApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.emitter_ = new Emitter();\n            _this.controller_.valueController.value.emitter.on('change', function (ev) {\n                _this.emitter_.emit('change', {\n                    event: new TpChangeEvent(_this, ev.rawValue),\n                });\n            });\n            return _this;\n        }\n        Object.defineProperty(SliderApi.prototype, \"label\", {\n            get: function () {\n                return this.controller_.props.get('label');\n            },\n            set: function (label) {\n                this.controller_.props.set('label', label);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(SliderApi.prototype, \"maxValue\", {\n            get: function () {\n                return this.controller_.valueController.sliderController.props.get('maxValue');\n            },\n            set: function (maxValue) {\n                this.controller_.valueController.sliderController.props.set('maxValue', maxValue);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(SliderApi.prototype, \"minValue\", {\n            get: function () {\n                return this.controller_.valueController.sliderController.props.get('minValue');\n            },\n            set: function (minValue) {\n                this.controller_.valueController.sliderController.props.set('minValue', minValue);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(SliderApi.prototype, \"value\", {\n            get: function () {\n                return this.controller_.valueController.value.rawValue;\n            },\n            set: function (value) {\n                this.controller_.valueController.value.rawValue = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        SliderApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        return SliderApi;\n    }(BladeApi));\n\n    var SliderBladePlugin = {\n        id: 'slider',\n        accept: function (params) {\n            var p = ParamsParsers;\n            var result = parseParams(params, {\n                max: p.required.number,\n                min: p.required.number,\n                view: p.required.constant('slider'),\n                format: p.optional.function,\n                label: p.optional.string,\n                value: p.optional.number,\n            });\n            return result ? { params: result } : null;\n        },\n        controller: function (args) {\n            var _a, _b;\n            var v = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n            var vc = new SliderTextController(args.document, {\n                baseStep: 1,\n                parser: parseNumber,\n                sliderProps: ValueMap.fromObject({\n                    maxValue: args.params.max,\n                    minValue: args.params.min,\n                }),\n                textProps: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(undefined, v),\n                    formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n                }),\n                value: createValue(v),\n                viewProps: args.viewProps,\n            });\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: vc,\n            });\n        },\n        api: function (controller) {\n            if (!(controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(controller.valueController instanceof SliderTextController)) {\n                return null;\n            }\n            return new SliderApi(controller);\n        },\n    };\n\n    var className$h = ClassName('tbi');\n    /**\n     * @hidden\n     */\n    var TabItemView = /** @class */ (function () {\n        function TabItemView(doc, config) {\n            var _this = this;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValueMap(config.props, 'selected', function (selected) {\n                if (selected) {\n                    _this.element.classList.add(className$h(undefined, 'sel'));\n                }\n                else {\n                    _this.element.classList.remove(className$h(undefined, 'sel'));\n                }\n            });\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$h('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            var titleElem = doc.createElement('div');\n            titleElem.classList.add(className$h('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n        }\n        return TabItemView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var TabItemController = /** @class */ (function () {\n        function TabItemController(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new TabItemView(doc, {\n                props: config.props,\n                viewProps: config.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        TabItemController.prototype.onClick_ = function () {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        };\n        return TabItemController;\n    }());\n\n    var TabPageController = /** @class */ (function () {\n        function TabPageController(doc, config) {\n            var _this = this;\n            this.onItemClick_ = this.onItemClick_.bind(this);\n            this.ic_ = new TabItemController(doc, {\n                props: config.itemProps,\n                viewProps: ViewProps.create(),\n            });\n            this.ic_.emitter.on('click', this.onItemClick_);\n            this.cc_ = new RackController(doc, {\n                blade: createBlade$1(),\n                viewProps: ViewProps.create(),\n            });\n            this.props = config.props;\n            bindValueMap(this.props, 'selected', function (selected) {\n                _this.itemController.props.set('selected', selected);\n                _this.contentController.viewProps.set('hidden', !selected);\n            });\n        }\n        Object.defineProperty(TabPageController.prototype, \"itemController\", {\n            get: function () {\n                return this.ic_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TabPageController.prototype, \"contentController\", {\n            get: function () {\n                return this.cc_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TabPageController.prototype.onItemClick_ = function () {\n            this.props.set('selected', true);\n        };\n        return TabPageController;\n    }());\n\n    var TabPageApi = /** @class */ (function () {\n        function TabPageApi(controller, contentRackApi) {\n            this.controller_ = controller;\n            this.rackApi_ = contentRackApi;\n        }\n        Object.defineProperty(TabPageApi.prototype, \"title\", {\n            get: function () {\n                var _a;\n                return (_a = this.controller_.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n            },\n            set: function (title) {\n                this.controller_.itemController.props.set('title', title);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TabPageApi.prototype, \"selected\", {\n            get: function () {\n                return this.controller_.props.get('selected');\n            },\n            set: function (selected) {\n                this.controller_.props.set('selected', selected);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TabPageApi.prototype, \"children\", {\n            get: function () {\n                return this.rackApi_.children;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TabPageApi.prototype.addButton = function (params) {\n            return this.rackApi_.addButton(params);\n        };\n        TabPageApi.prototype.addFolder = function (params) {\n            return this.rackApi_.addFolder(params);\n        };\n        TabPageApi.prototype.addSeparator = function (opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        };\n        TabPageApi.prototype.addTab = function (params) {\n            return this.rackApi_.addTab(params);\n        };\n        TabPageApi.prototype.add = function (api, opt_index) {\n            this.rackApi_.add(api, opt_index);\n        };\n        TabPageApi.prototype.remove = function (api) {\n            this.rackApi_.remove(api);\n        };\n        TabPageApi.prototype.addInput = function (object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        };\n        TabPageApi.prototype.addMonitor = function (object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        };\n        TabPageApi.prototype.addBlade_v3_ = function (opt_params) {\n            return this.rackApi_.addBlade_v3_(opt_params);\n        };\n        return TabPageApi;\n    }());\n\n    var TabApi = /** @class */ (function (_super) {\n        __extends(TabApi, _super);\n        /**\n         * @hidden\n         */\n        function TabApi(controller) {\n            var _this = _super.call(this, controller, new RackApi(controller.rackController)) || this;\n            _this.onPageAdd_ = _this.onPageAdd_.bind(_this);\n            _this.onPageRemove_ = _this.onPageRemove_.bind(_this);\n            _this.emitter_ = new Emitter();\n            _this.pageApiMap_ = new Map();\n            _this.rackApi_.on('change', function (ev) {\n                _this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            _this.rackApi_.on('update', function (ev) {\n                _this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            _this.controller_.pageSet.emitter.on('add', _this.onPageAdd_);\n            _this.controller_.pageSet.emitter.on('remove', _this.onPageRemove_);\n            _this.controller_.pageSet.items.forEach(function (pc) {\n                _this.setUpPageApi_(pc);\n            });\n            return _this;\n        }\n        Object.defineProperty(TabApi.prototype, \"pages\", {\n            get: function () {\n                var _this = this;\n                return this.controller_.pageSet.items.map(function (pc) {\n                    var api = _this.pageApiMap_.get(pc);\n                    /* istanbul ignore next */\n                    if (!api) {\n                        throw TpError.shouldNeverHappen();\n                    }\n                    return api;\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TabApi.prototype.addPage = function (params) {\n            var doc = this.controller_.view.element.ownerDocument;\n            var pc = new TabPageController(doc, {\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: params.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n            });\n            this.controller_.add(pc, params.index);\n            var api = this.pageApiMap_.get(pc);\n            /* istanbul ignore next */\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        };\n        TabApi.prototype.removePage = function (index) {\n            this.controller_.remove(index);\n        };\n        TabApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        TabApi.prototype.setUpPageApi_ = function (pc) {\n            var rackApi = this.rackApi_['apiSet_'].find(function (api) { return api.controller_ === pc.contentController; });\n            if (!rackApi) {\n                throw TpError.shouldNeverHappen();\n            }\n            var api = new TabPageApi(pc, rackApi);\n            this.pageApiMap_.set(pc, api);\n        };\n        TabApi.prototype.onPageAdd_ = function (ev) {\n            this.setUpPageApi_(ev.item);\n        };\n        TabApi.prototype.onPageRemove_ = function (ev) {\n            var api = this.pageApiMap_.get(ev.item);\n            /* istanbul ignore next */\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.pageApiMap_.delete(ev.item);\n        };\n        return TabApi;\n    }(RackLikeApi));\n\n    var className$g = ClassName('tab');\n    /**\n     * @hidden\n     */\n    var TabView = /** @class */ (function () {\n        function TabView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.empty, valueToClassName(this.element, className$g(undefined, 'nop')));\n            var itemsElem = doc.createElement('div');\n            itemsElem.classList.add(className$g('i'));\n            this.element.appendChild(itemsElem);\n            this.itemsElement = itemsElem;\n            var contentsElem = config.contentsElement;\n            contentsElem.classList.add(className$g('c'));\n            this.element.appendChild(contentsElem);\n            this.contentsElement = contentsElem;\n        }\n        return TabView;\n    }());\n\n    var TabController = /** @class */ (function (_super) {\n        __extends(TabController, _super);\n        function TabController(doc, config) {\n            var _this = this;\n            var cr = new RackController(doc, {\n                blade: config.blade,\n                viewProps: config.viewProps,\n            });\n            var empty = createValue(true);\n            _this = _super.call(this, {\n                blade: config.blade,\n                rackController: cr,\n                view: new TabView(doc, {\n                    contentsElement: cr.view.element,\n                    empty: empty,\n                    viewProps: config.viewProps,\n                }),\n            }) || this;\n            _this.onPageAdd_ = _this.onPageAdd_.bind(_this);\n            _this.onPageRemove_ = _this.onPageRemove_.bind(_this);\n            _this.onPageSelectedChange_ = _this.onPageSelectedChange_.bind(_this);\n            _this.pageSet_ = new NestedOrderedSet(function () { return null; });\n            _this.pageSet_.emitter.on('add', _this.onPageAdd_);\n            _this.pageSet_.emitter.on('remove', _this.onPageRemove_);\n            _this.empty_ = empty;\n            _this.applyPages_();\n            return _this;\n        }\n        Object.defineProperty(TabController.prototype, \"pageSet\", {\n            get: function () {\n                return this.pageSet_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TabController.prototype.add = function (pc, opt_index) {\n            this.pageSet_.add(pc, opt_index !== null && opt_index !== void 0 ? opt_index : this.pageSet_.items.length);\n        };\n        TabController.prototype.remove = function (index) {\n            this.pageSet_.remove(this.pageSet_.items[index]);\n        };\n        TabController.prototype.applyPages_ = function () {\n            this.keepSelection_();\n            this.empty_.rawValue = this.pageSet_.items.length === 0;\n        };\n        TabController.prototype.onPageAdd_ = function (ev) {\n            var pc = ev.item;\n            insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n            this.rackController.rack.add(pc.contentController, ev.index);\n            pc.props.value('selected').emitter.on('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        };\n        TabController.prototype.onPageRemove_ = function (ev) {\n            var pc = ev.item;\n            removeElement(pc.itemController.view.element);\n            this.rackController.rack.remove(pc.contentController);\n            pc.props\n                .value('selected')\n                .emitter.off('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        };\n        TabController.prototype.keepSelection_ = function () {\n            if (this.pageSet_.items.length === 0) {\n                return;\n            }\n            var firstSelIndex = this.pageSet_.items.findIndex(function (pc) {\n                return pc.props.get('selected');\n            });\n            if (firstSelIndex < 0) {\n                this.pageSet_.items.forEach(function (pc, i) {\n                    pc.props.set('selected', i === 0);\n                });\n            }\n            else {\n                this.pageSet_.items.forEach(function (pc, i) {\n                    pc.props.set('selected', i === firstSelIndex);\n                });\n            }\n        };\n        TabController.prototype.onPageSelectedChange_ = function (ev) {\n            if (ev.rawValue) {\n                var index_1 = this.pageSet_.items.findIndex(function (pc) { return pc.props.value('selected') === ev.sender; });\n                this.pageSet_.items.forEach(function (pc, i) {\n                    pc.props.set('selected', i === index_1);\n                });\n            }\n            else {\n                this.keepSelection_();\n            }\n        };\n        return TabController;\n    }(RackLikeController));\n\n    var TabBladePlugin = {\n        id: 'tab',\n        accept: function (params) {\n            var p = ParamsParsers;\n            var result = parseParams(params, {\n                pages: p.required.array(p.required.object({ title: p.required.string })),\n                view: p.required.constant('tab'),\n            });\n            if (!result || result.pages.length === 0) {\n                return null;\n            }\n            return { params: result };\n        },\n        controller: function (args) {\n            var c = new TabController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n            args.params.pages.forEach(function (p) {\n                var pc = new TabPageController(args.document, {\n                    itemProps: ValueMap.fromObject({\n                        selected: false,\n                        title: p.title,\n                    }),\n                    props: ValueMap.fromObject({\n                        selected: false,\n                    }),\n                });\n                c.add(pc);\n            });\n            return c;\n        },\n        api: function (controller) {\n            if (!(controller instanceof TabController)) {\n                return null;\n            }\n            return new TabApi(controller);\n        },\n    };\n\n    var className$f = ClassName('txt');\n    /**\n     * @hidden\n     */\n    var TextView = /** @class */ (function () {\n        function TextView(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            config.viewProps.bindClassModifiers(this.element);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$f('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value_ = config.value;\n            this.refresh();\n        }\n        TextView.prototype.refresh = function () {\n            var formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value_.rawValue);\n        };\n        TextView.prototype.onChange_ = function () {\n            this.refresh();\n        };\n        return TextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var TextController = /** @class */ (function () {\n        function TextController(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new TextView(doc, {\n                props: config.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        TextController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var value = inputElem.value;\n            var parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        };\n        return TextController;\n    }());\n\n    var TextApi = /** @class */ (function (_super) {\n        __extends(TextApi, _super);\n        function TextApi(controller) {\n            var _this = _super.call(this, controller) || this;\n            _this.emitter_ = new Emitter();\n            _this.controller_.valueController.value.emitter.on('change', function (ev) {\n                _this.emitter_.emit('change', {\n                    event: new TpChangeEvent(_this, ev.rawValue),\n                });\n            });\n            return _this;\n        }\n        Object.defineProperty(TextApi.prototype, \"label\", {\n            get: function () {\n                return this.controller_.props.get('label');\n            },\n            set: function (label) {\n                this.controller_.props.set('label', label);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TextApi.prototype, \"formatter\", {\n            get: function () {\n                return this.controller_.valueController.props.get('formatter');\n            },\n            set: function (formatter) {\n                this.controller_.valueController.props.set('formatter', formatter);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TextApi.prototype, \"value\", {\n            get: function () {\n                return this.controller_.valueController.value.rawValue;\n            },\n            set: function (value) {\n                this.controller_.valueController.value.rawValue = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TextApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        return TextApi;\n    }(BladeApi));\n\n    var TextBladePlugin = (function () {\n        return {\n            id: 'text',\n            accept: function (params) {\n                var p = ParamsParsers;\n                var result = parseParams(params, {\n                    parse: p.required.function,\n                    value: p.required.raw,\n                    view: p.required.constant('text'),\n                    format: p.optional.function,\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller: function (args) {\n                var _a;\n                var ic = new TextController(args.document, {\n                    parser: args.params.parse,\n                    props: ValueMap.fromObject({\n                        formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : (function (v) { return String(v); }),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabelController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api: function (controller) {\n                if (!(controller instanceof LabelController)) {\n                    return null;\n                }\n                if (!(controller.valueController instanceof TextController)) {\n                    return null;\n                }\n                return new TextApi(controller);\n            },\n        };\n    })();\n\n    /**\n     * @hidden\n     */\n    function boolToString(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    /**\n     * @hidden\n     */\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    /**\n     * Writes the primitive value.\n     * @param target The target to be written.\n     * @param value The value to write.\n     */\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    var className$e = ClassName('ckb');\n    /**\n     * @hidden\n     */\n    var CheckboxView = /** @class */ (function () {\n        function CheckboxView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            config.viewProps.bindClassModifiers(this.element);\n            var labelElem = doc.createElement('label');\n            labelElem.classList.add(className$e('l'));\n            this.element.appendChild(labelElem);\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$e('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.viewProps.bindDisabled(this.inputElement);\n            var wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$e('w'));\n            labelElem.appendChild(wrapperElem);\n            var markElem = createSvgIconElement(doc, 'check');\n            wrapperElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        CheckboxView.prototype.update_ = function () {\n            this.inputElement.checked = this.value.rawValue;\n        };\n        CheckboxView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return CheckboxView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var CheckboxController = /** @class */ (function () {\n        function CheckboxController(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        CheckboxController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n        };\n        return CheckboxController;\n    }());\n\n    function createConstraint$5(params) {\n        var constraints = [];\n        var lc = createListConstraint(params);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    /**\n     * @hidden\n     */\n    var BooleanInputPlugin = {\n        id: 'input-bool',\n        accept: function (value) { return (typeof value === 'boolean' ? value : null); },\n        binding: {\n            reader: function (_args) { return boolFromUnknown; },\n            constraint: function (args) { return createConstraint$5(args.params); },\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (args) {\n            var _a;\n            var doc = args.document;\n            var value = args.value;\n            var c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new CheckboxController(doc, {\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    var className$d = ClassName('pop');\n    /**\n     * @hidden\n     */\n    var PopupView = /** @class */ (function () {\n        function PopupView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.shows, valueToClassName(this.element, className$d(undefined, 'v')));\n        }\n        return PopupView;\n    }());\n\n    var PopupController = /** @class */ (function () {\n        function PopupController(doc, config) {\n            this.shows = createValue(false);\n            this.viewProps = config.viewProps;\n            this.view = new PopupView(doc, {\n                shows: this.shows,\n                viewProps: this.viewProps,\n            });\n        }\n        return PopupController;\n    }());\n\n    /**\n     * Synchronizes two values.\n     */\n    function connectValues(_a) {\n        var primary = _a.primary, secondary = _a.secondary, forward = _a.forward, backward = _a.backward;\n        // Prevents an event firing loop\n        // e.g.\n        // primary changed\n        // -> applies changes to secondary\n        // -> secondary changed\n        // -> applies changes to primary\n        // -> ...\n        var changing = false;\n        function preventFeedback(callback) {\n            if (changing) {\n                return;\n            }\n            changing = true;\n            callback();\n            changing = false;\n        }\n        primary.emitter.on('change', function () {\n            preventFeedback(function () {\n                secondary.rawValue = forward(primary, secondary);\n            });\n        });\n        secondary.emitter.on('change', function () {\n            preventFeedback(function () {\n                primary.rawValue = backward(primary, secondary);\n            });\n            // Re-update secondary value\n            // to apply change from constraint of primary value\n            preventFeedback(function () {\n                secondary.rawValue = forward(primary, secondary);\n            });\n        });\n        preventFeedback(function () {\n            secondary.rawValue = forward(primary, secondary);\n        });\n    }\n\n    var className$c = ClassName('col');\n    /**\n     * @hidden\n     */\n    var ColorView = /** @class */ (function () {\n        function ColorView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            bindValue(config.expanded, valueToClassName(this.element, className$c(undefined, 'expanded')));\n            var headElem = doc.createElement('div');\n            headElem.classList.add(className$c('h'));\n            this.element.appendChild(headElem);\n            var swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$c('s'));\n            headElem.appendChild(swatchElem);\n            this.swatchElement = swatchElem;\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$c('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                var pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$c('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n        return ColorView;\n    }());\n\n    /**\n     * A number range constraint.\n     */\n    var RangeConstraint = /** @class */ (function () {\n        function RangeConstraint(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        RangeConstraint.prototype.constrain = function (value) {\n            var result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        };\n        return RangeConstraint;\n    }());\n\n    /**\n     * Converts RGB color components into HSL (cylindrical, used in CSS).\n     */\n    function rgbToHsl(r, g, b) {\n        var rp = constrainRange(r / 255, 0, 1);\n        var gp = constrainRange(g / 255, 0, 1);\n        var bp = constrainRange(b / 255, 0, 1);\n        var cmax = Math.max(rp, gp, bp);\n        var cmin = Math.min(rp, gp, bp);\n        var c = cmax - cmin;\n        var h = 0;\n        var s = 0;\n        var l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = c / (1 - Math.abs(cmax + cmin - 1));\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        var _a, _b, _c, _d, _e, _f;\n        var hp = ((h % 360) + 360) % 360;\n        var sp = constrainRange(s / 100, 0, 1);\n        var lp = constrainRange(l / 100, 0, 1);\n        var c = (1 - Math.abs(2 * lp - 1)) * sp;\n        var x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        var m = lp - c / 2;\n        var rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            _a = [c, x, 0], rp = _a[0], gp = _a[1], bp = _a[2];\n        }\n        else if (hp >= 60 && hp < 120) {\n            _b = [x, c, 0], rp = _b[0], gp = _b[1], bp = _b[2];\n        }\n        else if (hp >= 120 && hp < 180) {\n            _c = [0, c, x], rp = _c[0], gp = _c[1], bp = _c[2];\n        }\n        else if (hp >= 180 && hp < 240) {\n            _d = [0, x, c], rp = _d[0], gp = _d[1], bp = _d[2];\n        }\n        else if (hp >= 240 && hp < 300) {\n            _e = [x, 0, c], rp = _e[0], gp = _e[1], bp = _e[2];\n        }\n        else {\n            _f = [c, 0, x], rp = _f[0], gp = _f[1], bp = _f[2];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        var rp = constrainRange(r / 255, 0, 1);\n        var gp = constrainRange(g / 255, 0, 1);\n        var bp = constrainRange(b / 255, 0, 1);\n        var cmax = Math.max(rp, gp, bp);\n        var cmin = Math.min(rp, gp, bp);\n        var d = cmax - cmin;\n        var h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        var s = cmax === 0 ? 0 : d / cmax;\n        var v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    /**\n     * @hidden\n     */\n    function hsvToRgb(h, s, v) {\n        var _a, _b, _c, _d, _e, _f;\n        var hp = loopRange(h, 360);\n        var sp = constrainRange(s / 100, 0, 1);\n        var vp = constrainRange(v / 100, 0, 1);\n        var c = vp * sp;\n        var x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        var m = vp - c;\n        var rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            _a = [c, x, 0], rp = _a[0], gp = _a[1], bp = _a[2];\n        }\n        else if (hp >= 60 && hp < 120) {\n            _b = [x, c, 0], rp = _b[0], gp = _b[1], bp = _b[2];\n        }\n        else if (hp >= 120 && hp < 180) {\n            _c = [0, c, x], rp = _c[0], gp = _c[1], bp = _c[2];\n        }\n        else if (hp >= 180 && hp < 240) {\n            _d = [0, x, c], rp = _d[0], gp = _d[1], bp = _d[2];\n        }\n        else if (hp >= 240 && hp < 300) {\n            _e = [x, 0, c], rp = _e[0], gp = _e[1], bp = _e[2];\n        }\n        else {\n            _f = [c, 0, x], rp = _f[0], gp = _f[1], bp = _f[2];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    /**\n     * @hidden\n     */\n    function hslToHsv(h, s, l) {\n        var sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n        return [\n            h,\n            sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n            l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n        ];\n    }\n    /**\n     * @hidden\n     */\n    function hsvToHsl(h, s, v) {\n        var sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n        return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n    }\n    /**\n     * @hidden\n     */\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    /**\n     * @hidden\n     */\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    var MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: function (h, s, l) { return [h, s, l]; },\n            hsv: hslToHsv,\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: hsvToHsl,\n            hsv: function (h, s, v) { return [h, s, v]; },\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: function (r, g, b) { return [r, g, b]; },\n        },\n    };\n    /**\n     * @hidden\n     */\n    function convertColorMode(components, fromMode, toMode) {\n        var _a;\n        return (_a = MODE_CONVERTER_MAP[fromMode])[toMode].apply(_a, components);\n    }\n\n    var CONSTRAINT_MAP = {\n        hsl: function (comps) {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: function (comps) {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: function (comps) {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    /**\n     * @hidden\n     */\n    var Color = /** @class */ (function () {\n        function Color(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        Color.black = function () {\n            return new Color([0, 0, 0], 'rgb');\n        };\n        Color.fromObject = function (obj) {\n            var comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        };\n        Color.toRgbaObject = function (color) {\n            return color.toRgbaObject();\n        };\n        Color.isRgbColorObject = function (obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        };\n        Color.isRgbaColorObject = function (obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        };\n        Color.isColorObject = function (obj) {\n            return this.isRgbColorObject(obj);\n        };\n        Color.equals = function (v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            var comps1 = v1.comps_;\n            var comps2 = v2.comps_;\n            for (var i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        Object.defineProperty(Color.prototype, \"mode\", {\n            get: function () {\n                return this.mode_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Color.prototype.getComponents = function (opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        };\n        Color.prototype.toRgbaObject = function () {\n            var rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        };\n        return Color;\n    }());\n\n    var className$b = ClassName('colp');\n    /**\n     * @hidden\n     */\n    var ColorPickerView = /** @class */ (function () {\n        function ColorPickerView(doc, config) {\n            this.alphaViews_ = null;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            var hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$b('hsv'));\n            var svElem = doc.createElement('div');\n            svElem.classList.add(className$b('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            var hElem = doc.createElement('div');\n            hElem.classList.add(className$b('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            var rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$b('rgb'));\n            this.textView_ = config.textView;\n            rgbElem.appendChild(this.textView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                var aElem = doc.createElement('div');\n                aElem.classList.add(className$b('a'));\n                var apElem = doc.createElement('div');\n                apElem.classList.add(className$b('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                var atElem = doc.createElement('div');\n                atElem.classList.add(className$b('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n        }\n        Object.defineProperty(ColorPickerView.prototype, \"allFocusableElements\", {\n            get: function () {\n                var elems = __spreadArrays([\n                    this.svPaletteView_.element,\n                    this.hPaletteView_.element,\n                    this.textView_.modeSelectElement\n                ], this.textView_.textViews.map(function (v) { return v.inputElement; }));\n                if (this.alphaViews_) {\n                    elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n                }\n                return elems;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return ColorPickerView;\n    }());\n\n    /**\n     * @hidden\n     */\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    var innerFormatter = createNumberFormatter(0);\n    /**\n     * @hidden\n     */\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        var m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    var ANGLE_TO_DEG_MAP = {\n        deg: function (angle) { return angle; },\n        grad: function (angle) { return (angle * 360) / 400; },\n        rad: function (angle) { return (angle * 360) / (2 * Math.PI); },\n        turn: function (angle) { return angle * 360; },\n    };\n    function parseCssNumberOrAngle(text) {\n        var m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        var angle = parseFloat(m[1]);\n        var unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    var NOTATION_TO_PARSER_MAP = {\n        'func.rgb': function (text) {\n            var m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': function (text) {\n            var m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': function (text) {\n            var m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': function (text) {\n            var m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': function (text) {\n            var mRrggbb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            var mRgb = text.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([parseInt(mRgb[1], 16), parseInt(mRgb[2], 16), parseInt(mRgb[3], 16)], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': function (text) {\n            var mRrggbb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4] + mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            var mRgb = text.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1], 16),\n                    parseInt(mRgb[2], 16),\n                    parseInt(mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    /**\n     * @hidden\n     */\n    function getColorNotation(text) {\n        var notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce(function (result, notation) {\n            if (result) {\n                return result;\n            }\n            var subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    /**\n     * @hidden\n     */\n    var CompositeColorParser = function (text) {\n        var notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    /**\n     * @hidden\n     */\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            var cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        var hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? \"0\" + hex : hex;\n    }\n    /**\n     * @hidden\n     */\n    function colorToHexRgbString(value) {\n        var hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return \"#\" + hexes;\n    }\n    /**\n     * @hidden\n     */\n    function colorToHexRgbaString(value) {\n        var rgbaComps = value.getComponents('rgb');\n        var hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return \"#\" + hexes;\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalRgbString(value) {\n        var formatter = createNumberFormatter(0);\n        var comps = removeAlphaComponent(value.getComponents('rgb')).map(function (comp) {\n            return formatter(comp);\n        });\n        return \"rgb(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalRgbaString(value) {\n        var aFormatter = createNumberFormatter(2);\n        var rgbFormatter = createNumberFormatter(0);\n        var comps = value.getComponents('rgb').map(function (comp, index) {\n            var formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return \"rgba(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalHslString(value) {\n        var formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        var comps = removeAlphaComponent(value.getComponents('hsl')).map(function (comp, index) { return formatters[index](comp); });\n        return \"hsl(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalHslaString(value) {\n        var formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        var comps = value\n            .getComponents('hsl')\n            .map(function (comp, index) { return formatters[index](comp); });\n        return \"hsla(\" + comps.join(', ') + \")\";\n    }\n    var NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    var className$a = ClassName('apl');\n    /**\n     * @hidden\n     */\n    var APaletteView = /** @class */ (function () {\n        function APaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            config.viewProps.bindTabIndex(this.element);\n            var barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            var colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            var previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update_();\n        }\n        APaletteView.prototype.update_ = function () {\n            var c = this.value.rawValue;\n            var rgbaComps = c.getComponents('rgb');\n            var leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            var rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            var gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = \"linear-gradient(\" + gradientComps.join(',') + \")\";\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            var left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n        };\n        APaletteView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return APaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var APaletteController = /** @class */ (function () {\n        function APaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        APaletteController.prototype.handlePointerEvent_ = function (d) {\n            if (!d.point) {\n                return;\n            }\n            var alpha = d.point.x / d.bounds.width;\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2];\n            this.value.rawValue = new Color([h, s, v, alpha], 'hsv');\n        };\n        APaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onKeyDown_ = function (ev) {\n            var step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([h, s, v, a + step], 'hsv');\n        };\n        return APaletteController;\n    }());\n\n    var className$9 = ClassName('coltxt');\n    function createModeSelectElement(doc) {\n        var selectElem = doc.createElement('select');\n        var items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce(function (frag, item) {\n            var optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    /**\n     * @hidden\n     */\n    var ColorTextView = /** @class */ (function () {\n        function ColorTextView(doc, config) {\n            var _this = this;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            var modeElem = doc.createElement('div');\n            modeElem.classList.add(className$9('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$9('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            var modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$9('mm'));\n            modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            var textsElem = doc.createElement('div');\n            textsElem.classList.add(className$9('w'));\n            this.element.appendChild(textsElem);\n            this.textsElem_ = textsElem;\n            this.textViews_ = config.textViews;\n            this.applyTextViews_();\n            bindValue(config.colorMode, function (mode) {\n                _this.modeElem_.value = mode;\n            });\n        }\n        Object.defineProperty(ColorTextView.prototype, \"modeSelectElement\", {\n            get: function () {\n                return this.modeElem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ColorTextView.prototype, \"textViews\", {\n            get: function () {\n                return this.textViews_;\n            },\n            set: function (textViews) {\n                this.textViews_ = textViews;\n                this.applyTextViews_();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorTextView.prototype.applyTextViews_ = function () {\n            var _this = this;\n            removeChildElements(this.textsElem_);\n            var doc = this.element.ownerDocument;\n            this.textViews_.forEach(function (v) {\n                var compElem = doc.createElement('div');\n                compElem.classList.add(className$9('c'));\n                compElem.appendChild(v.element);\n                _this.textsElem_.appendChild(compElem);\n            });\n        };\n        return ColorTextView;\n    }());\n\n    var FORMATTER = createNumberFormatter(0);\n    var MODE_TO_CONSTRAINT_MAP = {\n        rgb: function () {\n            return new RangeConstraint({ min: 0, max: 255 });\n        },\n        hsl: function (index) {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n        hsv: function (index) {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n    };\n    function createComponentController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n            baseStep: getBaseStepForColor(false),\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                draggingScale: 1,\n                formatter: FORMATTER,\n            }),\n            value: createValue(0, {\n                constraint: MODE_TO_CONSTRAINT_MAP[config.colorMode](index),\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var ColorTextController = /** @class */ (function () {\n        function ColorTextController(doc, config) {\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.colorMode = createValue(this.value.rawValue.mode);\n            this.ccs_ = this.createComponentControllers_(doc);\n            this.view = new ColorTextView(doc, {\n                colorMode: this.colorMode,\n                textViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        ColorTextController.prototype.createComponentControllers_ = function (doc) {\n            var _this = this;\n            var cc = {\n                colorMode: this.colorMode.rawValue,\n                parser: this.parser_,\n                viewProps: this.viewProps,\n            };\n            var ccs = [\n                createComponentController(doc, cc, 0),\n                createComponentController(doc, cc, 1),\n                createComponentController(doc, cc, 2),\n            ];\n            ccs.forEach(function (cs, index) {\n                connectValues({\n                    primary: _this.value,\n                    secondary: cs.value,\n                    forward: function (p) {\n                        return p.rawValue.getComponents(_this.colorMode.rawValue)[index];\n                    },\n                    backward: function (p, s) {\n                        var pickedMode = _this.colorMode.rawValue;\n                        var comps = p.rawValue.getComponents(pickedMode);\n                        comps[index] = s.rawValue;\n                        return new Color(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode);\n                    },\n                });\n            });\n            return ccs;\n        };\n        ColorTextController.prototype.onModeSelectChange_ = function (ev) {\n            var selectElem = ev.currentTarget;\n            this.colorMode.rawValue = selectElem.value;\n            this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n            this.view.textViews = [\n                this.ccs_[0].view,\n                this.ccs_[1].view,\n                this.ccs_[2].view,\n            ];\n        };\n        return ColorTextController;\n    }());\n\n    var className$8 = ClassName('hpl');\n    /**\n     * @hidden\n     */\n    var HPaletteView = /** @class */ (function () {\n        function HPaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            config.viewProps.bindTabIndex(this.element);\n            var colorElem = doc.createElement('div');\n            colorElem.classList.add(className$8('c'));\n            this.element.appendChild(colorElem);\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$8('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        HPaletteView.prototype.update_ = function () {\n            var c = this.value.rawValue;\n            var h = c.getComponents('hsv')[0];\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            var left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n        };\n        HPaletteView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return HPaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var HPaletteController = /** @class */ (function () {\n        function HPaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        HPaletteController.prototype.handlePointerEvent_ = function (d) {\n            if (!d.point) {\n                return;\n            }\n            var hue = mapRange(d.point.x, 0, d.bounds.width, 0, 360);\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([hue, s, v, a], 'hsv');\n        };\n        HPaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onKeyDown_ = function (ev) {\n            var step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([h + step, s, v, a], 'hsv');\n        };\n        return HPaletteController;\n    }());\n\n    var className$7 = ClassName('svp');\n    var CANVAS_RESOL = 64;\n    /**\n     * @hidden\n     */\n    var SvPaletteView = /** @class */ (function () {\n        function SvPaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            config.viewProps.bindTabIndex(this.element);\n            var canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$7('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$7('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        SvPaletteView.prototype.update_ = function () {\n            var ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            var c = this.value.rawValue;\n            var hsvComps = c.getComponents('hsv');\n            var width = this.canvasElement.width;\n            var height = this.canvasElement.height;\n            var imgData = ctx.getImageData(0, 0, width, height);\n            var data = imgData.data;\n            for (var iy = 0; iy < height; iy++) {\n                for (var ix = 0; ix < width; ix++) {\n                    var s = mapRange(ix, 0, width, 0, 100);\n                    var v = mapRange(iy, 0, height, 100, 0);\n                    var rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    var i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            var left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n            var top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = top + \"%\";\n        };\n        SvPaletteView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return SvPaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SvPaletteController = /** @class */ (function () {\n        function SvPaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        SvPaletteController.prototype.handlePointerEvent_ = function (d) {\n            if (!d.point) {\n                return;\n            }\n            var saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n            var value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n            var _a = this.value.rawValue.getComponents('hsv'), h = _a[0], a = _a[3];\n            this.value.rawValue = new Color([h, saturation, value, a], 'hsv');\n        };\n        SvPaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onKeyDown_ = function (ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            var _a = this.value.rawValue.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            var baseStep = getBaseStepForColor(false);\n            this.value.rawValue = new Color([\n                h,\n                s + getStepForKey(baseStep, getHorizontalStepKeys(ev)),\n                v + getStepForKey(baseStep, getVerticalStepKeys(ev)),\n                a,\n            ], 'hsv');\n        };\n        return SvPaletteController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorPickerController = /** @class */ (function () {\n        function ColorPickerController(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.hPaletteC_ = new HPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.svPaletteC_ = new SvPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.value,\n                        viewProps: this.viewProps,\n                    }),\n                    text: new NumberTextController(doc, {\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        props: ValueMap.fromObject({\n                            draggingScale: 0.01,\n                            formatter: createNumberFormatter(2),\n                        }),\n                        value: createValue(0, {\n                            constraint: new RangeConstraint({ min: 0, max: 1 }),\n                        }),\n                        viewProps: this.viewProps,\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connectValues({\n                    primary: this.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: function (p) {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: function (p, s) {\n                        var comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.textC_ = new ColorTextController(doc, {\n                parser: parseNumber,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                hPaletteView: this.hPaletteC_.view,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        Object.defineProperty(ColorPickerController.prototype, \"textController\", {\n            get: function () {\n                return this.textC_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return ColorPickerController;\n    }());\n\n    var className$6 = ClassName('colsw');\n    /**\n     * @hidden\n     */\n    var ColorSwatchView = /** @class */ (function () {\n        function ColorSwatchView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            config.viewProps.bindClassModifiers(this.element);\n            var swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$6('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$6('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            this.update_();\n        }\n        ColorSwatchView.prototype.update_ = function () {\n            var value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        };\n        ColorSwatchView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        return ColorSwatchView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorSwatchController = /** @class */ (function () {\n        function ColorSwatchController(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ColorSwatchView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return ColorSwatchController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorController = /** @class */ (function () {\n        function ColorController(doc, config) {\n            var _this = this;\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = createFoldable(config.expanded);\n            this.swatchC_ = new ColorSwatchController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            var buttonElem = this.swatchC_.view.buttonElement;\n            buttonElem.addEventListener('blur', this.onButtonBlur_);\n            buttonElem.addEventListener('click', this.onButtonClick_);\n            this.textC_ = new TextController(doc, {\n                parser: config.parser,\n                props: ValueMap.fromObject({\n                    formatter: config.formatter,\n                }),\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n            });\n            this.view.swatchElement.appendChild(this.swatchC_.view.element);\n            this.view.textElement.appendChild(this.textC_.view.element);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            var pickerC = new ColorPickerController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            pickerC.view.allFocusableElements.forEach(function (elem) {\n                elem.addEventListener('blur', _this.onPopupChildBlur_);\n                elem.addEventListener('keydown', _this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = pickerC;\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(pickerC.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: function (p) { return p.rawValue; },\n                    backward: function (_, s) { return s.rawValue; },\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        Object.defineProperty(ColorController.prototype, \"textController\", {\n            get: function () {\n                return this.textC_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorController.prototype.onButtonBlur_ = function (e) {\n            if (!this.popC_) {\n                return;\n            }\n            var elem = this.view.element;\n            var nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        };\n        ColorController.prototype.onButtonClick_ = function () {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        };\n        ColorController.prototype.onPopupChildBlur_ = function (ev) {\n            if (!this.popC_) {\n                return;\n            }\n            var elem = this.popC_.view.element;\n            var nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                // Next target is in the picker\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.swatchC_.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                // Next target is the trigger button\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        };\n        ColorController.prototype.onPopupChildKeydown_ = function (ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.swatchC_.view.buttonElement.focus();\n                }\n            }\n        };\n        return ColorController;\n    }());\n\n    /**\n     * @hidden\n     */\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    /**\n     * @hidden\n     */\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce(function (result, comp) {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    /**\n     * @hidden\n     */\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce(function (result, comp, index) {\n            var hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    /**\n     * @hidden\n     */\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    /**\n     * @hidden\n     */\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    /**\n     * @hidden\n     */\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    /**\n     * @hidden\n     */\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        var stringify = getColorStringifier(notation);\n        return function (target, value) {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        var colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return function (target, value) {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        var obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        var obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha$1(inputParams) {\n        return 'input' in inputParams && inputParams.input === 'color.rgba';\n    }\n    /**\n     * @hidden\n     */\n    var NumberColorInputPlugin = {\n        id: 'input-color-number',\n        accept: function (value, params) {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('input' in params)) {\n                return null;\n            }\n            if (params.input !== 'color' &&\n                params.input !== 'color.rgb' &&\n                params.input !== 'color.rgba') {\n                return null;\n            }\n            return value;\n        },\n        binding: {\n            reader: function (args) {\n                return shouldSupportAlpha$1(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: function (args) {\n                return createColorNumberWriter(shouldSupportAlpha$1(args.params));\n            },\n        },\n        controller: function (args) {\n            var supportsAlpha = shouldSupportAlpha$1(args.params);\n            var expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            var picker = 'picker' in args.params ? args.params.picker : undefined;\n            var formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function shouldSupportAlpha(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    /**\n     * @hidden\n     */\n    var ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        accept: function (value, _params) { return (Color.isColorObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return colorFromObject; },\n            equals: Color.equals,\n            writer: function (args) {\n                return createColorObjectWriter(shouldSupportAlpha(args.initialValue));\n            },\n        },\n        controller: function (args) {\n            var supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            var expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            var picker = 'picker' in args.params ? args.params.picker : undefined;\n            var formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var StringColorInputPlugin = {\n        id: 'input-color-string',\n        accept: function (value, params) {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('input' in params && params.input === 'string') {\n                return null;\n            }\n            var notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            return value;\n        },\n        binding: {\n            reader: function (_args) { return colorFromString; },\n            equals: Color.equals,\n            writer: function (args) {\n                var notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: function (args) {\n            var notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            var stringifier = getColorStringifier(notation);\n            var expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            var picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /**\n     * Tries to create a step constraint.\n     * @param params The input parameters object.\n     * @return A constraint or null if not found.\n     */\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    /**\n     * Tries to create a range constraint.\n     * @param params The input parameters object.\n     * @return A constraint or null if not found.\n     */\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$4(params) {\n        var constraints = [];\n        var sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        var rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        var lc = createListConstraint(params);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function findRange(constraint) {\n        var c = constraint ? findConstraint(constraint, RangeConstraint) : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(constraint) {\n        var _a = findRange(constraint), min = _a[0], max = _a[1];\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    /**\n     * @hidden\n     */\n    var NumberInputPlugin = {\n        id: 'input-number',\n        accept: function (value) { return (typeof value === 'number' ? value : null); },\n        binding: {\n            reader: function (_args) { return numberFromUnknown; },\n            constraint: function (args) { return createConstraint$4(args.params); },\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (args) {\n            var _a, _b;\n            var value = args.value;\n            var c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            var formatter = (_b = ('format' in args.params ? args.params.format : undefined)) !== null && _b !== void 0 ? _b : createNumberFormatter(getSuitableDecimalDigits(c, value.rawValue));\n            if (c && findConstraint(c, RangeConstraint)) {\n                var _c = estimateSuitableRange(c), min = _c[0], max = _c[1];\n                return new SliderTextController(args.document, {\n                    baseStep: getBaseStep(c),\n                    parser: parseNumber,\n                    sliderProps: ValueMap.fromObject({\n                        maxValue: max,\n                        minValue: min,\n                    }),\n                    textProps: ValueMap.fromObject({\n                        draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                        formatter: formatter,\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new NumberTextController(args.document, {\n                baseStep: getBaseStep(c),\n                parser: parseNumber,\n                props: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                    formatter: formatter,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var PointNdConstraint = /** @class */ (function () {\n        function PointNdConstraint(config) {\n            this.components = config.components;\n            this.asm_ = config.assembly;\n        }\n        PointNdConstraint.prototype.constrain = function (value) {\n            var _this = this;\n            var comps = this.asm_\n                .toComponents(value)\n                .map(function (comp, index) { var _a, _b; return (_b = (_a = _this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n            return this.asm_.fromComponents(comps);\n        };\n        return PointNdConstraint;\n    }());\n\n    var className$5 = ClassName('pndtxt');\n    /**\n     * @hidden\n     */\n    var PointNdTextView = /** @class */ (function () {\n        function PointNdTextView(doc, config) {\n            var _this = this;\n            this.textViews = config.textViews;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            this.textViews.forEach(function (v) {\n                var axisElem = doc.createElement('div');\n                axisElem.classList.add(className$5('a'));\n                axisElem.appendChild(v.element);\n                _this.element.appendChild(axisElem);\n            });\n        }\n        return PointNdTextView;\n    }());\n\n    function createAxisController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n            baseStep: config.axes[index].baseStep,\n            parser: config.parser,\n            props: config.axes[index].textProps,\n            value: createValue(0, {\n                constraint: config.axes[index].constraint,\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var PointNdTextController = /** @class */ (function () {\n        function PointNdTextController(doc, config) {\n            var _this = this;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.acs_ = config.axes.map(function (_, index) {\n                return createAxisController(doc, config, index);\n            });\n            this.acs_.forEach(function (c, index) {\n                connectValues({\n                    primary: _this.value,\n                    secondary: c.value,\n                    forward: function (p) {\n                        return config.assembly.toComponents(p.rawValue)[index];\n                    },\n                    backward: function (p, s) {\n                        var comps = config.assembly.toComponents(p.rawValue);\n                        comps[index] = s.rawValue;\n                        return config.assembly.fromComponents(comps);\n                    },\n                });\n            });\n            this.view = new PointNdTextView(doc, {\n                textViews: this.acs_.map(function (ac) { return ac.view; }),\n            });\n        }\n        return PointNdTextController;\n    }());\n\n    var Point2d = /** @class */ (function () {\n        function Point2d(x, y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            this.x = x;\n            this.y = y;\n        }\n        Point2d.prototype.getComponents = function () {\n            return [this.x, this.y];\n        };\n        Point2d.isObject = function (obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            var x = obj.x;\n            var y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        };\n        Point2d.equals = function (v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        };\n        Point2d.prototype.toObject = function () {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        };\n        return Point2d;\n    }());\n    var Point2dAssembly = {\n        toComponents: function (p) { return p.getComponents(); },\n        fromComponents: function (comps) { return new (Point2d.bind.apply(Point2d, __spreadArrays([void 0], comps)))(); },\n    };\n\n    var className$4 = ClassName('p2d');\n    /**\n     * @hidden\n     */\n    var Point2dView = /** @class */ (function () {\n        function Point2dView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.expanded, valueToClassName(this.element, className$4(undefined, 'expanded')));\n            var headElem = doc.createElement('div');\n            headElem.classList.add(className$4('h'));\n            this.element.appendChild(headElem);\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$4('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            config.viewProps.bindDisabled(buttonElem);\n            headElem.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$4('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                var pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$4('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n        return Point2dView;\n    }());\n\n    var className$3 = ClassName('p2dp');\n    /**\n     * @hidden\n     */\n    var Point2dPickerView = /** @class */ (function () {\n        function Point2dPickerView(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            if (config.layout === 'popup') {\n                this.element.classList.add(className$3(undefined, 'p'));\n            }\n            var padElem = doc.createElement('div');\n            padElem.classList.add(className$3('p'));\n            config.viewProps.bindTabIndex(padElem);\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            var svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$3('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            var xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$3('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            var yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$3('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            var lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$3('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$3('m'));\n            this.padElement.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        Object.defineProperty(Point2dPickerView.prototype, \"allFocusableElements\", {\n            get: function () {\n                return [this.padElement];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point2dPickerView.prototype.update_ = function () {\n            var _a = this.value.rawValue.getComponents(), x = _a[0], y = _a[1];\n            var max = this.maxValue_;\n            var px = mapRange(x, -max, +max, 0, 100);\n            var py = mapRange(y, -max, +max, 0, 100);\n            var ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', px + \"%\");\n            this.lineElem_.setAttributeNS(null, 'y2', ipy + \"%\");\n            this.markerElem_.style.left = px + \"%\";\n            this.markerElem_.style.top = ipy + \"%\";\n        };\n        Point2dPickerView.prototype.onValueChange_ = function () {\n            this.update_();\n        };\n        Point2dPickerView.prototype.onFoldableChange_ = function () {\n            this.update_();\n        };\n        return Point2dPickerView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dPickerController = /** @class */ (function () {\n        function Point2dPickerController(doc, config) {\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPickerView(doc, {\n                invertsY: this.invertsY_,\n                layout: config.layout,\n                maxValue: this.maxValue_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        }\n        Point2dPickerController.prototype.handlePointerEvent_ = function (d) {\n            if (!d.point) {\n                return;\n            }\n            var max = this.maxValue_;\n            var px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n            var py = mapRange(this.invertsY_ ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n            this.value.rawValue = new Point2d(px, py);\n        };\n        Point2dPickerController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPickerController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPickerController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPickerController.prototype.onPadKeyDown_ = function (ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            this.value.rawValue = new Point2d(this.value.rawValue.x +\n                getStepForKey(this.baseSteps_[0], getHorizontalStepKeys(ev)), this.value.rawValue.y +\n                getStepForKey(this.baseSteps_[1], getVerticalStepKeys(ev)) *\n                    (this.invertsY_ ? 1 : -1));\n        };\n        return Point2dPickerController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dController = /** @class */ (function () {\n        function Point2dController(doc, config) {\n            var _this = this;\n            var _a, _b;\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = createFoldable(config.expanded);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            var padC = new Point2dPickerController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                layout: config.pickerLayout,\n                maxValue: config.maxValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            padC.view.allFocusableElements.forEach(function (elem) {\n                elem.addEventListener('blur', _this.onPopupChildBlur_);\n                elem.addEventListener('keydown', _this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = padC;\n            this.textC_ = new PointNdTextController(doc, {\n                assembly: Point2dAssembly,\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new Point2dView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n                viewProps: this.viewProps,\n            });\n            this.view.textElement.appendChild(this.textC_.view.element);\n            (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n            (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(this.pickerC_.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: function (p) { return p.rawValue; },\n                    backward: function (_, s) { return s.rawValue; },\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        Point2dController.prototype.onPadButtonBlur_ = function (e) {\n            if (!this.popC_) {\n                return;\n            }\n            var elem = this.view.element;\n            var nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        };\n        Point2dController.prototype.onPadButtonClick_ = function () {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        };\n        Point2dController.prototype.onPopupChildBlur_ = function (ev) {\n            if (!this.popC_) {\n                return;\n            }\n            var elem = this.popC_.view.element;\n            var nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                // Next target is in the popup\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                // Next target is the trigger button\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        };\n        Point2dController.prototype.onPopupChildKeydown_ = function (ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.view.buttonElement.focus();\n                }\n            }\n        };\n        return Point2dController;\n    }());\n\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint$2(params) {\n        if (!params) {\n            return undefined;\n        }\n        var constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new PointNdConstraint({\n            assembly: Point2dAssembly,\n            components: [\n                createDimensionConstraint$2('x' in params ? params.x : undefined),\n                createDimensionConstraint$2('y' in params ? params.y : undefined),\n            ],\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        var rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        var step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    /**\n     * @hidden\n     */\n    function getSuitableMaxValue(initialValue, constraint) {\n        var xc = constraint instanceof PointNdConstraint\n            ? constraint.components[0]\n            : undefined;\n        var yc = constraint instanceof PointNdConstraint\n            ? constraint.components[1]\n            : undefined;\n        var xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        var yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createAxis$2(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        var yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    /**\n     * @hidden\n     */\n    var Point2dInputPlugin = {\n        id: 'input-point2d',\n        accept: function (value, _params) { return (Point2d.isObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return point2dFromUnknown; },\n            constraint: function (args) { return createConstraint$3(args.params); },\n            equals: Point2d.equals,\n            writer: function (_args) { return writePoint2d; },\n        },\n        controller: function (args) {\n            var doc = args.document;\n            var value = args.value;\n            var c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            var expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            var picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new Point2dController(doc, {\n                axes: [\n                    createAxis$2(value.rawValue.x, c.components[0]),\n                    createAxis$2(value.rawValue.y, c.components[1]),\n                ],\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                invertsY: shouldInvertY(args.params),\n                maxValue: getSuitableMaxValue(value.rawValue, c),\n                parser: parseNumber,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    var Point3d = /** @class */ (function () {\n        function Point3d(x, y, z) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (z === void 0) { z = 0; }\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        Point3d.prototype.getComponents = function () {\n            return [this.x, this.y, this.z];\n        };\n        Point3d.isObject = function (obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            var x = obj.x;\n            var y = obj.y;\n            var z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        };\n        Point3d.equals = function (v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        };\n        Point3d.prototype.toObject = function () {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        };\n        return Point3d;\n    }());\n    var Point3dAssembly = {\n        toComponents: function (p) { return p.getComponents(); },\n        fromComponents: function (comps) { return new (Point3d.bind.apply(Point3d, __spreadArrays([void 0], comps)))(); },\n    };\n\n    /**\n     * @hidden\n     */\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        var constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new PointNdConstraint({\n            assembly: Point3dAssembly,\n            components: [\n                createDimensionConstraint$1('x' in params ? params.x : undefined),\n                createDimensionConstraint$1('y' in params ? params.y : undefined),\n                createDimensionConstraint$1('z' in params ? params.z : undefined),\n            ],\n        });\n    }\n    function createAxis$1(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    /**\n     * @hidden\n     */\n    var Point3dInputPlugin = {\n        id: 'input-point3d',\n        accept: function (value, _params) { return (Point3d.isObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return point3dFromUnknown; },\n            constraint: function (args) { return createConstraint$2(args.params); },\n            equals: Point3d.equals,\n            writer: function (_args) { return writePoint3d; },\n        },\n        controller: function (args) {\n            var value = args.value;\n            var c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point3dAssembly,\n                axes: [\n                    createAxis$1(value.rawValue.x, c.components[0]),\n                    createAxis$1(value.rawValue.y, c.components[1]),\n                    createAxis$1(value.rawValue.z, c.components[2]),\n                ],\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    var Point4d = /** @class */ (function () {\n        function Point4d(x, y, z, w) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (z === void 0) { z = 0; }\n            if (w === void 0) { w = 0; }\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n        Point4d.prototype.getComponents = function () {\n            return [this.x, this.y, this.z, this.w];\n        };\n        Point4d.isObject = function (obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            var x = obj.x;\n            var y = obj.y;\n            var z = obj.z;\n            var w = obj.w;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number' ||\n                typeof w !== 'number') {\n                return false;\n            }\n            return true;\n        };\n        Point4d.equals = function (v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n        };\n        Point4d.prototype.toObject = function () {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n                w: this.w,\n            };\n        };\n        return Point4d;\n    }());\n    var Point4dAssembly = {\n        toComponents: function (p) { return p.getComponents(); },\n        fromComponents: function (comps) { return new (Point4d.bind.apply(Point4d, __spreadArrays([void 0], comps)))(); },\n    };\n\n    /**\n     * @hidden\n     */\n    function point4dFromUnknown(value) {\n        return Point4d.isObject(value)\n            ? new Point4d(value.x, value.y, value.z, value.w)\n            : new Point4d();\n    }\n    function writePoint4d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n        target.writeProperty('w', value.w);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        var constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$1(params) {\n        return new PointNdConstraint({\n            assembly: Point4dAssembly,\n            components: [\n                createDimensionConstraint('x' in params ? params.x : undefined),\n                createDimensionConstraint('y' in params ? params.y : undefined),\n                createDimensionConstraint('z' in params ? params.z : undefined),\n                createDimensionConstraint('w' in params ? params.w : undefined),\n            ],\n        });\n    }\n    function createAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    /**\n     * @hidden\n     */\n    var Point4dInputPlugin = {\n        id: 'input-point4d',\n        accept: function (value, _params) { return (Point4d.isObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return point4dFromUnknown; },\n            constraint: function (args) { return createConstraint$1(args.params); },\n            equals: Point4d.equals,\n            writer: function (_args) { return writePoint4d; },\n        },\n        controller: function (args) {\n            var value = args.value;\n            var c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point4dAssembly,\n                axes: value.rawValue\n                    .getComponents()\n                    .map(function (comp, index) { return createAxis(comp, c.components[index]); }),\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function formatString(value) {\n        return value;\n    }\n\n    function createConstraint(params) {\n        var constraints = [];\n        var lc = createListConstraint(params);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    /**\n     * @hidden\n     */\n    var StringInputPlugin = {\n        id: 'input-string',\n        accept: function (value, _params) { return (typeof value === 'string' ? value : null); },\n        binding: {\n            reader: function (_args) { return stringFromUnknown; },\n            constraint: function (args) { return createConstraint(args.params); },\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (args) {\n            var _a;\n            var doc = args.document;\n            var value = args.value;\n            var c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new TextController(doc, {\n                parser: function (v) { return v; },\n                props: ValueMap.fromObject({\n                    formatter: formatString,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /***\n     * A simple semantic versioning perser.\n     */\n    var Semver = /** @class */ (function () {\n        function Semver(text) {\n            var _a = text.split('-'), core = _a[0], prerelease = _a[1];\n            var coreComps = core.split('.');\n            this.major = parseInt(coreComps[0], 10);\n            this.minor = parseInt(coreComps[1], 10);\n            this.patch = parseInt(coreComps[2], 10);\n            this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n        }\n        Semver.prototype.toString = function () {\n            var core = [this.major, this.minor, this.patch].join('.');\n            return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n        };\n        return Semver;\n    }());\n\n    var className$2 = ClassName('mll');\n    /**\n     * @hidden\n     */\n    var MultiLogView = /** @class */ (function () {\n        function MultiLogView(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            config.viewProps.bindClassModifiers(this.element);\n            var textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$2('i'));\n            textareaElem.style.height = \"calc(var(--bld-h) * \" + config.lineCount + \")\";\n            textareaElem.readOnly = true;\n            config.viewProps.bindDisabled(textareaElem);\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        MultiLogView.prototype.update_ = function () {\n            var _this = this;\n            var elem = this.textareaElem_;\n            var shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            var lines = [];\n            this.value.rawValue.forEach(function (value) {\n                if (value !== undefined) {\n                    lines.push(_this.formatter_(value));\n                }\n            });\n            elem.textContent = lines.join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        };\n        MultiLogView.prototype.onValueUpdate_ = function () {\n            this.update_();\n        };\n        return MultiLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var MultiLogController = /** @class */ (function () {\n        function MultiLogController(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return MultiLogController;\n    }());\n\n    var className$1 = ClassName('sgl');\n    /**\n     * @hidden\n     */\n    var SingleLogView = /** @class */ (function () {\n        function SingleLogView(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$1());\n            config.viewProps.bindClassModifiers(this.element);\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$1('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElem_ = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        SingleLogView.prototype.update_ = function () {\n            var values = this.value.rawValue;\n            var lastValue = values[values.length - 1];\n            this.inputElem_.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        };\n        SingleLogView.prototype.onValueUpdate_ = function () {\n            this.update_();\n        };\n        return SingleLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SingleLogMonitorController = /** @class */ (function () {\n        function SingleLogMonitorController(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return SingleLogMonitorController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        accept: function (value, _params) { return (typeof value === 'boolean' ? value : null); },\n        binding: {\n            reader: function (_args) { return boolFromUnknown; },\n        },\n        controller: function (args) {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogMonitorController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var GraphCursor = /** @class */ (function () {\n        function GraphCursor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        Object.defineProperty(GraphCursor.prototype, \"index\", {\n            get: function () {\n                return this.index_;\n            },\n            set: function (index) {\n                var changed = this.index_ !== index;\n                if (changed) {\n                    this.index_ = index;\n                    this.emitter.emit('change', {\n                        index: index,\n                        sender: this,\n                    });\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return GraphCursor;\n    }());\n\n    var className = ClassName('grl');\n    /**\n     * @hidden\n     */\n    var GraphLogView = /** @class */ (function () {\n        function GraphLogView(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            var svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className('g'));\n            svgElem.style.height = \"calc(var(--bld-h) * \" + config.lineCount + \")\";\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            var lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            var tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className('t'), ClassName('tt')());\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        Object.defineProperty(GraphLogView.prototype, \"graphElement\", {\n            get: function () {\n                return this.svgElem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GraphLogView.prototype.update_ = function () {\n            var bounds = this.svgElem_.getBoundingClientRect();\n            // Graph\n            var maxIndex = this.value.rawValue.length - 1;\n            var min = this.minValue_;\n            var max = this.maxValue_;\n            var points = [];\n            this.value.rawValue.forEach(function (v, index) {\n                if (v === undefined) {\n                    return;\n                }\n                var x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                var y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            // Cursor\n            var tooltipElem = this.tooltipElem_;\n            var value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className('t', 'a'));\n                return;\n            }\n            var tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            var ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = tx + \"px\";\n            tooltipElem.style.top = ty + \"px\";\n            tooltipElem.textContent = \"\" + this.formatter_(value);\n            if (!tooltipElem.classList.contains(className('t', 'a'))) {\n                // Suppresses unwanted initial transition\n                tooltipElem.classList.add(className('t', 'a'), className('t', 'in'));\n                forceReflow(tooltipElem);\n                tooltipElem.classList.remove(className('t', 'in'));\n            }\n        };\n        GraphLogView.prototype.onValueUpdate_ = function () {\n            this.update_();\n        };\n        GraphLogView.prototype.onCursorChange_ = function () {\n            this.update_();\n        };\n        return GraphLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var GraphLogController = /** @class */ (function () {\n        function GraphLogController(doc, config) {\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n            this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n            this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            if (!supportsTouch(doc)) {\n                this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n                this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            }\n            else {\n                var ph = new PointerHandler(this.view.element);\n                ph.emitter.on('down', this.onGraphPointerDown_);\n                ph.emitter.on('move', this.onGraphPointerMove_);\n                ph.emitter.on('up', this.onGraphPointerUp_);\n            }\n        }\n        GraphLogController.prototype.onGraphMouseLeave_ = function () {\n            this.cursor_.index = -1;\n        };\n        GraphLogController.prototype.onGraphMouseMove_ = function (ev) {\n            var bounds = this.view.element.getBoundingClientRect();\n            this.cursor_.index = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n        };\n        GraphLogController.prototype.onGraphPointerDown_ = function (ev) {\n            this.onGraphPointerMove_(ev);\n        };\n        GraphLogController.prototype.onGraphPointerMove_ = function (ev) {\n            if (!ev.data.point) {\n                this.cursor_.index = -1;\n                return;\n            }\n            this.cursor_.index = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n        };\n        GraphLogController.prototype.onGraphPointerUp_ = function () {\n            this.cursor_.index = -1;\n        };\n        return GraphLogController;\n    }());\n\n    function createFormatter() {\n        // TODO: formatter precision\n        return createNumberFormatter(2);\n    }\n    function createTextMonitor(args) {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogMonitorController(args.document, {\n                formatter: createFormatter(),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: createFormatter(),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function createGraphMonitor(args) {\n        var _a, _b, _c;\n        return new GraphLogController(args.document, {\n            formatter: createFormatter(),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            maxValue: (_b = ('max' in args.params ? args.params.max : null)) !== null && _b !== void 0 ? _b : 100,\n            minValue: (_c = ('min' in args.params ? args.params.min : null)) !== null && _c !== void 0 ? _c : 0,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    /**\n     * @hidden\n     */\n    var NumberMonitorPlugin = {\n        id: 'monitor-number',\n        accept: function (value, _params) { return (typeof value === 'number' ? value : null); },\n        binding: {\n            defaultBufferSize: function (params) { return (shouldShowGraph(params) ? 64 : 1); },\n            reader: function (_args) { return numberFromUnknown; },\n        },\n        controller: function (args) {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var StringMonitorPlugin = {\n        id: 'monitor-string',\n        accept: function (value, _params) { return (typeof value === 'string' ? value : null); },\n        binding: {\n            reader: function (_args) { return stringFromUnknown; },\n        },\n        controller: function (args) {\n            var _a;\n            var value = args.value;\n            var multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new SingleLogMonitorController(args.document, {\n                formatter: formatString,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function createDefaultWrapperElement(doc) {\n        var elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(\"style[data-tp-style=\" + id + \"]\")) {\n            return;\n        }\n        var styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    function embedDefaultStyleIfNeeded(doc) {\n        embedStyle(doc, 'default', '.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-fldv_b,.tp-rotv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-h);line-height:var(--bld-h);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-h) + 4px);line-height:calc(var(--bld-h) + 4px);overflow:hidden;padding-left:calc(var(--cnt-h-p) + 8px);padding-right:calc(2px * 2 + var(--bld-h) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\\'\\';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-h) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-h);line-height:var(--bld-h);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-h);width:100%}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-h);position:relative;width:var(--bld-h)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-h)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-h)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:\\'\\';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-h) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-h);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-h);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-h);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-h)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-h);line-height:var(--bld-h);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-h) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--value-width)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv.tp-v-disabled .tp-lstv_s{opacity:0.5}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-h) * 3);line-height:var(--bld-h);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-h);margin-right:4px;position:relative;width:var(--bld-h)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-h)}.tp-p2dpv{padding-left:calc(var(--bld-h) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius-v3, 6px);--cnt-h-p: var(--tp-container-horizontal-padding-v3, 4px);--cnt-v-p: var(--tp-container-vertical-padding-v3, 4px);--elm-br: var(--tp-element-border-radius-v3, 2px);--bld-h: var(--tp-blade-height-v3, 20px);--bld-s: var(--tp-blade-spacing-v3, 4px);--value-width: var(--tp-value-width-v3, 160px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, var(--tp-folder-background-color, rgba(187,188,196,0.1)));--cnt-bg-a: var(--tp-container-background-color-active, var(--tp-folder-background-color-active, rgba(187,188,196,0.25)));--cnt-bg-f: var(--tp-container-background-color-focus, var(--tp-folder-background-color-focus, rgba(187,188,196,0.2)));--cnt-bg-h: var(--tp-container-background-color-hover, var(--tp-folder-background-color-hover, rgba(187,188,196,0.15)));--cnt-fg: var(--tp-container-foreground-color, var(--tp-folder-foreground-color, #bbbcc4));--in-bg: var(--tp-input-background-color, rgba(0,0,0,0.2));--in-bg-a: var(--tp-input-background-color-active, rgba(0,0,0,0.35));--in-bg-f: var(--tp-input-background-color-focus, rgba(0,0,0,0.3));--in-bg-h: var(--tp-input-background-color-hover, rgba(0,0,0,0.25));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, var(--tp-separator-color, rgba(0,0,0,0.2)));--button-background-color: var(--btn-bg);--button-background-color-active: var(--btn-bg-a);--button-background-color-focus: var(--btn-bg-f);--button-background-color-hover: var(--btn-bg-h);--button-foreground-color: var(--btn-fg);--folder-background-color: var(--cnt-bg);--folder-background-color-active: var(--cnt-bg-a);--folder-background-color-focus: var(--cnt-bg-f);--folder-background-color-hover: var(--cnt-bg-h);--folder-foreground-color: var(--cnt-fg);--input-background-color: var(--in-bg);--input-background-color-active: var(--in-bg-a);--input-background-color-focus: var(--in-bg-f);--input-background-color-hover: var(--in-bg-h);--input-foreground-color: var(--in-fg);--label-foregound-color: var(--lbl-fg);--monitor-background-color: var(--mo-bg);--monitor-foreground-color: var(--mo-fg);--separator-color: var(--grv-fg);--unit-size: var(--bld-h)}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-h) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-h);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-h) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-h) + 4px);line-height:calc(var(--bld-h) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';height:calc(var(--bld-h) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:\\'\\';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}');\n        getAllPlugins().forEach(function (plugin) {\n            if (plugin.css) {\n                embedStyle(doc, \"plugin-\" + plugin.id, plugin.css);\n            }\n        });\n    }\n    /**\n     * The Tweakpane interface.\n     */\n    var Tweakpane = /** @class */ (function (_super) {\n        __extends(Tweakpane, _super);\n        function Tweakpane(opt_config) {\n            var _a;\n            var _this = this;\n            var config = opt_config || {};\n            var doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            var rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: createBlade$1(),\n                props: ValueMap.fromObject({\n                    title: config.title,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            _this = _super.call(this, rootController) || this;\n            _this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            _this.containerElem_.appendChild(_this.element);\n            _this.doc_ = doc;\n            _this.usesDefaultWrapper_ = !config.container;\n            embedDefaultStyleIfNeeded(_this.document);\n            return _this;\n        }\n        Object.defineProperty(Tweakpane.prototype, \"document\", {\n            get: function () {\n                if (!this.doc_) {\n                    throw TpError.alreadyDisposed();\n                }\n                return this.doc_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Tweakpane.prototype.dispose = function () {\n            var containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                var parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            _super.prototype.dispose.call(this);\n        };\n        Tweakpane.version = new Semver('2.4.3');\n        return Tweakpane;\n    }(RootApi));\n    function registerDefaultPlugins() {\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            Point4dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n        ].forEach(function (p) {\n            registerPlugin({\n                type: 'input',\n                plugin: p,\n            });\n        });\n        [BooleanMonitorPlugin, StringMonitorPlugin, NumberMonitorPlugin].forEach(function (p) {\n            registerPlugin({\n                type: 'monitor',\n                plugin: p,\n            });\n        });\n        [SliderBladePlugin, ListBladePlugin, TabBladePlugin, TextBladePlugin].forEach(function (p) {\n            registerPlugin({\n                type: 'blade',\n                plugin: p,\n            });\n        });\n    }\n    registerDefaultPlugins();\n\n    return Tweakpane;\n\n})));\n", "export const CONFIG_DEFAULTS = {\n    BACKGROUND_COLOR: 'BackgroundColor',\n    BATCH_SIZE: 'BatchSize',\n    DEFAULT_ORIGIN: 'DefaultOrigin',\n    MAX_TEXTURES: 'MaxTextures',\n    PARENT: 'Parent',\n    SIZE: 'Size',\n    SCENES: 'Scenes',\n    RENDERER: 'Renderer',\n    AUTO: 'Auto',\n    WEBGL: 'WebGL',\n    CANVAS: 'Canvas',\n    WEBGL_CONTEXT: 'WebGLContext',\n    CANVAS_CONTEXT: 'CanvasContext',\n    BANNER: 'Banner',\n};\n", "export const ConfigStore = new Map();\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBackgroundColor (color: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BACKGROUND_COLOR, color);\n}\n", "import { SetBackgroundColor } from './SetBackgroundColor';\n\nexport function BackgroundColor (color: number): () => void\n{\n    return (): void =>\n    {\n        SetBackgroundColor(color);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBanner (title: string = '', version: string = '', url: string = '', color: string = '#fff', background: string = 'linear-gradient(#3e0081 40%, #00bcc3)'): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BANNER, { title, version, url, color, background });\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetBatchSize (size: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.BATCH_SIZE, size);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetHeight (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).height;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetResolution (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).resolution;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetWidth (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SIZE).width;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetSize (width: number = 800, height: number = 600, resolution: number = 1): void\n{\n    if (resolution === 0)\n    {\n        resolution = window.devicePixelRatio;\n    }\n\n    ConfigStore.set(CONFIG_DEFAULTS.SIZE, { width, height, resolution });\n}\n", "import { IGLTextureBindingConfig } from './webgl1/textures/IGLTextureBindingConfig';\nimport { ITexture } from '../textures/ITexture';\n\nexport type BindingQueueEntry = {\n    texture: ITexture,\n    glConfig: IGLTextureBindingConfig\n};\n\nconst queue: BindingQueueEntry[] = [];\n\nexport const BindingQueue =\n{\n    add: (texture: ITexture, glConfig?: IGLTextureBindingConfig): void =>\n    {\n        queue.push({ texture, glConfig });\n    },\n\n    get: (): BindingQueueEntry[] =>\n    {\n        return queue;\n    },\n\n    clear: (): void =>\n    {\n        queue.length = 0;\n    }\n};\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBackgroundColor (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.BACKGROUND_COLOR);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { IRendererConstructor } from '../../renderer/IRendererConstructor';\n\nexport function SetRenderer (renderer: IRendererConstructor): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.RENDERER, renderer);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetDefaultOrigin (x: number = 0.5, y: number = x): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.DEFAULT_ORIGIN, { x, y });\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function SetMaxTextures (max: number): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.MAX_TEXTURES, max);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Attempts to get the target DOM element based on the given value, which can be either\n * a string, in which case it will be looked-up by ID, or an element node. If nothing\n * can be found it will return a reference to the document.body.\n *\n * @function Phaser.DOM.GetElement\n * @since 4.0.0\n *\n * @param {(string | HTMLElement)} [target] - The DOM element to look-up.\n * \n * @returns {HTMLElement} The HTML Element that was found.\n */\nexport function GetElement (target?: string | HTMLElement): HTMLElement\n{\n    let element: HTMLElement;\n\n    if (target)\n    {\n        if (typeof target === 'string')\n        {\n            //  Hopefully an element ID\n            element = document.getElementById(target);\n        }\n        else if (typeof target === 'object' && target.nodeType === 1)\n        {\n            //  Quick test for a HTMLElement\n            element = target;\n        }\n    }\n\n    if (!element)\n    {\n        element = document.body;\n    }\n\n    return element;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { GetElement } from '../../dom/GetElement';\n\nexport function SetParent (parentElement?: string | HTMLElement): void\n{\n    //  If this function was called and `null` *wasn't* given as the parent\n    //  then we try to figure it out, or fallback to the document body\n    if (parentElement)\n    {\n        ConfigStore.set(CONFIG_DEFAULTS.PARENT, GetElement(parentElement));\n    }\n}\n", "import { SetParent } from './SetParent';\n\nexport function Parent (parentElement?: string | HTMLElement): () => void\n{\n    return (): void =>\n    {\n        SetParent(parentElement);\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { ISceneConstructor } from '../../scenes/ISceneConstructor';\n\nexport function SetScenes (scenes?: ISceneConstructor | Array<ISceneConstructor>): void\n{\n    ConfigStore.set(CONFIG_DEFAULTS.SCENES, [].concat(scenes));\n}\n", "import { ISceneConstructor } from '../../scenes/ISceneConstructor';\nimport { SetScenes } from './SetScenes';\n\nexport function Scenes (scenes?: ISceneConstructor | Array<ISceneConstructor>): () => void\n{\n    return (): void =>\n    {\n        SetScenes(scenes);\n    };\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Checks if a given point is inside a Rectangle's bounds.\n */\nexport function RectangleContains (rect: IRectangle, x: number, y: number): boolean\n{\n    if (rect.width <= 0 || rect.height <= 0)\n    {\n        return false;\n    }\n\n    return (rect.x <= x && rect.x + rect.width >= x && rect.y <= y && rect.y + rect.height >= y);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RectangleContains } from './RectangleContains';\n\nexport class Rectangle\n{\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n\n    constructor (x: number = 0, y: number = 0, width: number = 0, height: number = 0)\n    {\n        this.set(x, y, width, height);\n    }\n\n    set (x: number = 0, y: number = 0, width: number = 0, height: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n\n        return this;\n    }\n\n    contains (x: number, y: number): boolean\n    {\n        return RectangleContains(this, x, y);\n    }\n\n    set right (value: number)\n    {\n        if (value <= this.x)\n        {\n            this.width = 0;\n        }\n        else\n        {\n            this.width = value - this.x;\n        }\n    }\n\n    get right (): number\n    {\n        return this.x + this.width;\n    }\n\n    set bottom (value: number)\n    {\n        if (value <= this.y)\n        {\n            this.height = 0;\n        }\n        else\n        {\n            this.height = value - this.y;\n        }\n    }\n\n    get bottom (): number\n    {\n        return this.y + this.height;\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function AddViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): Rectangle\n{\n    const viewport = new Rectangle(x, y, width, height);\n\n    renderPass.viewportStack.push(viewport);\n\n    return viewport;\n}\n", "export let gl: WebGLRenderingContext;\n\nexport const GL =\n{\n    get: (): WebGLRenderingContext =>\n    {\n        return gl;\n    },\n\n    set: (context: WebGLRenderingContext | undefined): void =>\n    {\n        gl = context;\n    }\n};\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle';\nimport { gl } from '../GL';\n\nexport function BindViewport (renderPass: IRenderPass, viewport?: Rectangle): void\n{\n    if (!viewport)\n    {\n        viewport = renderPass.currentViewport;\n\n        if (!viewport)\n        {\n            return;\n        }\n    }\n\n    const glv = gl.getParameter(gl.VIEWPORT);\n\n    if (glv[0] !== viewport.x || glv[1] !== viewport.y || glv[2] !== viewport.width || glv[3] !== viewport.height)\n    {\n        gl.viewport(viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n}\n", "import { AddViewport } from './AddViewport';\nimport { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function SetViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\n{\n    const entry = AddViewport(renderPass, x, y, width, height);\n\n    BindViewport(renderPass, entry);\n\n    renderPass.currentViewport = entry;\n}\n", "import { FramebufferStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { SetViewport } from './SetViewport';\nimport { gl } from '../GL';\n\nexport function BindFramebuffer (renderPass: IRenderPass, clear: boolean = true, entry?: FramebufferStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentFramebuffer;\n    }\n\n    const { framebuffer, viewport } = entry;\n\n    //  TODO - Only bind if different\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    if (clear)\n    {\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    }\n\n    if (viewport)\n    {\n        SetViewport(renderPass, viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n}\n", "import { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function PopViewport (renderPass: IRenderPass): void\n{\n    const stack = renderPass.viewportStack;\n\n    //  > 1 because index 0 contains the default, which we don't want to remove\n    if (stack.length > 1)\n    {\n        stack.pop();\n    }\n\n    renderPass.currentViewport = stack[ stack.length - 1 ];\n\n    BindViewport(renderPass);\n}\n", "import { BindFramebuffer } from './BindFramebuffer';\nimport { IRenderPass } from './IRenderPass';\nimport { PopViewport } from './PopViewport';\n\nexport function PopFramebuffer (renderPass: IRenderPass): void\n{\n    const stack = renderPass.framebufferStack;\n\n    //  > 1 because index 0 contains the default, which we don't want to remove\n    if (stack.length > 1)\n    {\n        if (renderPass.currentFramebuffer.viewport)\n        {\n            PopViewport(renderPass);\n        }\n\n        stack.pop();\n    }\n\n    renderPass.currentFramebuffer = stack[ stack.length - 1 ];\n\n    BindFramebuffer(renderPass, false);\n}\n", "import { FramebufferStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function AddFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, viewport?: Rectangle): FramebufferStackEntry\n{\n    const entry = { framebuffer, viewport };\n\n    renderPass.framebufferStack.push(entry);\n\n    return entry;\n}\n", "import { AddFramebuffer } from './AddFramebuffer';\nimport { BindFramebuffer } from './BindFramebuffer';\nimport { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle';\n\nexport function SetFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer, clear: boolean = true, viewport?: Rectangle): void\n{\n    const entry = AddFramebuffer(renderPass, framebuffer, viewport);\n\n    BindFramebuffer(renderPass, clear, entry);\n\n    renderPass.currentFramebuffer = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { PopFramebuffer } from './PopFramebuffer';\nimport { SetFramebuffer } from './SetFramebuffer';\nimport { gl } from '../GL';\n\nexport function Draw (renderPass: IRenderPass): void\n{\n    const count = renderPass.count;\n\n    if (count === 0)\n    {\n        return;\n    }\n\n    const currentBuffer = renderPass.currentVertexBuffer;\n    const currentShader = renderPass.currentShader;\n\n    const renderToFramebuffer = currentShader.shader.renderToFramebuffer;\n\n    if (renderToFramebuffer)\n    {\n        SetFramebuffer(renderPass, currentShader.shader.framebuffer, true);\n    }\n\n    if (count === currentBuffer.batchSize)\n    {\n        const type = (currentBuffer.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n        gl.bufferData(gl.ARRAY_BUFFER, currentBuffer.data, type);\n    }\n    else\n    {\n        const subsize = (currentBuffer.indexed) ? count * currentBuffer.entryElementSize : count * currentBuffer.vertexElementSize;\n\n        const view = currentBuffer.vertexViewF32.subarray(0, subsize);\n\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, view);\n    }\n\n    if (currentBuffer.indexed)\n    {\n        gl.drawElements(gl.TRIANGLES, count * currentBuffer.entryIndexSize, gl.UNSIGNED_SHORT, 0);\n    }\n    else\n    {\n        gl.drawArrays(gl.TRIANGLES, 0, count);\n    }\n\n    if (renderToFramebuffer)\n    {\n        PopFramebuffer(renderPass);\n    }\n}\n", "import { Draw } from './Draw';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Flush (renderPass: IRenderPass, forceCount?: number): boolean\n{\n    if (forceCount)\n    {\n        renderPass.count = forceCount;\n    }\n\n    const count = renderPass.count;\n\n    if (count === 0)\n    {\n        return false;\n    }\n\n    Draw(renderPass);\n\n    renderPass.prevCount = count;\n\n    renderPass.count = 0;\n\n    renderPass.flushTotal++;\n\n    return true;\n}\n", "import { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\n\nexport function End (renderPass: IRenderPass): void\n{\n    Flush(renderPass);\n}\n", "export function GetRGBArray (color: number, output: number[] = []): number[]\n{\n    const r: number = color >> 16 & 0xFF;\n    const g: number = color >> 8 & 0xFF;\n    const b: number = color & 0xFF;\n    const a: number = (color > 16777215) ? color >>> 24 : 255;\n\n    output[0] = r / 255;\n    output[1] = g / 255;\n    output[2] = b / 255;\n    output[3] = a / 255;\n\n    return output;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetWebGLContext (): WebGLContextAttributes\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.WEBGL_CONTEXT);\n}\n", "import { IGLTextureBinding } from './IGLTextureBinding';\nimport { gl } from '../GL';\n\nexport function CreateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\n{\n    const { parent, flipY, unpackPremultiplyAlpha, minFilter, magFilter, wrapS, wrapT, generateMipmap, isPOT } = binding;\n\n    const source = parent.image;\n\n    let width = parent.width;\n    let height = parent.height;\n\n    const glTexture: WebGLTexture = gl.createTexture();\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture);\n\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, unpackPremultiplyAlpha);\n\n    if (source)\n    {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n\n        width = source.width;\n        height = source.height;\n    }\n    else\n    {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    }\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n\n    if (generateMipmap && isPOT)\n    {\n        gl.generateMipmap(gl.TEXTURE_2D);\n    }\n\n    binding.texture = glTexture;\n\n    return glTexture;\n}\n", "import { gl } from '../GL';\n\nexport function DeleteFramebuffer (framebuffer: WebGLFramebuffer): void\n{\n    if (gl && gl.isFramebuffer(framebuffer))\n    {\n        gl.deleteFramebuffer(framebuffer);\n    }\n}\n", "import { gl } from '../GL';\n\nexport function DeleteGLTexture (texture: WebGLTexture): void\n{\n    if (gl.isTexture(texture))\n    {\n        gl.deleteTexture(texture);\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Checks if the given `width` and `height` are a power of two.\n * Useful for checking texture dimensions.\n *\n * @function Phaser.Math.Pow2.IsSize\n * @since 3.0.0\n *\n * @param {number} width - The width.\n * @param {number} height - The height.\n *\n * @return {boolean} `true` if `width` and `height` are a power of two, otherwise `false`.\n */\nexport function IsSizePowerOfTwo (width: number, height: number): boolean\n{\n    if (width < 1 || height < 1)\n    {\n        return false;\n    }\n\n    return ((width & (width - 1)) === 0) && ((height & (height - 1)) === 0);\n}\n", "import { gl } from '../GL';\n\nexport function SetGLTextureFilterMode (texture: WebGLTexture, linear: boolean = true): void\n{\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    const mode = (linear) ? gl.LINEAR : gl.NEAREST;\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, mode);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, mode);\n}\n", "import { IGLTextureBinding } from './IGLTextureBinding';\nimport { gl } from '../GL';\n\nexport function UpdateGLTexture <T extends IGLTextureBinding> (binding: T): WebGLTexture\n{\n    const source = binding.parent.image;\n    const width = source.width;\n    const height = source.height;\n\n    if (width > 0 && height > 0)\n    {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, binding.flipY);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source);\n    }\n\n    return binding.texture;\n}\n", "import { CreateGLTexture } from './CreateGLTexture';\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\nimport { DeleteGLTexture } from './DeleteGLTexture';\nimport { IGLTextureBinding } from './IGLTextureBinding';\nimport { IGLTextureBindingConfig } from './IGLTextureBindingConfig';\nimport { ITexture } from '../../../textures/ITexture';\nimport { IsSizePowerOfTwo } from '../../../math/pow2/IsSizePowerOfTwo';\nimport { SetGLTextureFilterMode } from './SetGLTextureFilterMode';\nimport { UpdateGLTexture } from './UpdateGLTexture';\nimport { gl } from '../GL';\n\nexport class GLTextureBinding implements IGLTextureBinding\n{\n    parent: ITexture;\n\n    texture: WebGLTexture;\n    framebuffer: WebGLFramebuffer;\n    depthbuffer: WebGLRenderbuffer;\n\n    index: number = 0;\n    indexCounter: number = -1;\n\n    dirtyIndex: boolean = true;\n    unpackPremultiplyAlpha: boolean = true;\n\n    minFilter: GLenum;\n    magFilter: GLenum;\n    wrapS: GLenum;\n    wrapT: GLenum;\n\n    flipY: boolean = false;\n    isPOT: boolean = false;\n    generateMipmap: boolean = false;\n\n    constructor (parent: ITexture, config: IGLTextureBindingConfig = {})\n    {\n        this.parent = parent;\n\n        this.isPOT = IsSizePowerOfTwo(parent.width, parent.height);\n\n        const {\n            texture = null,\n            framebuffer = null,\n            depthbuffer = null,\n            unpackPremultiplyAlpha = true,\n            minFilter = (this.isPOT) ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR,\n            magFilter = gl.LINEAR,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            generateMipmap = this.isPOT,\n            flipY = false\n        } = config;\n\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.generateMipmap = generateMipmap;\n        this.flipY = flipY;\n        this.unpackPremultiplyAlpha = unpackPremultiplyAlpha;\n\n        if (framebuffer)\n        {\n            this.framebuffer = framebuffer;\n        }\n\n        if (depthbuffer)\n        {\n            this.depthbuffer = depthbuffer;\n        }\n\n        if (texture)\n        {\n            this.texture = texture;\n        }\n        else\n        {\n            CreateGLTexture(this);\n        }\n    }\n\n    //  Needed?\n    setFilter (linear: boolean): void\n    {\n        if (this.texture)\n        {\n            SetGLTextureFilterMode(this.texture, linear);\n        }\n    }\n\n    create (): WebGLTexture\n    {\n        const texture = this.texture;\n\n        if (texture)\n        {\n            DeleteGLTexture(texture);\n        }\n\n        return CreateGLTexture(this);\n    }\n\n    update (): WebGLTexture\n    {\n        const texture = this.texture;\n\n        if (!texture)\n        {\n            return CreateGLTexture(this);\n        }\n        else\n        {\n            return UpdateGLTexture(this);\n        }\n    }\n\n    setIndex (index: number): void\n    {\n        this.dirtyIndex = (index !== this.index);\n        this.index = index;\n    }\n\n    destroy (): void\n    {\n        DeleteGLTexture(this.texture);\n        DeleteFramebuffer(this.framebuffer);\n\n        this.parent = null;\n        this.texture = null;\n        this.framebuffer = null;\n    }\n}\n", "import { BindingQueue } from '../../BindingQueue';\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\n\nexport function ProcessBindingQueue (): void\n{\n    const queue = BindingQueue.get();\n\n    queue.forEach(entry =>\n    {\n        const { texture, glConfig } = entry;\n\n        if (!texture.binding)\n        {\n            texture.binding = new GLTextureBinding(texture, glConfig);\n        }\n    });\n\n    BindingQueue.clear();\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetMaxTextures (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.MAX_TEXTURES);\n}\n", "import { gl } from '../GL';\n\n//  From Pixi v5\n\nconst fragTemplate = [\n    'precision mediump float;',\n    'void main(void){',\n    'float test = 0.1;',\n    '%forloop%',\n    'gl_FragColor = vec4(0.0);',\n    '}'\n].join('\\n');\n\nfunction GenerateSrc (maxIfs: number): string\n{\n    let src = '';\n\n    for (let i = 0; i < maxIfs; ++i)\n    {\n        if (i > 0)\n        {\n            src += '\\nelse ';\n        }\n\n        if (i < maxIfs - 1)\n        {\n            src += `if(test == ${i}.0){}`;\n        }\n    }\n\n    return src;\n}\n\nexport function CheckShaderMaxIfStatements (maxIfs: number): number\n{\n    const shader = gl.createShader(gl.FRAGMENT_SHADER);\n\n    // eslint-disable-next-line no-constant-condition\n    while (true)\n    {\n        const fragmentSrc = fragTemplate.replace(/%forloop%/gi, GenerateSrc(maxIfs));\n\n        gl.shaderSource(shader, fragmentSrc);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n        {\n            maxIfs = (maxIfs / 2) | 0;\n        }\n        else\n        {\n            // valid!\n            break;\n        }\n    }\n\n    return maxIfs;\n}\n", "import { GetMaxTextures, SetMaxTextures } from '../../../config/maxtextures/';\n\nimport { CheckShaderMaxIfStatements } from '../shaders/CheckShaderMaxIfStatements';\nimport { IRenderPass } from './IRenderPass';\nimport { gl } from '../GL';\n\n//  As per the WebGL spec, the browser should always support at least 8 texture units\n\nexport function CreateTempTextures (renderPass: IRenderPass): void\n{\n    let maxGPUTextures: number = CheckShaderMaxIfStatements(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\n\n    const maxConfigTextures = GetMaxTextures();\n\n    if (maxConfigTextures === 0 || (maxConfigTextures > 0 && maxConfigTextures > maxGPUTextures))\n    {\n        //  Insert gpu limit into config value\n        SetMaxTextures(maxGPUTextures);\n    }\n    else if (maxConfigTextures > 0 && maxConfigTextures < maxGPUTextures)\n    {\n        //  Limit to config setting, or 8, whichever is higher\n        maxGPUTextures = Math.max(8, maxConfigTextures);\n    }\n\n    const tempTextures = renderPass.tempTextures;\n\n    if (tempTextures.length)\n    {\n        tempTextures.forEach(texture =>\n        {\n            gl.deleteTexture(texture);\n        });\n    }\n\n    const index = [];\n\n    //  Create temp textures to stop WebGL errors on mac os\n    for (let texturesIndex: number = 0; texturesIndex < maxGPUTextures; texturesIndex++)\n    {\n        const tempTexture = gl.createTexture();\n\n        gl.activeTexture(gl.TEXTURE0 + texturesIndex);\n\n        gl.bindTexture(gl.TEXTURE_2D, tempTexture);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([ 0, 0, 255, 255 ]));\n\n        tempTextures[texturesIndex] = tempTexture;\n\n        index.push(texturesIndex);\n    }\n\n    renderPass.maxTextures = maxGPUTextures;\n\n    renderPass.textureIndex = index;\n\n    //  ID Zero is reserved for FBO Textures\n    renderPass.currentActiveTexture = 1;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBatchSize (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.BATCH_SIZE);\n}\n", "import { gl } from '../GL';\n\nexport function DeleteGLBuffer (buffer: WebGLBuffer): void\n{\n    if (gl.isBuffer(buffer))\n    {\n        gl.deleteBuffer(buffer);\n    }\n}\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\nimport { IVertexBuffer } from './IVertexBuffer';\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\nimport { gl } from '../GL';\n\nexport class VertexBuffer implements IVertexBuffer\n{\n    /**\n     * Maximum number of entries per batch before a flush takes place.\n     * For a Mesh, this is the number of triangles / faces in the vertex buffer.\n     * Typically each face consists of 3 verticies.\n     *\n     * @type {number}\n     */\n    batchSize: number;\n\n    /**\n     * The size, in bytes, per entry in the array buffer.\n     *\n     * @type {number}\n     */\n    dataSize: number;\n\n    /**\n     * The amount of elements / floats a single vertex consists of.\n     *\n     * The default is 6:\n     *\n     * position (x,y - 2 floats)\n     * texture coord (x,y - 2 floats)\n     * texture index (uint)\n     * packed color (uint)\n     *\n     * @type {number}\n     */\n    vertexElementSize: number;\n\n    /**\n     * The size, in bytes, of a single vertex in the array buffer.\n     *\n     * This is `vertexElementSize * dataSize`.\n     *\n     * @type {number}\n     */\n    vertexByteSize: number;\n\n    /**\n     * The size, in bytes, of a single entry in the array buffer.\n     *\n     * This is `vertexByteSize * 4` for a quad.\n     *\n     * @type {number}\n     */\n    entryByteSize: number;\n\n    /**\n     * The size, in bytes, of the Array Buffer.\n     *\n     * This is `batchSize * entryByteSize`\n     *\n     * @type {number}\n     */\n    bufferByteSize: number;\n\n    /**\n     * The Array Buffer.\n     *\n     * @type {ArrayBuffer}\n     */\n    data: ArrayBuffer;\n\n    /**\n     * Float32 View of the Array Buffer.\n     *\n     * @type {Float32Array}\n     */\n    vertexViewF32: Float32Array;\n\n    /**\n     * Uint32 View of the Array Buffer.\n     *\n     * @type {Uint32Array}\n     */\n    vertexViewU32: Uint32Array;\n\n    /**\n     * The data array buffer.\n     *\n     * @type {WebGLBuffer}\n     */\n    vertexBuffer: WebGLBuffer;\n\n    indexed: boolean = false;\n\n    isDynamic: boolean = false;\n\n    /**\n     * The total number of entries added to the buffer so far, or reserved to be added.\n     *\n     * This is the total number of indices / verticies, not faces.\n     * Typically there are 3 verts per face, so this value is usually batchSize x 3 for a Mesh.\n     *\n     * @type {number}\n     */\n    count: number = 0;\n\n    /**\n     * The current buffer offset.\n     *\n     * @type {number}\n     */\n    offset: number = 0;\n\n    elementsPerEntry: number;\n\n    constructor (config: IVertexBufferConfig = {})\n    {\n        const {\n            batchSize = 1,\n            dataSize = 4,\n            isDynamic = true,\n            elementsPerEntry = 4,\n            vertexElementSize = 6\n        } = config;\n\n        this.batchSize = batchSize;\n        this.dataSize = dataSize;\n        this.vertexElementSize = vertexElementSize;\n        this.isDynamic = isDynamic;\n        this.elementsPerEntry = elementsPerEntry;\n\n        //  Derive the remaining values\n        this.vertexByteSize = vertexElementSize * dataSize;\n        this.entryByteSize = this.vertexByteSize * elementsPerEntry;\n        this.bufferByteSize = batchSize * this.entryByteSize;\n\n        this.create();\n    }\n\n    resize (batchSize: number): void\n    {\n        this.batchSize = batchSize;\n        this.bufferByteSize = batchSize * this.entryByteSize;\n\n        if (this.vertexBuffer)\n        {\n            DeleteGLBuffer(this.vertexBuffer);\n        }\n\n        this.create();\n    }\n\n    create (): void\n    {\n        const data = new ArrayBuffer(this.bufferByteSize);\n\n        this.data = data;\n\n        this.vertexViewF32 = new Float32Array(data);\n        this.vertexViewU32 = new Uint32Array(data);\n\n        this.vertexBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\n        const type = (this.isDynamic) ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n        gl.bufferData(gl.ARRAY_BUFFER, data, type);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    }\n\n    add (count: number): void\n    {\n        this.count += count;\n        this.offset += (this.vertexElementSize * count);\n    }\n\n    reset (): void\n    {\n        this.count = 0;\n        this.offset = 0;\n    }\n\n    canContain (count: number): boolean\n    {\n        return ((this.count + count) <= this.batchSize);\n    }\n\n    free (): number\n    {\n        return Math.max(0, 1 - (this.count / this.batchSize));\n    }\n\n    bind (): void\n    {\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    }\n\n    destroy (): void\n    {\n        DeleteGLBuffer(this.vertexBuffer);\n\n        this.data = null;\n        this.vertexViewF32 = null;\n        this.vertexViewU32 = null;\n        this.vertexBuffer = null;\n    }\n}\n", "import { DeleteGLBuffer } from './DeleteGLBuffer';\nimport { IIndexedVertexBuffer } from './IIndexedVertexBuffer';\nimport { IVertexBufferConfig } from './IVertexBufferConfig';\nimport { VertexBuffer } from './VertexBuffer';\nimport { gl } from '../GL';\n\nexport class IndexedVertexBuffer extends VertexBuffer implements IIndexedVertexBuffer\n{\n    /**\n     * The size, in bytes, per entry in the element index array.\n     *\n     * @type {number}\n     */\n    indexSize: number;\n\n    /**\n     * The size, in quantity of elements, of a single entry in the element index array.\n     *\n     * This is `vertexElementSize * 4` for a quad.\n     *\n     * @type {number}\n     */\n    entryElementSize: number;\n\n    /**\n     * The total number of entries per entry in the element index array.\n     *\n     * For a quad, the IBO contains 6 entries per entry:\n     *\n     * 0, 1, 2\n     * 2, 3, 0\n     *\n     * @type {number}\n     */\n    entryIndexSize: number;\n\n    /**\n     * The Element Array Buffer.\n     *\n     * @type {Uint16Array}\n     */\n    index: Uint16Array;\n\n    /**\n     * The element array buffer.\n     *\n     * @type {WebGLBuffer}\n     */\n    indexBuffer: WebGLBuffer;\n\n    indexLayout: number[];\n\n    constructor (config: IVertexBufferConfig = {})\n    {\n        super(config);\n\n        const {\n            indexSize = 4,\n            entryIndexSize = 6,\n            indexLayout = null\n        } = config;\n\n        this.indexed = true;\n\n        this.indexSize = indexSize;\n        this.entryIndexSize = entryIndexSize;\n\n        //  Derive the remaining values\n        this.entryElementSize = this.vertexElementSize * this.elementsPerEntry;\n\n        const seededIndexBuffer = [];\n\n        if (indexLayout)\n        {\n            this.indexLayout = indexLayout;\n\n            //  Seed the index buffer\n            for (let i = 0; i < (this.batchSize * indexSize); i += indexSize)\n            {\n                for (let c = 0; c < indexLayout.length; c++)\n                {\n                    seededIndexBuffer.push(i + indexLayout[c]);\n                }\n            }\n        }\n\n        this.create();\n        this.createIndexBuffer(seededIndexBuffer);\n    }\n\n    createIndexBuffer (seededIndex: number[]): void\n    {\n        this.index = new Uint16Array(seededIndex);\n\n        this.indexBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.index, gl.STATIC_DRAW);\n\n        //  Free memory\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        seededIndex = [];\n    }\n\n    bind (): void\n    {\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    }\n\n    destroy (): void\n    {\n        super.destroy();\n\n        DeleteGLBuffer(this.indexBuffer);\n\n        this.index = null;\n        this.indexLayout = null;\n        this.indexBuffer = null;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Checks if an array can be used as a matrix.\n *\n * A matrix is a two-dimensional array (array of arrays), where all sub-arrays (rows) have the same length. There must be at least two rows:\n *\n * ```\n *    [\n *        [ 1, 1, 1, 1, 1, 1 ],\n *        [ 2, 0, 0, 0, 0, 4 ],\n *        [ 2, 0, 1, 2, 0, 4 ],\n *        [ 2, 0, 3, 4, 0, 4 ],\n *        [ 2, 0, 0, 0, 0, 4 ],\n *        [ 3, 3, 3, 3, 3, 3 ]\n *    ]\n * ```\n */\nexport function CheckMatrix (matrix: unknown[][]): boolean\n{\n    if (!Array.isArray(matrix) || matrix.length < 2 || !Array.isArray(matrix[0]))\n    {\n        return false;\n    }\n\n    //  How long is the first row?\n    const size = matrix[0].length;\n\n    //  Validate the rest of the rows are the same length\n    for (let i = 1; i < matrix.length; i++)\n    {\n        if (matrix[i].length !== size)\n        {\n            return false;\n        }\n    }\n\n    return true;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CheckMatrix } from './CheckMatrix';\n\n/**\n * Generates a string (which you can pass to console.log) from the given Array Matrix.\n */\nexport function MatrixToString (matrix: unknown[][]): string\n{\n    let str = '';\n\n    if (!CheckMatrix(matrix))\n    {\n        return str;\n    }\n\n    for (let r = 0; r < matrix.length; r++)\n    {\n        for (let c = 0; c < matrix[r].length; c++)\n        {\n            const cell = matrix[r][c].toString();\n\n            if (cell !== 'undefined')\n            {\n                str = str.padEnd(2, cell);\n            }\n            else\n            {\n                str += '?';\n            }\n\n            if (c < matrix[r].length - 1)\n            {\n                str += ' |';\n            }\n        }\n\n        if (r < matrix.length - 1)\n        {\n            str += '\\n';\n\n            for (let i = 0; i < matrix[r].length; i++)\n            {\n                str += '---';\n\n                if (i < matrix[r].length - 1)\n                {\n                    str += '+';\n                }\n            }\n\n            str += '\\n';\n        }\n\n    }\n\n    return str;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Reverses the columns in the given Array Matrix.\n */\nexport function ReverseColumns (matrix: unknown[][]): unknown[][]\n{\n    return matrix.reverse();\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Reverses the rows in the given Array Matrix.\n */\nexport function ReverseRows (matrix: unknown[][]): unknown[][]\n{\n    for (let i = 0; i < matrix.length; i++)\n    {\n        matrix[i].reverse();\n    }\n\n    return matrix;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Transposes the elements of the given matrix (array of arrays).\n *\n * The transpose of a matrix is a new matrix whose rows are the columns of the original.\n */\nexport function TransposeMatrix (matrix: unknown[][]): unknown[][]\n{\n    const sourceRowCount = matrix.length;\n    const sourceColCount = matrix[0].length;\n\n    const result = new Array(sourceColCount);\n\n    for (let i = 0; i < sourceColCount; i++)\n    {\n        result[i] = new Array(sourceRowCount);\n\n        for (let j = sourceRowCount - 1; j > -1; j--)\n        {\n            result[i][j] = matrix[j][i];\n        }\n    }\n\n    return result;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CheckMatrix } from './CheckMatrix';\nimport { TransposeMatrix } from './TransposeMatrix';\n\n/**\n * Rotates the array matrix based on the given rotation value.\n *\n * The value can be given in degrees: 90, -90, 270, -270 or 180,\n * or a string command: `rotateLeft`, `rotateRight` or `rotate180`.\n *\n * Based on the routine from {@link http://jsfiddle.net/MrPolywhirl/NH42z/}.\n */\nexport function RotateMatrix (matrix: unknown[][], direction: number | string = 90): unknown[][]\n{\n    if (!CheckMatrix(matrix))\n    {\n        return matrix;\n    }\n\n    if (typeof direction !== 'string')\n    {\n        direction = ((direction % 360) + 360) % 360;\n    }\n\n    if (direction === 90 || direction === -270 || direction === 'rotateLeft')\n    {\n        matrix = TransposeMatrix(matrix);\n        matrix.reverse();\n    }\n    else if (direction === -90 || direction === 270 || direction === 'rotateRight')\n    {\n        matrix.reverse();\n        matrix = TransposeMatrix(matrix);\n    }\n    else if (Math.abs(direction as number) === 180 || direction === 'rotate180')\n    {\n        for (let i = 0; i < matrix.length; i++)\n        {\n            matrix[i].reverse();\n        }\n\n        matrix.reverse();\n    }\n\n    return matrix;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix 180 degrees.\n *\n * @function Phaser.Utils.Array.Matrix.Rotate180\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function Rotate180 (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, 180);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix to the left (or 90 degrees)\n *\n * @function Phaser.Utils.Array.Matrix.RotateLeft\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function RotateLeft (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, 90);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RotateMatrix } from './RotateMatrix';\n\n/**\n * Rotates the array matrix to the left (or -90 degrees)\n *\n * @function Phaser.Utils.Array.Matrix.RotateRight\n * @since 3.0.0\n *\n * @generic T\n * @genericUse {T[][]} - [matrix,$return]\n *\n * @param {T[][]} [matrix] - The array to rotate.\n *\n * @return {T[][]} The rotated matrix array. The source matrix should be discard for the returned matrix.\n */\nexport function RotateRight (matrix: unknown[][]): unknown[][]\n{\n    return RotateMatrix(matrix, -90);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Create an array representing the range of numbers (usually integers), between, and inclusive of,\n * the given `start` and `end` arguments. For example:\n *\n * `var array = numberArray(2, 4); // array = [2, 3, 4]`\n * `var array = numberArray(0, 9); // array = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]`\n *\n * This is equivalent to `numberArrayStep(start, end, 1)`.\n *\n * You can optionally provide a prefix and / or suffix string. If given the array will contain\n * strings, not integers. For example:\n *\n * `var array = numberArray(1, 4, 'Level '); // array = [\"Level 1\", \"Level 2\", \"Level 3\", \"Level 4\"]`\n * `var array = numberArray(5, 7, 'HD-', '.png'); // array = [\"HD-5.png\", \"HD-6.png\", \"HD-7.png\"]`\n *\n * @param {number} start - The minimum value the array starts with.\n * @param {number} end - The maximum value the array contains.\n * @param {string} [prefix] - Optional prefix to place before the number. If provided the array will contain strings, not integers.\n * @param {string} [suffix] - Optional suffix to place after the number. If provided the array will contain strings, not integers.\n *\n * @return {(number[]|string[])} The array of number values, or strings if a prefix or suffix was provided.\n */\nexport function NumberArray (start: number, end: number, prefix?: string, suffix?: string): (string | number)[]\n{\n    const result: (string | number)[] = [];\n\n    for (let i = start; i <= end; i++)\n    {\n        if (prefix || suffix)\n        {\n            let key = (prefix) ? prefix + i.toString() : i.toString();\n\n            if (suffix)\n            {\n                key = key.concat(suffix);\n            }\n\n            result.push(key);\n        }\n        else\n        {\n            result.push(i);\n        }\n    }\n\n    return result;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Round a given number so it is further away from zero. That is, positive numbers are rounded up, and negative numbers are rounded down.\n *\n * @function Phaser.Math.RoundAwayFromZero\n * @since 3.0.0\n *\n * @param {number} value - The number to round.\n *\n * @return {number} The rounded number, rounded away from zero.\n */\nexport function RoundAwayFromZero (value: number): number\n{\n    // \"Opposite\" of truncate.\n    return (value > 0) ? Math.ceil(value) : Math.floor(value);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { RoundAwayFromZero } from '../../math/RoundAwayFromZero';\n\n/**\n * Create an array of numbers (positive and/or negative) progressing from `start`\n * up to but not including `end` by advancing by `step`.\n *\n * If `start` is less than `end` a zero-length range is created unless a negative `step` is specified.\n *\n * Certain values for `start` and `end` (eg. NaN/undefined/null) are currently coerced to 0;\n * for forward compatibility make sure to pass in actual numbers.\n *\n * @example\n * NumberArrayStep(4);\n * // => [0, 1, 2, 3]\n *\n * NumberArrayStep(1, 5);\n * // => [1, 2, 3, 4]\n *\n * NumberArrayStep(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * NumberArrayStep(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * NumberArrayStep(1, 4, 0);\n * // => [1, 1, 1]\n *\n * NumberArrayStep(0);\n * // => []\n *\n * @param {number} [start=0] - The start of the range.\n * @param {number} [end=null] - The end of the range.\n * @param {number} [step=1] - The value to increment or decrement by.\n *\n * @return {number[]} The array of number values.\n */\nexport function NumberArrayStep (start: number, end: number, step: number): number[]\n{\n    const result: number[] = [];\n\n    const total = Math.max(RoundAwayFromZero((end - start) / (step || 1)), 0);\n\n    for (let i = 0; i < total; i++)\n    {\n        result.push(start);\n\n        start += step;\n    }\n\n    return result;\n}\n", "/**\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n/**\n * Converts an ArrayBuffer into a base64 string.\n *\n * The resulting string can optionally be a data uri if the `mediaType` argument is provided.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs for more details.\n *\n * @function Phaser.Utils.Base64.ArrayBufferToBase64\n * @since 3.18.0\n *\n * @param {ArrayBuffer} arrayBuffer - The Array Buffer to encode.\n * @param {string} [mediaType] - An optional media type, i.e. `audio/ogg` or `image/jpeg`. If included the resulting string will be a data URI.\n *\n * @return {string} The base64 encoded Array Buffer.\n */\nexport function ArrayBufferToBase64 (arrayBuffer: ArrayBuffer, mediaType: string): string\n{\n    const bytes = new Uint8Array(arrayBuffer);\n    const len = bytes.length;\n\n    let base64 = (mediaType) ? 'data:' + mediaType + ';base64,' : '';\n\n    for (let i = 0; i < len; i += 3)\n    {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2)\n    {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1)\n    {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n\n    return base64;\n}\n", "/**\n * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n//  Use a lookup table to find the index.\nconst lookup = new Uint8Array(256);\n\nfor (let i = 0; i < chars.length; i++)\n{\n    lookup[chars.charCodeAt(i)] = i;\n}\n\n/**\n * Converts a base64 string, either with or without a data uri, into an Array Buffer.\n *\n * @function Phaser.Utils.Base64.Base64ToArrayBuffer\n * @since 3.18.0\n *\n * @param {string} base64 - The base64 string to be decoded. Can optionally contain a data URI header, which will be stripped out prior to decoding.\n *\n * @return {ArrayBuffer} An ArrayBuffer decoded from the base64 data.\n */\nexport function Base64ToArrayBuffer (base64: string): ArrayBuffer\n{\n    //  Is it a data uri? if so, strip the header away\n    base64 = base64.substr(base64.indexOf(',') + 1);\n\n    const len = base64.length;\n    let bufferLength = len * 0.75;\n    let p = 0;\n    let encoded1;\n    let encoded2;\n    let encoded3;\n    let encoded4;\n\n    if (base64[len - 1] === '=')\n    {\n        bufferLength--;\n\n        if (base64[len - 2] === '=')\n        {\n            bufferLength--;\n        }\n    }\n\n    const arrayBuffer = new ArrayBuffer(bufferLength);\n    const bytes = new Uint8Array(arrayBuffer);\n\n    for (let i = 0; i < len; i += 4)\n    {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arrayBuffer;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Capitalizes the first letter of a string if there is one.\n * @example\n * UppercaseFirst('abc');\n * // returns 'Abc'\n * @example\n * UppercaseFirst('the happy family');\n * // returns 'The happy family'\n * @example\n * UppercaseFirst('');\n * // returns ''\n *\n * @function Phaser.Utils.String.UppercaseFirst\n * @since 3.0.0\n *\n * @param {string} str - The string to capitalize.\n *\n * @return {string} A new string, same as the first, but with the first letter capitalized.\n */\nexport function UppercaseFirst (str: string): string\n{\n    return str && str[0].toUpperCase() + str.slice(1);\n}\n", "export function NOOP (): void\n{\n    //  No-op\n}\n", "import { NOOP } from '../../utils';\n\n//  4x4 Matrix in column-major format\n\n/**\n * data[0] = m00\n * data[1] = m01\n * data[2] = m02\n * data[3] = m03\n * data[4] = m10\n * data[5] = m11\n * data[6] = m12\n * data[7] = m13\n * data[8] = m20\n * data[9] = m21\n * data[10] = m22\n * data[11] = m23\n * data[12] = m30\n * data[13] = m31\n * data[14] = m32\n * data[15] = m33\n */\n\nexport class Matrix4\n{\n    data: Float32Array;\n\n    onChange: (mat4: Matrix4) => void;\n\n    constructor (src?: Matrix4 | Float32List)\n    {\n        const data = new Float32Array(16);\n\n        this.data = data;\n        this.onChange = NOOP;\n\n        if (src)\n        {\n            if (Array.isArray(src))\n            {\n                this.fromArray(src);\n            }\n            else\n            {\n                this.fromArray((src as Matrix4).data);\n            }\n        }\n        else\n        {\n            data[0] = 1;\n            data[5] = 1;\n            data[10] = 1;\n            data[15] = 1;\n        }\n    }\n\n    /**\n     * @param m00 - 1st value of 1st row\n     * @param m01 - 2nd value of 1st row\n     * @param m02 - 3rd value of 1st row\n     * @param m03 - 4th value of 1st row\n     * @param m10 - 1st value of 2nd row\n     * @param m11 - 2nd value of 2nd row\n     * @param m12 - 3rd value of 2nd row\n     * @param m13 - 4th value of 2nd row\n     * @param m20 - 1st value of 3rd row\n     * @param m21 - 2nd value of 3rd row\n     * @param m22 - 3rd value of 3rd row\n     * @param m23 - 4th value of 3rd row\n     * @param m30 - 1st value of 4th row\n     * @param m31 - 2nd value of 4th row\n     * @param m32 - 3rd value of 4th row\n     * @param m33 - 4th value of 4th row\n     */\n    set (m00: number, m01: number, m02: number, m03: number, m10: number, m11: number, m12: number, m13: number, m20: number, m21: number, m22: number, m23: number, m30: number, m31: number, m32: number, m33: number): this\n    {\n        const data = this.data;\n\n        data[ 0 ] = m00;\n        data[ 1 ] = m01;\n        data[ 2 ] = m02;\n        data[ 3 ] = m03;\n\n        data[ 4 ] = m10;\n        data[ 5 ] = m11;\n        data[ 6 ] = m12;\n        data[ 7 ] = m13;\n\n        data[ 8 ] = m20;\n        data[ 9 ] = m21;\n        data[ 10 ] = m22;\n        data[ 11 ] = m23;\n\n        data[ 12 ] = m30;\n        data[ 13 ] = m31;\n        data[ 14 ] = m32;\n        data[ 15 ] = m33;\n\n        this.onChange(this);\n\n        return this;\n    }\n\n    toArray (dst: Float32List = [], index: number = 0): Float32List\n    {\n        const data = this.data;\n\n        for (let i = 0; i < 16; i++)\n        {\n            dst[ index + i ] = data[i];\n        }\n\n        return dst;\n    }\n\n    fromArray (src: Float32List, index: number = 0): this\n    {\n        const data = this.data;\n\n        for (let i = 0; i < 16; i++)\n        {\n            data[i] = src[ index + i ];\n        }\n\n        this.onChange(this);\n\n        return this;\n    }\n\n    toString (): string\n    {\n        return '[ mat4=' + this.data.join(', ') + ' ]';\n    }\n\n    destroy (): void\n    {\n        this.onChange = NOOP;\n        this.data = null;\n    }\n}\n", "import { Matrix4 } from './Matrix4';\n\n// Generates a orthogonal projection matrix with the given bounds\n\nexport function Mat4Ortho (left: number, right: number, bottom: number, top: number, near: number, far: number, out: Matrix4 = new Matrix4()): Matrix4\n{\n    const lr = 1 / (left - right);\n    const bt = 1 / (bottom - top);\n    const nf = 1 / (near - far);\n\n    return out.set(\n        -2 * lr,\n        0,\n        0,\n        0,\n        0,\n        -2 * bt,\n        0,\n        0,\n        0,\n        0,\n        2 * nf,\n        0,\n        (left + right) * lr,\n        (top + bottom) * bt,\n        (far + near) * nf,\n        1\n    );\n}\n", "import { IVertexAttribPointer } from './IVertexAttribPointer';\nimport { gl } from '../GL';\n\nexport function CreateAttributes (program: WebGLProgram, config: Object): Map<string, IVertexAttribPointer>\n{\n    const attributes = new Map();\n\n    const defaultSettings =\n    {\n        size: 1,\n        type: gl.FLOAT,\n        normalized: false,\n        stride: 0,\n        offset: 0\n    };\n\n    const total = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let i = 0; i < total; i++)\n    {\n        const attrib = gl.getActiveAttrib(program, i);\n\n        if (!attrib)\n        {\n            break;\n        }\n\n        const name = attrib.name;\n\n        const index = gl.getAttribLocation(program, name);\n\n        gl.enableVertexAttribArray(index);\n\n        const setting = config.hasOwnProperty(name) ? config[name] : {};\n\n        const {\n\n            size = defaultSettings.size,\n            type = defaultSettings.type,\n            normalized = defaultSettings.normalized,\n            stride = defaultSettings.stride,\n            offset = defaultSettings.offset\n\n        } = setting;\n\n        attributes.set(name, { index, size, type, normalized, stride, offset });\n    }\n\n    return attributes;\n}\n", "import { gl } from '../GL';\n\nexport function DeleteShaders (...shaders: WebGLShader[]): void\n{\n    shaders.forEach(shader =>\n    {\n        gl.deleteShader(shader);\n    });\n}\n", "import { DeleteShaders } from './DeleteShaders';\nimport { gl } from '../GL';\n\nexport function CreateProgram (...shaders: WebGLShader[]): WebGLProgram\n{\n    const program = gl.createProgram();\n\n    shaders.forEach(shader =>\n    {\n        gl.attachShader(program, shader);\n    });\n\n    gl.linkProgram(program);\n\n    const status = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n    if (!status)\n    {\n        const info = gl.getProgramInfoLog(program);\n\n        console.error(`Error linking program: ${info}`);\n\n        gl.deleteProgram(program);\n\n        DeleteShaders(...shaders);\n\n        return null;\n    }\n\n    return program;\n}\n", "import { gl } from '../GL';\n\nexport function CreateShader (source: string, type: GLenum): WebGLShader | null\n{\n    const shader = gl.createShader(type);\n\n    gl.shaderSource(shader, source);\n\n    gl.compileShader(shader);\n\n    const status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n    if (!status)\n    {\n        const info = gl.getShaderInfoLog(shader);\n\n        //  Adding line numbers idea borrowed from Gregg Tavares!\n        const sourceLines = source.split('\\n').map((line, index) =>\n        {\n            return `${index}: ${line}`;\n        });\n\n        console.error(`Error compiling shader: ${info}`, sourceLines.join('\\n'));\n\n        gl.deleteShader(shader);\n\n        return null;\n    }\n\n    return shader;\n}\n", "import { gl } from '../GL';\n\nexport type FloatSetter = (v: number) => void;\nexport type F32Setter = (v: Float32List) => void;\nexport type I32Setter = (v: Int32List) => void;\n\nexport function CreateUniformSetter (uniform: WebGLActiveInfo, location: WebGLUniformLocation, isArray: boolean = false): FloatSetter | F32Setter | I32Setter\n{\n    switch (uniform.type)\n    {\n        case gl.INT:\n        case gl.BOOL:\n        {\n            if (isArray)\n            {\n                return (v: Int32List): void =>\n                {\n                    gl.uniform1iv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1i(location, v);\n                };\n            }\n        }\n\n        case gl.INT_VEC2:\n        case gl.BOOL_VEC2:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform2iv(location, v);\n            };\n        }\n\n        case gl.INT_VEC3:\n        case gl.BOOL_VEC3:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform3iv(location, v);\n            };\n        }\n\n        case gl.INT_VEC4:\n        case gl.BOOL_VEC4:\n        {\n            return (v: Int32List): void =>\n            {\n                gl.uniform4iv(location, v);\n            };\n        }\n\n        case gl.FLOAT:\n        {\n            if (isArray)\n            {\n                return (v: Float32List): void =>\n                {\n                    gl.uniform1fv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1f(location, v);\n                };\n            }\n        }\n\n        case gl.FLOAT_VEC2:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform2fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_VEC3:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform3fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_VEC4:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniform4fv(location, v);\n            };\n        }\n\n        case gl.FLOAT_MAT2:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix2fv(location, false, v);\n            };\n        }\n\n        case gl.FLOAT_MAT3:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix3fv(location, false, v);\n            };\n        }\n\n        case gl.FLOAT_MAT4:\n        {\n            return (v: Float32List): void =>\n            {\n                gl.uniformMatrix4fv(location, false, v);\n            };\n        }\n\n        case gl.SAMPLER_2D:\n        case gl.SAMPLER_CUBE:\n        {\n            if (uniform.size > 1)\n            {\n                return (v: Int32List): void =>\n                {\n                    gl.uniform1iv(location, v);\n                };\n            }\n            else\n            {\n                return (v: number): void =>\n                {\n                    gl.uniform1i(location, v);\n                };\n            }\n        }\n    }\n}\n", "import { CreateUniformSetter } from './CreateUniformSetter';\nimport { gl } from '../GL';\n\nexport function CreateUniforms (program: WebGLProgram): Map<string, Function>\n{\n    const uniforms = new Map();\n\n    const total = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (let i = 0; i < total; i++)\n    {\n        const uniform = gl.getActiveUniform(program, i);\n\n        let name = uniform.name;\n\n        if (name.startsWith('gl_') || name.startsWith('webgl_'))\n        {\n            //  Skip built-in uniforms\n            continue;\n        }\n\n        const location = gl.getUniformLocation(program, uniform.name);\n\n        if (location)\n        {\n            let isArray = false;\n\n            //  If uniform name has [0] at the end, remove it\n            if (name.substr(-3) === '[0]')\n            {\n                name = name.substr(0, name.length - 3);\n\n                isArray = (uniform.size > 1);\n            }\n\n            uniforms.set(name, CreateUniformSetter(uniform, location, isArray));\n        }\n    }\n\n    return uniforms;\n}\n", "const BYTE                   = 0x1400;\nconst UNSIGNED_BYTE          = 0x1401;\nconst SHORT                  = 0x1402;\nconst UNSIGNED_SHORT         = 0x1403;\nconst INT                    = 0x1404;\nconst UNSIGNED_INT           = 0x1405;\nconst FLOAT                  = 0x1406;\nconst REPEAT                 = 0x2901;  // eslint-disable-line\nconst CLAMP_TO_EDGE          = 0x812F;\nconst MIRRORED_REPEAT        = 0x8370;  // eslint-disable-line\nconst NEAREST                = 0x2600;  // eslint-disable-line\nconst LINEAR                 = 0x2601;\nconst NEAREST_MIPMAP_NEAREST = 0x2700;  // eslint-disable-line\nconst LINEAR_MIPMAP_NEAREST  = 0x2701;  // eslint-disable-line\nconst NEAREST_MIPMAP_LINEAR  = 0x2702;  // eslint-disable-line\nconst LINEAR_MIPMAP_LINEAR   = 0x2703;  // eslint-disable-line\n\nexport {\n    BYTE,\n    UNSIGNED_BYTE,\n    SHORT,\n    UNSIGNED_SHORT,\n    INT,\n    UNSIGNED_INT,\n    FLOAT,\n    REPEAT,\n    CLAMP_TO_EDGE,\n    MIRRORED_REPEAT,\n    NEAREST,\n    LINEAR,\n    NEAREST_MIPMAP_NEAREST,\n    LINEAR_MIPMAP_NEAREST,\n    NEAREST_MIPMAP_LINEAR,\n    LINEAR_MIPMAP_LINEAR\n};\n", "import * as GL_CONST from '../GL_CONST';\n\n// size = 8\n// size = 8, offset = position\n// size = 4, offset = position + tex coord\n// size = 4, offset = position + tex coord + index\n\nexport const DefaultQuadAttributes =\n{\n    aVertexPosition: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 0 },\n    aTextureCoord: { size: 2, type: GL_CONST.FLOAT, normalized: false, offset: 8 },\n    aTextureId: { size: 1, type: GL_CONST.FLOAT, normalized: false, offset: 16 },\n    aTintColor: { size: 4, type: GL_CONST.UNSIGNED_BYTE, normalized: true, offset: 20 }\n};\n", "export const DefaultQuadUniforms =\n{\n    uProjectionMatrix: new Float32Array(),\n    uCameraMatrix: new Float32Array(),\n    uTexture: 0\n};\n", "import { gl } from '../GL';\n\nexport function CreateDepthBuffer (framebuffer: WebGLFramebuffer, textureWidth: number, textureHeight: number): WebGLRenderbuffer\n{\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    const depthBuffer = gl.createRenderbuffer();\n\n    gl.bindRenderbuffer(gl.RENDERBUFFER, depthBuffer);\n\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, textureWidth, textureHeight);\n\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return depthBuffer;\n}\n", "import { gl } from '../GL';\n\nexport function CreateFramebuffer (texture: WebGLTexture, attachment?: GLenum): WebGLFramebuffer\n{\n    if (!attachment)\n    {\n        attachment = gl.COLOR_ATTACHMENT0;\n    }\n\n    const framebuffer = gl.createFramebuffer();\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, texture, 0);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return framebuffer;\n}\n", "export const SINGLE_QUAD_FRAG =\n`#define SHADER_NAME SINGLE_QUAD_FRAG\n\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nuniform sampler2D uTexture;\n\nvoid main (void)\n{\n    vec4 color = texture2D(uTexture, vTextureCoord);\n\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\n}`;\n", "export const SINGLE_QUAD_VERT =\n`#define SHADER_NAME SINGLE_QUAD_VERT\n\nprecision highp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aTextureId;\nattribute vec4 aTintColor;\n\nuniform mat4 uProjectionMatrix;\nuniform mat4 uCameraMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nvoid main (void)\n{\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vTintColor = aTintColor;\n\n    gl_Position = uProjectionMatrix * uCameraMatrix * vec4(aVertexPosition, 0.0, 1.0);\n}`;\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { Texture } from './Texture';\nimport { Vertex } from '../gameobjects/components';\n\nexport class Frame\n{\n    texture: Texture;\n    key: string | number;\n\n    //  This is the actual area of the texture to draw to canvas / webgl, including any extruded data.\n    //  This is the same as the 'trimmed' + 'extruded' area from an atlas.\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n\n    trimmed: boolean = false;\n\n    //  Original size of the image before being trimmed or added to an atlas (which can add extrude data to it).\n    sourceSizeWidth: number;\n    sourceSizeHeight: number;\n\n    //  The size of the image having been trimmed, before being added to the atlas (i.e. doesn't have any extrusion values in it)\n    spriteSourceSizeX: number;\n    spriteSourceSizeY: number;\n    spriteSourceSizeWidth: number;\n    spriteSourceSizeHeight: number;\n\n    pivot: { x: number; y: number };\n\n    u0: number;\n    v0: number;\n    u1: number;\n    v1: number;\n\n    constructor (texture: Texture, key: string | number, x: number, y: number, width: number, height: number)\n    {\n        this.texture = texture;\n        this.key = key;\n\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.updateUVs();\n    }\n\n    setPivot (x: number, y: number): void\n    {\n        this.pivot = { x, y };\n    }\n\n    setSize (width: number, height: number): void\n    {\n        this.width = width;\n        this.height = height;\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.updateUVs();\n    }\n\n    setSourceSize (width: number, height: number): void\n    {\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n    }\n\n    setTrim (width: number, height: number, x: number, y: number, w: number, h: number): void\n    {\n        this.trimmed = true;\n\n        this.sourceSizeWidth = width;\n        this.sourceSizeHeight = height;\n\n        this.spriteSourceSizeX = x;\n        this.spriteSourceSizeY = y;\n        this.spriteSourceSizeWidth = w;\n        this.spriteSourceSizeHeight = h;\n    }\n\n    getExtent (originX: number, originY: number): { left: number; right: number; top: number; bottom: number }\n    {\n        const sourceSizeWidth = this.sourceSizeWidth;\n        const sourceSizeHeight = this.sourceSizeHeight;\n\n        let left: number;\n        let right: number;\n        let top: number;\n        let bottom: number;\n\n        if (this.trimmed)\n        {\n            left = this.spriteSourceSizeX - (originX * sourceSizeWidth);\n            right = left + this.spriteSourceSizeWidth;\n\n            top = this.spriteSourceSizeY - (originY * sourceSizeHeight);\n            bottom = top + this.spriteSourceSizeHeight;\n        }\n        else\n        {\n            left = -originX * sourceSizeWidth;\n            right = left + sourceSizeWidth;\n\n            top = -originY * sourceSizeHeight;\n            bottom = top + sourceSizeHeight;\n        }\n\n        return { left, right, top, bottom };\n    }\n\n    copyToExtent (child: IGameObject): this\n    {\n        const transform = child.transform;\n\n        const originX = transform.origin.x;\n        const originY = transform.origin.y;\n\n        const sourceSizeWidth = this.sourceSizeWidth;\n        const sourceSizeHeight = this.sourceSizeHeight;\n\n        let x: number;\n        let y: number;\n        let width: number;\n        let height: number;\n\n        if (this.trimmed)\n        {\n            x = this.spriteSourceSizeX - (originX * sourceSizeWidth);\n            y = this.spriteSourceSizeY - (originY * sourceSizeHeight);\n\n            width = this.spriteSourceSizeWidth;\n            height = this.spriteSourceSizeHeight;\n        }\n        else\n        {\n            x = -originX * sourceSizeWidth;\n            y = -originY * sourceSizeHeight;\n\n            width = sourceSizeWidth;\n            height = sourceSizeHeight;\n        }\n\n        transform.setExtent(x, y, width, height);\n\n        return this;\n    }\n\n    copyToVertices (vertices: Vertex[], offset: number = 0): this\n    {\n        const { u0, u1, v0, v1 } = this;\n\n        vertices[offset + 0].setUV(u0, v0);\n        vertices[offset + 1].setUV(u0, v1);\n        vertices[offset + 2].setUV(u1, v1);\n        vertices[offset + 3].setUV(u1, v0);\n\n        return this;\n    }\n\n    updateUVs (): void\n    {\n        const { x, y, width, height } = this;\n\n        const baseTextureWidth = this.texture.width;\n        const baseTextureHeight = this.texture.height;\n\n        this.u0 = x / baseTextureWidth;\n        this.v0 = y / baseTextureHeight;\n\n        this.u1 = (x + width) / baseTextureWidth;\n        this.v1 = (y + height) / baseTextureHeight;\n    }\n}\n", "import { BindingQueue } from '../renderer/BindingQueue';\nimport { Frame } from './Frame';\nimport { IGLTextureBinding } from '../renderer/webgl1/textures/IGLTextureBinding';\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { ITexture } from './ITexture';\n\nexport class Texture implements ITexture\n{\n    //  Unique identifier of this Texture, if stored in the Texture Manager\n    key: string = '';\n\n    width: number;\n    height: number;\n\n    image: TexImageSource;\n\n    binding: IGLTextureBinding;\n\n    firstFrame: Frame;\n\n    frames: Map<string | number, Frame>;\n\n    data: unknown;\n\n    constructor (image?: TexImageSource, width?: number, height?: number, glConfig?: IGLTextureBindingConfig)\n    {\n        if (image)\n        {\n            width = image.width;\n            height = image.height;\n        }\n\n        this.image = image;\n\n        this.width = width;\n        this.height = height;\n\n        this.frames = new Map();\n\n        this.data = {};\n\n        this.addFrame('__BASE', 0, 0, width, height);\n\n        BindingQueue.add(this, glConfig);\n    }\n\n    addFrame (key: string | number, x: number, y: number, width: number, height: number): Frame\n    {\n        if (this.frames.has(key))\n        {\n            return null;\n        }\n\n        const frame = new Frame(this, key, x, y, width, height);\n\n        this.frames.set(key, frame);\n\n        if (!this.firstFrame || this.firstFrame.key === '__BASE')\n        {\n            this.firstFrame = frame;\n        }\n\n        return frame;\n    }\n\n    getFrame (key?: string | number | Frame): Frame\n    {\n        //  null, undefined, empty string, zero\n        if (!key)\n        {\n            return this.firstFrame;\n        }\n\n        if (key instanceof Frame)\n        {\n            key = key.key;\n        }\n\n        let frame: Frame = this.frames.get(key);\n\n        if (!frame)\n        {\n            console.warn(`Frame missing: ${key}`);\n\n            frame = this.firstFrame;\n        }\n\n        return frame;\n    }\n\n    setSize (width: number, height: number): void\n    {\n        this.width = width;\n        this.height = height;\n\n        const frame = this.frames.get('__BASE');\n\n        frame.setSize(width, height);\n    }\n\n    destroy (): void\n    {\n        if (this.binding)\n        {\n            this.binding.destroy();\n        }\n\n        this.frames.clear();\n\n        this.data = null;\n        this.image = null;\n        this.firstFrame = null;\n    }\n}\n", "import { GetHeight, GetResolution, GetWidth } from '../../../config/size/';\n\nimport { CreateAttributes } from './CreateAttributes';\nimport { CreateDepthBuffer } from '../fbo/CreateDepthBuffer';\nimport { CreateFramebuffer } from '../fbo/CreateFramebuffer';\nimport { CreateProgram } from './CreateProgram';\nimport { CreateShader } from './CreateShader';\nimport { CreateUniforms } from './CreateUniforms';\nimport { DefaultQuadAttributes } from './DefaultQuadAttributes';\nimport { DefaultQuadUniforms } from './DefaultQuadUniforms';\nimport { DeleteFramebuffer } from '../fbo/DeleteFramebuffer';\nimport { DeleteGLTexture } from '../textures/DeleteGLTexture';\nimport { DeleteShaders } from './DeleteShaders';\nimport { GLTextureBinding } from '../textures/GLTextureBinding';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShader } from './IShader';\nimport { IShaderConfig } from './IShaderConfig';\nimport { IVertexAttribPointer } from './IVertexAttribPointer';\nimport { SINGLE_QUAD_FRAG } from '../glsl/SINGLE_QUAD_FRAG';\nimport { SINGLE_QUAD_VERT } from '../glsl/SINGLE_QUAD_VERT';\nimport { Texture } from '../../../textures/Texture';\nimport { gl } from '../GL';\n\nexport class Shader implements IShader\n{\n    program: WebGLProgram;\n\n    attributes: Map<string, IVertexAttribPointer>;\n\n    uniforms: Map<string, unknown>;\n\n    uniformSetters: Map<string, Function>;\n\n    texture: Texture;\n\n    framebuffer: WebGLFramebuffer;\n\n    renderToFramebuffer: boolean = false;\n\n    renderToDepthbuffer: boolean = false;\n\n    constructor (config?: IShaderConfig)\n    {\n        if (config)\n        {\n            this.fromConfig(config);\n        }\n    }\n\n    fromConfig (config: IShaderConfig): void\n    {\n        const {\n            attributes = DefaultQuadAttributes,\n            fragmentShader = SINGLE_QUAD_FRAG,\n            height = GetHeight(),\n            renderToFramebuffer = false,\n            renderToDepthbuffer = false,\n            resolution = GetResolution(),\n            vertexShader = SINGLE_QUAD_VERT,\n            width = GetWidth(),\n            uniforms = DefaultQuadUniforms\n        } = config;\n\n        this.create(fragmentShader, vertexShader, uniforms, attributes);\n\n        if (renderToFramebuffer)\n        {\n            this.renderToFramebuffer = true;\n\n            const texture = new Texture(null, width * resolution, height * resolution);\n            const binding = new GLTextureBinding(texture);\n\n            texture.binding = binding;\n\n            binding.framebuffer = CreateFramebuffer(binding.texture);\n\n            if (renderToDepthbuffer)\n            {\n                this.renderToDepthbuffer = true;\n\n                binding.depthbuffer = CreateDepthBuffer(binding.framebuffer, texture.width, texture.height);\n            }\n\n            this.texture = texture;\n            this.framebuffer = binding.framebuffer;\n        }\n    }\n\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\n    {\n        const fragmentShader = CreateShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\n        const vertexShader = CreateShader(vertexShaderSource, gl.VERTEX_SHADER);\n\n        if (!fragmentShader || !vertexShader)\n        {\n            return;\n        }\n\n        const program = CreateProgram(fragmentShader, vertexShader);\n\n        if (!program)\n        {\n            return;\n        }\n\n        const currentProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n\n        gl.useProgram(program);\n\n        this.program = program;\n\n        this.uniformSetters = CreateUniforms(program);\n\n        this.uniforms = new Map();\n\n        //  Copy starting values from the config object to the uniforms map\n        for (const [ key, value ] of Object.entries(uniforms))\n        {\n            this.uniforms.set(key, value);\n        }\n\n        this.attributes = CreateAttributes(program, attribs);\n\n        gl.useProgram(currentProgram);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    updateUniforms (renderPass: IRenderPass): void\n    {\n        //  Use this to set any extra uniform values prior to the bind\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        this.updateUniforms(renderPass);\n\n        return this.setUniforms(renderPass);\n    }\n\n    setUniform (key: string, value: unknown): void\n    {\n        const uniforms = this.uniforms;\n\n        if (uniforms.has(key))\n        {\n            uniforms.set(key, value);\n\n            const setter = this.uniformSetters.get(key);\n\n            setter(value);\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setUniforms (renderPass: IRenderPass): boolean\n    {\n        if (!this.program)\n        {\n            return false;\n        }\n\n        gl.useProgram(this.program);\n\n        const uniforms = this.uniforms;\n\n        for (const [ name, setter ] of this.uniformSetters.entries())\n        {\n            setter(uniforms.get(name));\n        }\n\n        return true;\n    }\n\n    //  stride = vertexByteSize\n    setAttributes (renderPass: IRenderPass): void\n    {\n        if (this.program)\n        {\n            const stride = renderPass.currentVertexBuffer.vertexByteSize;\n\n            this.attributes.forEach(attrib =>\n            {\n                gl.vertexAttribPointer(attrib.index, attrib.size, attrib.type, attrib.normalized, stride, attrib.offset);\n            });\n        }\n    }\n\n    destroy (): void\n    {\n        DeleteShaders(this.program);\n        DeleteGLTexture(this.texture);\n        DeleteFramebuffer(this.framebuffer);\n\n        this.uniforms.clear();\n        this.uniformSetters.clear();\n        this.attributes.clear();\n\n        this.program = null;\n        this.texture = null;\n        this.framebuffer = null;\n    }\n}\n", "import { DefaultQuadAttributes } from './DefaultQuadAttributes';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShader } from './IShader';\nimport { IShaderConfig } from './IShaderConfig';\nimport { Shader } from './Shader';\n\nexport class QuadShader extends Shader implements IShader\n{\n    constructor (config: IShaderConfig = {})\n    {\n        const shaderConfig = config;\n\n        shaderConfig.attributes = (!shaderConfig.attributes) ? DefaultQuadAttributes : shaderConfig.attributes;\n\n        super(shaderConfig);\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        const uniforms = this.uniforms;\n\n        uniforms.set('uProjectionMatrix', renderPass.projectionMatrix.data);\n        uniforms.set('uCameraMatrix', renderPass.cameraMatrix.data);\n\n        return super.bind(renderPass);\n    }\n}\n", "export const MULTI_QUAD_FRAG =\n`#define SHADER_NAME MULTI_QUAD_FRAG\n\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying float vTextureId;\nvarying vec4 vTintColor;\n\nuniform sampler2D uTexture[%count%];\n\nvoid main (void)\n{\n    vec4 color;\n\n    %forloop%\n\n    gl_FragColor = color * vec4(vTintColor.bgr * vTintColor.a, vTintColor.a);\n}`;\n", "import { GetMaxTextures } from '../../../config/maxtextures/GetMaxTextures';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { IShaderConfig } from './IShaderConfig';\nimport { MULTI_QUAD_FRAG } from '../glsl/MULTI_QUAD_FRAG';\nimport { QuadShader } from './QuadShader';\n\nexport class MultiTextureQuadShader extends QuadShader\n{\n    constructor (config: IShaderConfig = {})\n    {\n        if (!config.fragmentShader)\n        {\n            config.fragmentShader = MULTI_QUAD_FRAG;\n        }\n\n        super(config);\n    }\n\n    create (fragmentShaderSource: string, vertexShaderSource: string, uniforms: {}, attribs: {}): void\n    {\n        const maxTextures = GetMaxTextures();\n\n        let src = '';\n\n        for (let i = 1; i < maxTextures; i++)\n        {\n            if (i > 1)\n            {\n                src += '\\n\\telse ';\n            }\n\n            if (i < maxTextures - 1)\n            {\n                src += `if (vTextureId < ${i}.5)`;\n            }\n\n            src += '\\n\\t{';\n            src += `\\n\\t\\tcolor = texture2D(uTexture[${i}], vTextureCoord);`;\n            src += '\\n\\t}';\n        }\n\n        fragmentShaderSource = fragmentShaderSource.replace(/%count%/gi, `${maxTextures}`);\n        fragmentShaderSource = fragmentShaderSource.replace(/%forloop%/gi, src);\n\n        super.create(fragmentShaderSource, vertexShaderSource, uniforms, attribs);\n    }\n\n    bind (renderPass: IRenderPass): boolean\n    {\n        this.uniforms.set('uTexture', renderPass.textureIndex);\n\n        return super.bind(renderPass);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\n\nexport function SetDefaultBlendMode (renderPass: IRenderPass, enable: boolean, sfactor?: number, dfactor?: number): void\n{\n    const entry = { enable, sfactor, dfactor };\n\n    //  The default entry always goes into index zero\n    renderPass.blendModeStack[0] = entry;\n\n    renderPass.currentBlendMode = entry;\n    renderPass.defaultBlendMode = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function SetDefaultFramebuffer (renderPass: IRenderPass, framebuffer: WebGLFramebuffer = null, viewport?: Rectangle): void\n{\n    const entry = { framebuffer, viewport };\n\n    //  The default entry always goes into index zero\n    renderPass.framebufferStack[0] = entry;\n\n    renderPass.currentFramebuffer = entry;\n    renderPass.defaultFramebuffer = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IShader } from '../shaders/IShader';\n\nexport function SetDefaultShader (renderPass: IRenderPass, shader: IShader, textureID?: number): void\n{\n    const entry = { shader, textureID };\n\n    //  The default entry always goes into index zero\n    renderPass.shaderStack[0] = entry;\n\n    renderPass.currentShader = entry;\n    renderPass.defaultShader = entry;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\n\nexport function SetDefaultVertexBuffer (renderPass: IRenderPass, buffer: IVertexBuffer): void\n{\n    //  The default entry always goes into index zero\n    renderPass.vertexBufferStack[0] = buffer;\n\n    renderPass.currentVertexBuffer = buffer;\n    renderPass.defaultVertexBuffer = buffer;\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport function SetDefaultViewport (renderPass: IRenderPass, x: number = 0, y: number = 0, width: number = 0, height: number = 0): void\n{\n    const entry = new Rectangle(x, y, width, height);\n\n    //  The default entry always goes into index zero\n    renderPass.viewportStack[0] = entry;\n\n    renderPass.currentViewport = entry;\n    renderPass.defaultViewport = entry;\n}\n", "import { Game } from './Game';\n\nexport let instance: Game;\nexport let frame: number = 0;\nexport let elapsed: number = 0;\n\nexport const GameInstance =\n{\n    get: (): Game =>\n    {\n        return instance;\n    },\n\n    set: (game: Game | undefined): void =>\n    {\n        instance = game;\n    },\n\n    getFrame: (): number =>\n    {\n        return frame;\n    },\n\n    setFrame: (current: number): void =>\n    {\n        frame = current;\n    },\n\n    getElapsed: (): number =>\n    {\n        return elapsed;\n    },\n\n    setElapsed: (current: number): void =>\n    {\n        elapsed = current;\n    }\n\n};\n", "import { Matrix4 } from './Matrix4';\n\nexport function Mat4Identity (matrix: Matrix4 = new Matrix4()): Matrix4\n{\n    return matrix.set(\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n    );\n}\n", "//  A Matrix2D contains six elements in a short-form of the 3x3 Matrix, with the last column ignored.\n\n//  |----|----|----|\n//  | a  | b  | 0  |\n//  |----|----|----|\n//  | c  | d  | 0  |\n//  |----|----|----|\n//  | tx | ty | 1  |\n//  |----|----|----|\n\nexport class Matrix2D\n{\n    a: number; // element 0\n    b: number; // element 1\n    c: number; // element 2\n    d: number; // element 3\n    tx: number; // element 4\n    ty: number; // element 5\n\n    /**\n     * Creates an instance of Matrix2D.\n     *\n     * @param {number} [a=1] - X scale.\n     * @param {number} [b=0] - X skew.\n     * @param {number} [c=0] - Y skew.\n     * @param {number} [d=1] - Y scale.\n     * @param {number} [tx=0] - X translation\n     * @param {number} [ty=0] - Y translation\n     * @memberof Matrix2D\n     */\n    constructor (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0)\n    {\n        this.set(a, b, c, d, tx, ty);\n    }\n\n    set (a: number = 1, b: number = 0, c: number = 0, d: number = 1, tx: number = 0, ty: number = 0): this\n    {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.tx = tx;\n        this.ty = ty;\n\n        return this;\n    }\n\n    identity (): this\n    {\n        return this.set();\n    }\n\n    toArray (): number[]\n    {\n        const  { a, b, c, d, tx, ty } = this;\n\n        return [ a, b, c, d, tx, ty ];\n    }\n\n    fromArray (src: number[]): Matrix2D\n    {\n        return this.set(src[0], src[1], src[2], src[3], src[4], src[5]);\n    }\n}\n", "import { IVec2Like } from './IVec2Like';\nimport { NOOP } from '../../utils/NOOP';\n\nexport type Vec2CallbackType = (vec2: Vec2Callback) => void;\n\nexport class Vec2Callback implements IVec2Like\n{\n    private _x: number;\n    private _y: number;\n\n    onChange: Vec2CallbackType;\n\n    constructor (onChange: Vec2CallbackType, x: number = 0, y: number = 0)\n    {\n        this._x = x;\n        this._y = y;\n\n        this.onChange = onChange;\n    }\n\n    destroy (): void\n    {\n        this.onChange = NOOP;\n    }\n\n    set (x: number = 0, y: number = 0): this\n    {\n        this._x = x;\n        this._y = y;\n\n        if (this.onChange)\n        {\n            this.onChange(this);\n        }\n\n        return this;\n    }\n\n    get x (): number\n    {\n        return this._x;\n    }\n\n    set x (value: number)\n    {\n        const prev = this._x;\n\n        this._x = value;\n\n        if (prev !== value)\n        {\n            this.onChange(this);\n        }\n    }\n\n    get y (): number\n    {\n        return this._y;\n    }\n\n    set y (value: number)\n    {\n        const prev = this._y;\n\n        this._y = value;\n\n        if (prev !== value)\n        {\n            this.onChange(this);\n        }\n    }\n\n    toArray (dst: Float32List = [], index: number = 0): Float32List\n    {\n        const { x, y } = this;\n\n        dst[ index ] = x;\n        dst[ index + 1 ] = y;\n\n        return dst;\n    }\n\n    fromArray (src: Float32List, index: number = 0): this\n    {\n        return this.set(\n            src[ index ],\n            src[ index + 1 ]\n        );\n    }\n\n    toString (): string\n    {\n        const { x, y } = this;\n\n        return `{ x=${x}, y=${y} }`;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\n *\n * @function Phaser.Math.Angle.Between\n * @since 3.0.0\n *\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n *\n * @return {number} The angle in radians.\n */\nexport function AngleBetween (x1: number, y1: number, x2: number, y2: number): number\n{\n    return Math.atan2(y2 - y1, x2 - x1);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Find the angle of a segment from (x1, y1) -> (x2, y2).\n *\n * The difference between this method and {@link Phaser.Math.Angle.Between} is that this assumes the y coordinate\n * travels down the screen.\n *\n * @function Phaser.Math.Angle.BetweenY\n * @since 3.0.0\n *\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n *\n * @return {number} The angle in radians.\n */\nexport function AngleBetweenY (x1: number, y1: number, x2: number, y2: number): number\n{\n    return Math.atan2(x2 - x1, y2 - y1);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nexport const MATH_CONST = {\n\n    /**\n     * The value of PI * 2.\n     *\n     * @name Phaser.Math.PI2\n     * @type {number}\n     * @since 3.0.0\n     */\n    PI2: Math.PI * 2,\n\n    /**\n     * The value of PI * 2.\n     *\n     * @name Phaser.Math.HALF_PI\n     * @type {number}\n     * @since 3.0.0\n     */\n    HALF_PI: Math.PI * 0.5,\n\n    /**\n     * An epsilon value (1.0e-6)\n     *\n     * @name Phaser.Math.EPSILON\n     * @type {number}\n     * @since 3.0.0\n     */\n    EPSILON: 1.0e-6,\n\n    /**\n     * For converting degrees to radians (PI / 180)\n     *\n     * @name Phaser.Math.DEG_TO_RAD\n     * @type {number}\n     * @since 3.0.0\n     */\n    DEG_TO_RAD: Math.PI / 180,\n\n    /**\n     * For converting radians to degrees (180 / PI)\n     *\n     * @name Phaser.Math.RAD_TO_DEG\n     * @type {number}\n     * @since 3.0.0\n     */\n    RAD_TO_DEG: 180 / Math.PI,\n\n    /**\n     * The minimum safe integer this browser supports.\n     * We use a const for backward compatibility with Internet Explorer.\n     *\n     * @name Phaser.Math.MIN_SAFE_INTEGER\n     * @type {number}\n     * @since 3.21.0\n     */\n    MIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER || -9007199254740991,\n\n    /**\n     * The maximum safe integer this browser supports.\n     * We use a const for backward compatibility with Internet Explorer.\n     *\n     * @name Phaser.Math.MAX_SAFE_INTEGER\n     * @type {number}\n     * @since 3.21.0\n     */\n    MAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER || 9007199254740991\n\n};\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST as CONST } from '../const';\n\n/**\n * Takes an angle in Phasers default clockwise format and converts it so that\n * 0 is North, 90 is West, 180 is South and 270 is East,\n * therefore running counter-clockwise instead of clockwise.\n * \n * You can pass in the angle from a Game Object using:\n * \n * ```javascript\n * var converted = CounterClockwise(gameobject.rotation);\n * ```\n * \n * All values for this function are in radians.\n *\n * @function Phaser.Math.Angle.CounterClockwise\n * @since 3.16.0\n *\n * @param {number} angle - The angle to convert, in radians.\n *\n * @return {number} The converted angle, in radians.\n */\nexport function CounterClockwise (angle: number): number\n{\n    if (angle > Math.PI)\n    {\n        angle -= CONST.PI2;\n    }\n\n    return Math.abs((((angle + CONST.HALF_PI) % CONST.PI2) - CONST.PI2) % CONST.PI2);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from '../const';\n\n/**\n * Normalize an angle to the [0, 2pi] range.\n *\n * @function Phaser.Math.Angle.Normalize\n * @since 3.0.0\n *\n * @param {number} angle - The angle to normalize, in radians.\n *\n * @return {number} The normalized angle, in radians.\n */\nexport function NormalizeAngle (angle: number): number\n{\n    angle = angle % MATH_CONST.PI2;\n\n    if (angle >= 0)\n    {\n        return angle;\n    }\n    else\n    {\n        return angle + MATH_CONST.PI2;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { NormalizeAngle } from './NormalizeAngle';\n\n/**\n * Reverse the given angle.\n *\n * @function Phaser.Math.Angle.Reverse\n * @since 3.0.0\n *\n * @param {number} angle - The angle to reverse, in radians.\n *\n * @return {number} The reversed angle, in radians.\n */\nexport function ReverseAngle (angle: number): number\n{\n    return NormalizeAngle(angle + Math.PI);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from '../const';\n\n/**\n * Rotates `currentAngle` towards `targetAngle`, taking the shortest rotation distance. The `lerp` argument is the amount to rotate by in this call.\n *\n * @function Phaser.Math.Angle.RotateTo\n * @since 3.0.0\n *\n * @param {number} currentAngle - The current angle, in radians.\n * @param {number} targetAngle - The target angle to rotate to, in radians.\n * @param {number} [lerp=0.05] - The lerp value to add to the current angle.\n *\n * @return {number} The adjusted angle.\n */\nexport function RotateAngleTo (currentAngle: number, targetAngle: number, lerp: number = 0.05): number\n{\n    if (currentAngle === targetAngle)\n    {\n        return currentAngle;\n    }\n\n    if (Math.abs(targetAngle - currentAngle) <= lerp || Math.abs(targetAngle - currentAngle) >= (MATH_CONST.PI2 - lerp))\n    {\n        currentAngle = targetAngle;\n    }\n    else\n    {\n        if (Math.abs(targetAngle - currentAngle) > Math.PI)\n        {\n            if (targetAngle < currentAngle)\n            {\n                targetAngle += MATH_CONST.PI2;\n            }\n            else\n            {\n                targetAngle -= MATH_CONST.PI2;\n            }\n        }\n\n        if (targetAngle > currentAngle)\n        {\n            currentAngle += lerp;\n        }\n        else if (targetAngle < currentAngle)\n        {\n            currentAngle -= lerp;\n        }\n    }\n\n    return currentAngle;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Gets the shortest angle between `angle1` and `angle2`.\n *\n * Both angles must be in the range -180 to 180, which is the same clamped\n * range that `sprite.angle` uses, so you can pass in two sprite angles to\n * this method and get the shortest angle back between the two of them.\n *\n * The angle returned will be in the same range. If the returned angle is\n * greater than 0 then it's a counter-clockwise rotation, if < 0 then it's\n * a clockwise rotation.\n *\n * TODO: Wrap the angles in this function?\n *\n * @function Phaser.Math.Angle.ShortestBetween\n * @since 3.0.0\n *\n * @param {number} angle1 - The first angle in the range -180 to 180.\n * @param {number} angle2 - The second angle in the range -180 to 180.\n *\n * @return {number} The shortest angle, in degrees. If greater than zero it's a counter-clockwise rotation.\n */\nexport function ShortestAngleBetween (angle1: number, angle2: number): number\n{\n    const difference = angle2 - angle1;\n\n    if (difference === 0)\n    {\n        return 0;\n    }\n\n    const times = Math.floor((difference - (-180)) / 360);\n\n    return difference - (times * 360);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Wrap the given `value` between `min` and `max.\n *\n * @function Phaser.Math.Wrap\n * @since 3.0.0\n *\n * @param {number} value - The value to wrap.\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n *\n * @return {number} The wrapped value.\n */\nexport function Wrap (value: number, min: number, max: number): number\n{\n    const range = max - min;\n\n    return (min + ((((value - min) % range) + range) % range));\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { Wrap } from '../Wrap';\n\n/**\n * Wrap an angle.\n *\n * Wraps the angle to a value in the range of -PI to PI.\n *\n * @function Phaser.Math.Angle.Wrap\n * @since 3.0.0\n *\n * @param {number} angle - The angle to wrap, in radians.\n *\n * @return {number} The wrapped angle, in radians.\n */\nexport function WrapAngle (angle: number): number\n{\n    return Wrap(angle, -Math.PI, Math.PI);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { Wrap } from '../Wrap';\n\n/**\n * Wrap an angle in degrees.\n *\n * Wraps the angle to a value in the range of -180 to 180.\n *\n * @function Phaser.Math.Angle.WrapDegrees\n * @since 3.0.0\n *\n * @param {number} angle - The angle to wrap, in degrees.\n *\n * @return {number} The wrapped angle, in degrees.\n */\nexport function WrapAngleDegrees (angle: number): number\n{\n    return Wrap(angle, -180, 180);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { AngleBetween } from './AngleBetween';\nimport { AngleBetweenY } from './AngleBetweenY';\nimport { CounterClockwise } from './CounterClockwise';\nimport { NormalizeAngle } from './NormalizeAngle';\nimport { ReverseAngle } from './ReverseAngle';\nimport { RotateAngleTo } from './RotateAngleTo';\nimport { ShortestAngleBetween } from './ShortestAngleBetween';\nimport { WrapAngle } from './WrapAngle';\nimport { WrapAngleDegrees } from './WrapAngleDegrees';\n\n/**\n * @namespace Phaser.Math.Angle\n */\n\nexport {\n    AngleBetween,\n    AngleBetweenY,\n    CounterClockwise,\n    NormalizeAngle,\n    ReverseAngle,\n    RotateAngleTo,\n    ShortestAngleBetween,\n    WrapAngle,\n    WrapAngleDegrees\n};\n", "import { GameInstance } from '../GameInstance';\nimport { IRenderer } from '../renderer/IRenderer';\nimport { IStaticCamera } from './IStaticCamera';\nimport { IStaticWorld } from '../world/IStaticWorld';\nimport { Mat4Identity } from '../math/mat4';\nimport { Matrix2D } from '../math/mat2d/Matrix2D';\nimport { Matrix4 } from '../math/mat4/Matrix4';\nimport { Rectangle } from '../geom/rectangle/Rectangle';\n\nexport class StaticCamera implements IStaticCamera\n{\n    world: IStaticWorld;\n    matrix: Matrix4;\n    renderer: IRenderer;\n    type: string;\n\n    width: number;\n    height: number;\n    bounds: Rectangle;\n\n    dirtyRender: boolean;\n    worldTransform: Matrix2D;\n\n    constructor ()\n    {\n        this.type = 'StaticCamera';\n\n        this.dirtyRender = true;\n\n        const game = GameInstance.get();\n\n        this.renderer = game.renderer;\n\n        this.matrix = Mat4Identity();\n\n        this.bounds = new Rectangle();\n\n        this.worldTransform = new Matrix2D();\n\n        this.reset();\n    }\n\n    reset (): void\n    {\n        const renderer = this.renderer;\n\n        if (renderer)\n        {\n            const width = renderer.width;\n            const height = renderer.height;\n\n            this.width = width;\n            this.height = height;\n        }\n\n        this.bounds.set(0, 0, this.width, this.height);\n    }\n\n    destroy (): void\n    {\n        this.world = null;\n        this.worldTransform = null;\n        this.renderer = null;\n        this.matrix = null;\n        this.bounds = null;\n    }\n}\n", "import { CreateTempTextures } from './CreateTempTextures';\nimport { GetBatchSize } from '../../../config/batchsize/GetBatchSize';\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\nimport { IRenderPass } from './IRenderPass';\nimport { IShader } from '../shaders/IShader';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\nimport { IWebGLRenderer } from '../IWebGLRenderer';\nimport { IndexedVertexBuffer } from '../buffers/IndexedVertexBuffer';\nimport { Mat4Ortho } from '../../../math/mat4/Mat4Ortho';\nimport { Matrix4 } from '../../../math/mat4/Matrix4';\nimport { MultiTextureQuadShader } from '../shaders';\nimport { QuadShader } from '../shaders/QuadShader';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\nimport { SetDefaultBlendMode } from './SetDefaultBlendMode';\nimport { SetDefaultFramebuffer } from './SetDefaultFramebuffer';\nimport { SetDefaultShader } from './SetDefaultShader';\nimport { SetDefaultVertexBuffer } from './SetDefaultVertexBuffer';\nimport { SetDefaultViewport } from './SetDefaultViewport';\nimport { StaticCamera } from '../../../camera';\n\nexport type FramebufferStackEntry = {\n    framebuffer: WebGLFramebuffer;\n    viewport?: Rectangle;\n};\n\nexport type ShaderStackEntry = {\n    shader: IShader;\n    textureID?: number;\n};\n\nexport type BlendModeStackEntry = {\n    enable: boolean;\n    sfactor?: number;\n    dfactor?: number;\n};\n\nexport class RenderPass implements IRenderPass\n{\n    renderer: IWebGLRenderer;\n\n    projectionMatrix: Matrix4;\n    cameraMatrix: Matrix4;\n\n    count: number = 0;\n    prevCount: number = 0;\n    flushTotal: number = 0;\n\n    //  The maximum number of combined image units the GPU supports\n    //  According to the WebGL spec the minimum is 8\n    maxTextures: number = 0;\n    currentActiveTexture: number = 0;\n    startActiveTexture: number = 0;\n    tempTextures: WebGLTexture[] = [];\n    textureIndex: number[] = [];\n\n    //  FBO\n    framebufferStack: FramebufferStackEntry[] = [];\n    currentFramebuffer: FramebufferStackEntry = null;\n    defaultFramebuffer: FramebufferStackEntry = null;\n\n    //  VBO\n    vertexBufferStack: IVertexBuffer[] = [];\n    currentVertexBuffer: IVertexBuffer = null;\n    defaultVertexBuffer: IVertexBuffer = null;\n\n    //  Shader\n    shaderStack: ShaderStackEntry[] = [];\n    currentShader: ShaderStackEntry = null;\n    defaultShader: ShaderStackEntry = null;\n\n    //  Viewport\n    viewportStack: Rectangle[] = [];\n    currentViewport: Rectangle = null;\n    defaultViewport: Rectangle = null;\n\n    //  Blend Mode\n    blendModeStack: BlendModeStackEntry[] = [];\n    currentBlendMode: BlendModeStackEntry = null;\n    defaultBlendMode: BlendModeStackEntry = null;\n\n    //  Single Texture Quad Shader + Camera\n    quadShader: IShader;\n    quadBuffer: IVertexBuffer;\n    quadCamera: IBaseCamera;\n\n    //  Current 2D Camera\n    current2DCamera: IBaseCamera;\n\n    constructor (renderer: IWebGLRenderer)\n    {\n        this.renderer = renderer;\n\n        this.projectionMatrix = new Matrix4();\n\n        this.reset();\n    }\n\n    //  TODO - Call when context is lost and restored\n    reset (): void\n    {\n        const gl = this.renderer.gl;\n\n        const indexLayout = [ 0, 1, 2, 2, 3, 0 ];\n\n        //  TODO - If already created, delete shaders / buffers first (i.e. during context loss)\n\n        //  Default QuadShader (for FBO drawing)\n\n        this.quadShader = new QuadShader();\n        this.quadBuffer = new IndexedVertexBuffer({ isDynamic: false, indexLayout });\n        this.quadCamera = new StaticCamera();\n\n        //  Default settings\n\n        CreateTempTextures(this);\n\n        SetDefaultFramebuffer(this);\n        SetDefaultBlendMode(this, true, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        SetDefaultVertexBuffer(this, new IndexedVertexBuffer({ batchSize: GetBatchSize(), indexLayout }));\n        SetDefaultShader(this, new MultiTextureQuadShader());\n    }\n\n    resize (width: number, height: number): void\n    {\n        //  TODO - -1 to 1?\n        Mat4Ortho(0, width, height, 0, -1000, 1000, this.projectionMatrix);\n\n        this.quadCamera.reset();\n\n        SetDefaultViewport(this, 0, 0, width, height);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { ShaderStackEntry } from '../shaders/ShaderStackEntry';\n\nexport function BindShader (renderPass: IRenderPass, entry?: ShaderStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentShader;\n    }\n\n    const success = entry.shader.bind(renderPass, entry.textureID);\n\n    if (success)\n    {\n        entry.shader.setAttributes(renderPass);\n    }\n}\n", "import { BindShader } from './BindShader';\nimport { IBaseCamera } from '../../../camera/IBaseCamera';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Begin (renderPass: IRenderPass, camera2D: IBaseCamera): void\n{\n    renderPass.current2DCamera = camera2D;\n    renderPass.cameraMatrix = camera2D.matrix;\n\n    BindShader(renderPass);\n}\n", "import { BlendModeStackEntry } from './RenderPass';\nimport { IRenderPass } from './IRenderPass';\nimport { gl } from '../GL';\n\nexport function BindBlendMode (renderPass: IRenderPass, entry?: BlendModeStackEntry): void\n{\n    if (!entry)\n    {\n        entry = renderPass.currentBlendMode;\n    }\n\n    //  TODO - Only set if different\n    if (entry.enable)\n    {\n        gl.enable(gl.BLEND);\n        gl.blendFunc(entry.sfactor, entry.dfactor);\n    }\n    else\n    {\n        gl.disable(gl.BLEND);\n    }\n}\n", "import { IRenderPass } from './IRenderPass';\nimport { IVertexBuffer } from '../buffers/IVertexBuffer';\nimport { gl } from '../GL';\n\nexport function BindVertexBuffer (renderPass: IRenderPass, buffer?: IVertexBuffer): void\n{\n    if (!buffer)\n    {\n        buffer = renderPass.currentVertexBuffer;\n    }\n\n    //  TODO - Only bind if different\n    const indexBuffer = (buffer.indexed) ? buffer.indexBuffer : null;\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer.vertexBuffer);\n}\n", "import { BufferEntry } from '../draw/BufferEntry';\nimport { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\n\nexport function GetVertexBufferEntry (renderPass: IRenderPass, addToCount: number = 0): BufferEntry\n{\n    const buffer = renderPass.currentVertexBuffer;\n\n    //  If batch cannot take the size of this entry, flush it first\n    if (renderPass.count + addToCount >= buffer.batchSize)\n    {\n        Flush(renderPass);\n    }\n\n    const offset = (buffer.indexed) ? renderPass.count * buffer.entryElementSize : renderPass.count * buffer.vertexElementSize;\n\n    renderPass.count += addToCount;\n\n    return {\n        buffer,\n        F32: buffer.vertexViewF32,\n        U32: buffer.vertexViewU32,\n        offset\n    };\n}\n", "import { Flush } from './Flush';\nimport { IRenderPass } from './IRenderPass';\nimport { ITexture } from '../../../textures/ITexture';\nimport { gl } from '../GL';\n\n//  request the next available texture and bind it\n//  returns the new ID\nexport function SetTexture (renderPass: IRenderPass, texture: ITexture): number\n{\n    const binding = texture.binding;\n    const currentActiveTexture = renderPass.currentActiveTexture;\n\n    if (binding.indexCounter < renderPass.startActiveTexture)\n    {\n        binding.indexCounter = renderPass.startActiveTexture;\n\n        if (currentActiveTexture < renderPass.maxTextures)\n        {\n            binding.setIndex(currentActiveTexture);\n\n            gl.activeTexture(gl.TEXTURE0 + currentActiveTexture);\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n            renderPass.currentActiveTexture++;\n        }\n        else\n        {\n            //  We're out of textures, so flush the batch and reset back to 1\n            Flush(renderPass);\n\n            renderPass.startActiveTexture++;\n\n            binding.indexCounter = renderPass.startActiveTexture;\n\n            binding.setIndex(1);\n\n            gl.activeTexture(gl.TEXTURE1);\n            gl.bindTexture(gl.TEXTURE_2D, binding.texture);\n\n            renderPass.currentActiveTexture = 2;\n        }\n    }\n\n    return binding.index;\n}\n", "import { BindBlendMode } from './BindBlendMode';\nimport { BindFramebuffer } from './BindFramebuffer';\nimport { BindVertexBuffer } from './BindVertexBuffer';\nimport { BindViewport } from './BindViewport';\nimport { IRenderPass } from './IRenderPass';\n\nexport function Start (renderPass: IRenderPass): void\n{\n    renderPass.current2DCamera = renderPass.quadCamera;\n    renderPass.cameraMatrix = renderPass.quadCamera.matrix;\n\n    renderPass.count = 0;\n    renderPass.flushTotal = 0;\n\n    BindFramebuffer(renderPass, false, renderPass.defaultFramebuffer);\n    BindBlendMode(renderPass, renderPass.defaultBlendMode);\n    BindViewport(renderPass, renderPass.defaultViewport);\n    BindVertexBuffer(renderPass, renderPass.defaultVertexBuffer);\n}\n", "import { WebGLRenderer } from './WebGLRenderer';\n\nexport let instance: WebGLRenderer;\n\nexport const WebGLRendererInstance =\n{\n    get: (): WebGLRenderer =>\n    {\n        return instance;\n    },\n\n    set: (renderer: WebGLRenderer | undefined): void =>\n    {\n        instance = renderer;\n    }\n};\n", "import { GetHeight, GetResolution, GetWidth } from '../../config/size/';\n\nimport { End } from './renderpass/End';\nimport { GL } from './GL';\nimport { GetBackgroundColor } from '../../config/backgroundcolor/GetBackgroundColor';\nimport { GetRGBArray } from './colors/GetRGBArray';\nimport { GetWebGLContext } from '../../config/webglcontext/GetWebGLContext';\nimport { IRenderPass } from './renderpass/IRenderPass';\nimport { ISceneRenderData } from '../../scenes/ISceneRenderData';\nimport { ProcessBindingQueue } from './renderpass/ProcessBindingQueue';\nimport { RenderPass } from './renderpass/RenderPass';\nimport { Start } from './renderpass';\nimport { WebGLRendererInstance } from './WebGLRendererInstance';\n\nexport class WebGLRenderer\n{\n    canvas: HTMLCanvasElement;\n    gl: WebGLRenderingContext;\n\n    renderPass: IRenderPass;\n\n    clearColor = [ 0, 0, 0, 1 ];\n\n    width: number;\n    height: number;\n    resolution: number;\n\n    clearBeforeRender: boolean = true;\n    optimizeRedraw: boolean = false;\n    autoResize: boolean = true;\n\n    contextLost: boolean = false;\n\n    constructor ()\n    {\n        this.width = GetWidth();\n        this.height = GetHeight();\n        this.resolution = GetResolution();\n\n        this.setBackgroundColor(GetBackgroundColor());\n\n        const canvas = document.createElement('canvas');\n\n        canvas.addEventListener('webglcontextlost', (event) => this.onContextLost(event), false);\n        canvas.addEventListener('webglcontextrestored', () => this.onContextRestored(), false);\n\n        this.canvas = canvas;\n\n        this.initContext();\n\n        //  By this stage the context is available\n        WebGLRendererInstance.set(this);\n\n        this.renderPass = new RenderPass(this);\n\n        this.resize(this.width, this.height, this.resolution);\n    }\n\n    initContext (): void\n    {\n        const gl = this.canvas.getContext('webgl', GetWebGLContext());\n\n        GL.set(gl);\n\n        this.gl = gl;\n\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.CULL_FACE);\n    }\n\n    resize (width: number, height: number, resolution: number = 1): void\n    {\n        const calcWidth = width * resolution;\n        const calcHeight = height * resolution;\n\n        this.width = calcWidth;\n        this.height = calcHeight;\n        this.resolution = resolution;\n\n        const canvas = this.canvas;\n\n        canvas.width = calcWidth;\n        canvas.height = calcHeight;\n\n        if (this.autoResize)\n        {\n            canvas.style.width = width.toString() + 'px';\n            canvas.style.height = height.toString() + 'px';\n        }\n\n        this.renderPass.resize(calcWidth, calcHeight);\n    }\n\n    onContextLost (event: Event): void\n    {\n        event.preventDefault();\n\n        this.contextLost = true;\n    }\n\n    onContextRestored (): void\n    {\n        this.contextLost = false;\n\n        this.initContext();\n    }\n\n    setBackgroundColor (color: number): this\n    {\n        GetRGBArray(color, this.clearColor);\n\n        return this;\n    }\n\n    //  TODO - Remove?\n    reset (): void\n    {\n        // this.renderPass.reset();\n    }\n\n    render (renderData: ISceneRenderData): void\n    {\n        if (this.contextLost)\n        {\n            return;\n        }\n\n        const gl = this.gl;\n        const renderPass = this.renderPass;\n\n        //  This is only here because if we don't do _something_ with the context, GL Spector can't see it.\n        //  Technically, we could move it below the dirty bail-out below.\n        // this.reset();\n\n        ProcessBindingQueue();\n\n        //  Cache 1 - Nothing dirty? Display the previous frame\n        if (this.optimizeRedraw && renderData.numDirtyFrames === 0 && renderData.numDirtyCameras === 0)\n        {\n            return;\n        }\n\n        if (this.clearBeforeRender)\n        {\n            const cls = this.clearColor;\n\n            gl.clearColor(cls[0], cls[1], cls[2], cls[3]);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n\n        const worlds = renderData.worldData;\n\n        Start(renderPass);\n\n        for (let i: number = 0; i < worlds.length; i++)\n        {\n            const { world } = worlds[i];\n\n            world.renderGL(renderPass);\n\n            //  Stats sweep\n\n            world.postRenderGL(renderPass);\n        }\n\n        End(renderPass);\n\n        // eslint-disable-next-line no-debugger\n        // debugger;\n    }\n\n    destroy (): void\n    {\n        WebGLRendererInstance.set(undefined);\n    }\n}\n", "import { SetRenderer } from '../renderer/SetRenderer';\nimport { WebGLRenderer } from '../../renderer/webgl1/WebGLRenderer';\n\nexport function WebGL (): () => void\n{\n    return (): void =>\n    {\n        SetRenderer(WebGLRenderer);\n    };\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\n//  Returns all children of the parent, no matter what depth they go to, using an iterative search.\n//  Does NOT include the parent in the results.\n\nexport function DepthFirstSearch (parent: IGameObject): IGameObject[]\n{\n    const stack: IGameObject[] = [ parent ];\n    const output: IGameObject[] = [];\n\n    while (stack.length > 0)\n    {\n        const node = stack.shift();\n\n        output.push(node);\n\n        const numChildren = node.numChildren;\n\n        if (numChildren > 0)\n        {\n            for (let i = numChildren - 1; i >= 0; i--)\n            {\n                stack.unshift(node.children[i]);\n            }\n        }\n    }\n\n    //  Remove the parent from the results\n    output.shift();\n\n    return output;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function GetChildIndex (parent: IGameObject, child: IGameObject): number\n{\n    return parent.children.indexOf(child);\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function RemoveChildAt (parent: IGameObject, index: number): IGameObject | undefined\n{\n    const children = parent.children;\n    let child: IGameObject;\n\n    if (index >= 0 && index < children.length)\n    {\n        const removed = children.splice(index, 1);\n\n        if (removed[0])\n        {\n            child = removed[0];\n            child.parent = null;\n        }\n    }\n\n    return child;\n}\n", "import { GetChildIndex } from './GetChildIndex';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildAt } from './RemoveChildAt';\n\nexport function RemoveChild <T extends IGameObject> (parent: IGameObject, child: T): T\n{\n    const currentIndex = GetChildIndex(parent, child);\n\n    if (currentIndex > -1)\n    {\n        RemoveChildAt(parent, currentIndex);\n    }\n\n    return child;\n}\n", "import { IBaseWorld } from '../../world/IBaseWorld';\nimport { IGameObject } from '../IGameObject';\n\nexport const AddedToWorldEvent: string = 'addedtoworld';\n\nexport type AddedToWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const DestroyEvent: string = 'destroy';\n\nexport type DestroyEventHandler = <T extends IGameObject> (child: T) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const PostUpdateEvent: string = 'postupdate';\n\nexport type PostUpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\n", "import { IBaseWorld } from '../../world/IBaseWorld';\nimport { IGameObject } from '../IGameObject';\n\nexport const RemovedFromWorldEvent: string = 'removedfromworld';\n\nexport type RemovedFromWorldEventHandler = <T extends IGameObject, U extends IBaseWorld> (child: T, world: U) => void;\n", "import { IGameObject } from '../IGameObject';\n\nexport const UpdateEvent: string = 'update';\n\nexport type UpdateEventHandler = <T extends IGameObject> (delta: number, time: number, child: T) => void;\n", "import { IEventEmitter } from './IEventEmitter';\n\nexport function Emit (emitter: IEventEmitter, event: string, ...args: unknown[]): boolean\n{\n    if (emitter.events.size === 0 || !emitter.events.has(event))\n    {\n        return false;\n    }\n\n    const listeners = emitter.events.get(event);\n\n    for (const ee of listeners)\n    {\n        ee.callback.apply(ee.context, args);\n\n        if (ee.once)\n        {\n            listeners.delete(ee);\n        }\n    }\n\n    if (listeners.size === 0)\n    {\n        emitter.events.delete(event);\n    }\n\n    return true;\n}\n", "import { AddedToWorldEvent, RemovedFromWorldEvent } from '../gameobjects/events';\n\nimport { Emit } from '../events/Emit';\nimport { IBaseWorld } from '../world/IBaseWorld';\nimport { IGameObject } from '../gameobjects/IGameObject';\n\nexport function SetWorld (world: IBaseWorld, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        if (child.world)\n        {\n            Emit(child.world, RemovedFromWorldEvent, child, child.world);\n            Emit(child, RemovedFromWorldEvent, child, child.world);\n        }\n\n        child.world = world;\n\n        Emit(world, AddedToWorldEvent, child, world);\n        Emit(child, AddedToWorldEvent, child, world);\n    });\n\n    return children;\n}\n", "import { DepthFirstSearch } from './DepthFirstSearch';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChild } from './RemoveChild';\nimport { SetWorld } from './SetWorld';\n\nexport function SetParent (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        if (child.parent)\n        {\n            RemoveChild(child.parent, child);\n        }\n\n        child.parent = parent;\n    });\n\n    const parentWorld = parent.world;\n\n    if (parentWorld)\n    {\n        //  Full list of all children, including sub-children\n        SetWorld(parentWorld, ...DepthFirstSearch(parent));\n    }\n\n    return children;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { SetParent } from './SetParent';\n\nexport function AddChild <T extends IGameObject> (parent: IGameObject, child: T): T\n{\n    parent.children.push(child);\n\n    SetParent(parent, child);\n\n    child.transform.updateWorld();\n\n    return child;\n}\n", "import { AddChild } from './AddChild';\nimport { IGameObject } from '../gameobjects/IGameObject';\n\nexport function AddChildren (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        AddChild(parent, child);\n    });\n\n    return children;\n}\n", "export const DIRTY_CONST = {\n\n    CLEAR: 0,\n    TRANSFORM: 1,\n    UPDATE: 2,\n    CHILD_CACHE: 4,\n    POST_RENDER: 8,\n    COLORS: 16,\n    BOUNDS: 32,\n    TEXTURE: 64,\n    FRAME: 128,\n    ALPHA: 256,\n    CHILD: 512,\n\n    //  Special combinations\n    DEFAULT: 1 + 2 + 16 + 32,\n\n    //  Reserved for future use:\n    //  1024\n    //  2048\n    //  4096\n    //  8192\n    //  16384\n    //  32768\n    //  65536\n    //  131072\n    //  262144\n    //  524288\n    //  1048576\n    //  2097152\n    //  4194304\n    //  8388608\n    //  16777216\n    //  33554432\n    //  67108864\n    //  134217728\n    //  268435456\n\n    //  Reserved for user use\n    USER1: 536870912,\n    USER2: 1073741824,\n    USER3: 2147483648,\n    USER4: 4294967296\n\n};\n", "import { IGameObject } from '../gameobjects/IGameObject';\n\nexport function RemoveChildrenBetween (parent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\n{\n    const children = parent.children;\n\n    if (endIndex === undefined)\n    {\n        endIndex = children.length;\n    }\n\n    const range = endIndex - beginIndex;\n\n    if (range > 0 && range <= endIndex)\n    {\n        const removed = children.splice(beginIndex, range);\n\n        removed.forEach(child =>\n        {\n            child.parent = null;\n        });\n\n        return removed;\n    }\n    else\n    {\n        return [];\n    }\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\n\nexport function DestroyChildren (parent: IGameObject, beginIndex: number = 0, endIndex?: number): void\n{\n    const removed = RemoveChildrenBetween(parent, beginIndex, endIndex);\n\n    removed.forEach(child =>\n    {\n        child.destroy();\n    });\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChild } from './RemoveChild';\n\nexport function RemoveChildren (parent: IGameObject, ...children: IGameObject[]): IGameObject[]\n{\n    children.forEach(child =>\n    {\n        RemoveChild(parent, child);\n    });\n\n    return children;\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { RemoveChildrenBetween } from './RemoveChildrenBetween';\nimport { SetParent } from './SetParent';\n\nexport function ReparentChildren (parent: IGameObject, newParent: IGameObject, beginIndex: number = 0, endIndex?: number): IGameObject[]\n{\n    const moved = RemoveChildrenBetween(parent, beginIndex, endIndex);\n\n    SetParent(newParent, ...moved);\n\n    moved.forEach(child =>\n    {\n        child.transform.updateWorld();\n    });\n\n    return moved;\n}\n", "import { GetElement } from './GetElement';\n\nexport function AddToDOM (element: HTMLElement, parent?: string | HTMLElement): HTMLElement\n{\n    const target: HTMLElement = GetElement(parent);\n\n    target.appendChild(element);\n\n    return element;\n}\n", "export function DOMContentLoaded (callback: () => void): void\n{\n    const readyState = document.readyState;\n\n    if (readyState === 'complete' || readyState === 'interactive')\n    {\n        callback();\n\n        return;\n    }\n\n    const check = (): void =>\n    {\n        document.removeEventListener('deviceready', check, true);\n        document.removeEventListener('DOMContentLoaded', check, true);\n        window.removeEventListener('load', check, true);\n\n        callback();\n    };\n\n    // TODO - Swap is IsCordova call\n\n    if (!document.body)\n    {\n        window.setTimeout(check, 20);\n    }\n    else if (window.hasOwnProperty('cordova'))\n    {\n        document.addEventListener('deviceready', check, true);\n    }\n    else\n    {\n        document.addEventListener('DOMContentLoaded', check, true);\n        window.addEventListener('load', check, true);\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Takes the given data string and parses it as XML using the native DOMParser interface.\n * The parsed XML object is returned, or `null` if there was an error while parsing the data.\n *\n * @function Phaser.DOM.ParseXML\n * @since 3.0.0\n *\n * @param {string} data - The XML source stored in a string.\n *\n * @return {?XMLDocument} The parsed XML data, or `null` if the data could not be parsed.\n */\nexport function ParseXML (data: string): XMLDocument | null\n{\n    let xml: XMLDocument;\n\n    try\n    {\n        const parser = new DOMParser();\n\n        xml = parser.parseFromString(data, 'text/xml');\n\n        if (!xml || !xml.documentElement || xml.getElementsByTagName('parsererror').length)\n        {\n            return null;\n        }\n        else\n        {\n            return xml;\n        }\n    }\n    catch (error)\n    {\n        return null;\n    }\n}\n", "import { IEventInstance } from './IEventInstance';\n\nexport class EventEmitter\n{\n    events: Map<string, Set<IEventInstance>>;\n\n    constructor ()\n    {\n        this.events = new Map();\n    }\n}\n", "export class EventInstance\n{\n    callback: Function;\n    context: unknown;\n    once: boolean;\n\n    constructor (callback: Function, context: unknown, once: boolean = false)\n    {\n        this.callback = callback;\n        this.context = context;\n        this.once = once;\n    }\n}\n", "import { EventInstance } from './EventInstance';\nimport { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\n\nexport function Off (emitter: IEventEmitter, event: string, callback?: Function | IEventInstance, context?: unknown, once?: boolean): IEventEmitter\n{\n    const events = emitter.events;\n    const listeners = events.get(event);\n\n    if (!callback)\n    {\n        //  Remove all events matching the given key\n        events.delete(event);\n    }\n    else if (callback instanceof EventInstance)\n    {\n        listeners.delete(callback as IEventInstance);\n    }\n    else\n    {\n        const hasContext: boolean = !context;\n        const hasOnce: boolean = (once !== undefined);\n\n        for (const listener of listeners)\n        {\n            if (\n                (listener.callback === callback) &&\n                (hasContext && listener.context === context) &&\n                (hasOnce && listener.once === once)\n            )\n            {\n                listeners.delete(listener);\n            }\n        }\n    }\n\n    if (listeners.size === 0)\n    {\n        events.delete(event);\n    }\n\n    return emitter;\n}\n", "import { EventInstance } from './EventInstance';\nimport { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\n\nexport function On (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter, once: boolean = false): IEventInstance\n{\n    if (typeof callback !== 'function')\n    {\n        throw new TypeError('Listener not a function');\n    }\n\n    const listener = new EventInstance(callback, context, once);\n    const listeners = emitter.events.get(event);\n\n    if (!listeners)\n    {\n        emitter.events.set(event, new Set([ listener ]));\n    }\n    else\n    {\n        listeners.add(listener);\n    }\n\n    return listener;\n}\n", "import { IEventEmitter } from './IEventEmitter';\nimport { IEventInstance } from './IEventInstance';\nimport { On } from './On';\n\nexport function Once (emitter: IEventEmitter, event: string, callback: Function, context: unknown = emitter): IEventInstance\n{\n    return On(emitter, event, callback, context, true);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetBanner (): void\n{\n    const { title, version, url, color, background } = ConfigStore.get(CONFIG_DEFAULTS.BANNER);\n\n    if (title !== '')\n    {\n        const str = (version !== '') ? title + ' ' + version : title;\n\n        console.log(\n            `%c${str}%c ${url}`,\n            `padding: 4px 16px; color: ${color}; background: ${background}`,\n            ''\n        );\n    }\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetParent (): string | HTMLElement | undefined\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.PARENT);\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { IRendererConstructor } from '../../renderer/IRendererConstructor';\n\nexport function GetRenderer (): IRendererConstructor\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.RENDERER);\n}\n", "import { ISceneRenderData } from './ISceneRenderData';\n\nexport function CreateSceneRenderData (): ISceneRenderData\n{\n    return {\n        gameFrame: 0,\n        numTotalFrames: 0,\n        numDirtyFrames: 0,\n        numDirtyCameras: 0,\n        worldData: []\n    };\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\nimport { ISceneConstructor } from '../../scenes/ISceneConstructor';\n\nexport function GetScenes (): ISceneConstructor[]\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.SCENES);\n}\n", "import { ISceneRenderData } from './ISceneRenderData';\n\nexport function ResetSceneRenderData (renderData: ISceneRenderData, gameFrame: number = 0): void\n{\n    renderData.gameFrame = gameFrame;\n    renderData.numTotalFrames = 0;\n    renderData.numDirtyFrames = 0;\n    renderData.numDirtyCameras = 0;\n    renderData.worldData.length = 0;\n}\n", "import { SceneManager } from './SceneManager';\n\nlet instance: SceneManager;\n\nexport const SceneManagerInstance =\n{\n    get: (): SceneManager =>\n    {\n        return instance;\n    },\n\n    set: (manager: SceneManager | null): void =>\n    {\n        instance = manager;\n    }\n};\n", "import { Emit, Once } from '../events';\n\nimport { CreateSceneRenderData } from './CreateSceneRenderData';\nimport { Game } from '../Game';\nimport { GameInstance } from '../GameInstance';\nimport { GetScenes } from '../config/scenes';\nimport { IScene } from './IScene';\nimport { ISceneRenderData } from './ISceneRenderData';\nimport { ResetSceneRenderData } from './ResetSceneRenderData';\nimport { SceneManagerInstance } from './SceneManagerInstance';\n\nexport class SceneManager\n{\n    game: Game;\n\n    scenes: Map<string, IScene>  = new Map();\n\n    //  Used by Install to assign default scene keys when not specified\n    sceneIndex: number = 0;\n\n    //  Flush the cache\n    flush: boolean = false;\n\n    renderResult: ISceneRenderData = CreateSceneRenderData();\n\n    constructor ()\n    {\n        this.game = GameInstance.get();\n\n        SceneManagerInstance.set(this);\n\n        Once(this.game, 'boot', () => this.boot());\n    }\n\n    boot (): void\n    {\n        GetScenes().forEach(scene => new scene());\n    }\n\n    update (delta: number, time: number): void\n    {\n        for (const scene of this.scenes.values())\n        {\n            Emit(scene, 'update', delta, time);\n        }\n    }\n\n    render (gameFrame: number): ISceneRenderData\n    {\n        const results = this.renderResult;\n\n        ResetSceneRenderData(results, gameFrame);\n\n        for (const scene of this.scenes.values())\n        {\n            Emit(scene, 'render', results);\n        }\n\n        if (this.flush)\n        {\n            //  Invalidate the renderer cache\n            results.numDirtyFrames++;\n\n            //  And reset\n            this.flush = false;\n        }\n\n        return results;\n    }\n}\n", "import { SetBackgroundColor } from './backgroundcolor/SetBackgroundColor';\nimport { SetBanner } from './banner/SetBanner';\nimport { SetBatchSize } from './batchsize/SetBatchSize';\nimport { SetDefaultOrigin } from './defaultorigin/SetDefaultOrigin';\nimport { SetMaxTextures } from './maxtextures/SetMaxTextures';\nimport { SetSize } from './size/SetSize';\n\n//  Phaser 4 defaults\n\nexport function SetConfigDefaults ()\n{\n    SetBackgroundColor(0);\n    SetBatchSize(4096);\n    SetBanner('Phaser', '4.0.0', 'https://phaser4.io');\n    SetMaxTextures(0);\n    SetDefaultOrigin(0.5, 0.5);\n    SetSize(800, 600, 1);\n}\n", "export function CreateCanvas (width: number, height: number): CanvasRenderingContext2D\n{\n    const canvas = document.createElement('canvas');\n\n    canvas.width = width;\n    canvas.height = height;\n\n    return canvas.getContext('2d');\n}\n", "import { TextureManager } from './TextureManager';\n\nlet instance: TextureManager;\n\nexport const TextureManagerInstance =\n{\n    get: (): TextureManager =>\n    {\n        return instance;\n    },\n\n    set: (manager: TextureManager | null): void =>\n    {\n        instance = manager;\n    }\n};\n", "import { CreateCanvas } from './CreateCanvas';\nimport { IGLTextureBindingConfig } from '../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { Texture } from './Texture';\nimport { TextureManagerInstance } from './TextureManagerInstance';\n\nexport class TextureManager\n{\n    textures: Map<string, Texture>;\n\n    constructor ()\n    {\n        this.textures = new Map();\n\n        this.createDefaultTextures();\n\n        TextureManagerInstance.set(this);\n    }\n\n    private createDefaultTextures (): void\n    {\n        this.add('__BLANK', new Texture(CreateCanvas(32, 32).canvas));\n\n        const missing = CreateCanvas(32, 32);\n\n        missing.strokeStyle = '#0f0';\n        missing.moveTo(0, 0);\n        missing.lineTo(32, 32);\n        missing.stroke();\n        missing.strokeRect(0.5, 0.5, 31, 31);\n\n        this.add('__MISSING', new Texture(missing.canvas));\n\n        const white = CreateCanvas(32, 32);\n\n        white.fillStyle = '#fff';\n        white.fillRect(0, 0, 32, 32);\n\n        this.add('__WHITE', new Texture(white.canvas));\n    }\n\n    get (key: string): Texture\n    {\n        const textures = this.textures;\n\n        if (textures.has(key))\n        {\n            return textures.get(key);\n        }\n        else\n        {\n            return textures.get('__MISSING');\n        }\n    }\n\n    has (key: string): boolean\n    {\n        return this.textures.has(key);\n    }\n\n    add (key: string, source: Texture | HTMLImageElement, glConfig?: IGLTextureBindingConfig): Texture\n    {\n        let texture: Texture;\n        const textures = this.textures;\n\n        if (!textures.has(key))\n        {\n            if (source instanceof Texture)\n            {\n                texture = source;\n            }\n            else\n            {\n                texture = new Texture(source, 0, 0, glConfig);\n            }\n\n            texture.key = key;\n\n            textures.set(key, texture);\n        }\n\n        return texture;\n    }\n}\n", "import { AddToDOM, DOMContentLoaded } from './dom';\nimport { Emit, EventEmitter } from './events';\n\nimport { GameInstance } from './GameInstance';\nimport { GetBanner } from './config/banner';\nimport { GetParent } from './config/parent';\nimport { GetRenderer } from './config/renderer';\nimport { IRenderer } from './renderer/IRenderer';\nimport { SceneManager } from './scenes/SceneManager';\nimport { SetConfigDefaults } from './config/SetConfigDefaults';\nimport { TextureManager } from './textures/TextureManager';\n\nexport class Game extends EventEmitter\n{\n    readonly VERSION: string = '4.0.0-beta1';\n\n    isBooted: boolean = false;\n    isPaused: boolean = false;\n\n    willUpdate: boolean = true;\n    willRender: boolean = true;\n\n    lastTick: number = 0;\n    elapsed: number = 0;\n\n    //  The current game frame\n    frame: number = 0;\n\n    renderer: IRenderer;\n    textureManager: TextureManager;\n    sceneManager: SceneManager;\n\n    constructor (...settings: { (): void }[])\n    {\n        super();\n\n        GameInstance.set(this);\n\n        SetConfigDefaults();\n\n        DOMContentLoaded(() => this.boot(settings));\n    }\n\n    boot (settings: { (): void }[]): void\n    {\n        //  Activate the settings post DOM Content Loaded\n        settings.forEach(setting => setting());\n\n        const renderer = GetRenderer();\n\n        this.renderer = new renderer();\n        this.textureManager = new TextureManager();\n        this.sceneManager = new SceneManager();\n\n        //  Only add to the DOM if they either didn't set a Parent, or expressly set it to be non-null\n        //  Otherwise we'll let them add the canvas to the DOM themselves\n        const parent = GetParent();\n\n        if (parent)\n        {\n            AddToDOM(this.renderer.canvas, parent);\n        }\n\n        this.isBooted = true;\n\n        GetBanner();\n\n        Emit(this, 'boot');\n\n        this.lastTick = performance.now();\n\n        this.step(this.lastTick);\n    }\n\n    pause (): void\n    {\n        this.isPaused = true;\n    }\n\n    resume (): void\n    {\n        this.isPaused = false;\n\n        this.lastTick = performance.now();\n    }\n\n    step (time: number): void\n    {\n        //  Note that privacy.resistFingerprinting can round this value to 100ms or more!\n        const delta = time - this.lastTick;\n\n        this.lastTick = time;\n        this.elapsed += delta;\n\n        if (!this.isPaused)\n        {\n            if (this.willUpdate)\n            {\n                this.sceneManager.update(delta, time);\n\n                Emit(this, 'update', delta, time);\n            }\n\n            if (this.willRender)\n            {\n                this.renderer.render(this.sceneManager.render(this.frame));\n            }\n        }\n\n        //  The frame always advances by 1 each step (even when paused)\n        this.frame++;\n\n        GameInstance.setFrame(this.frame);\n        GameInstance.setElapsed(this.elapsed);\n\n        requestAnimationFrame(now => this.step(now));\n    }\n\n    destroy (): void\n    {\n        //  TODO - Code destroy function\n    }\n}\n", "import { Loader } from './Loader';\n\nexport class File\n{\n    key: string;\n    url: string;\n    responseType: XMLHttpRequestResponseType = 'text';\n    crossOrigin: string | undefined = undefined;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data: any;\n\n    error: ErrorEvent | undefined;\n    config: unknown;\n    skipCache: boolean = false;\n    hasLoaded: boolean = false;\n    loader: Loader;\n    load: () => Promise<File>;\n\n    constructor (key: string, url: string, config?: unknown)\n    {\n        this.key = key;\n        this.url = url;\n        this.config = config;\n    }\n}\n", "import { Loader } from './Loader';\n\nexport function GetURL (key: string, url: string, extension: string, loader?: Loader): string\n{\n    if (!url)\n    {\n        url = key + extension;\n    }\n\n    if ((/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/).exec(url))\n    {\n        return url;\n    }\n    else if (loader)\n    {\n        return loader.baseURL + loader.path + url;\n    }\n    else\n    {\n        return url;\n    }\n}\n", "import { File } from './File';\n\nexport function ImageTagLoader (file: File): Promise<File>\n{\n    file.data = new Image();\n\n    if (file.crossOrigin)\n    {\n        file.data.crossOrigin = file.crossOrigin;\n    }\n\n    return new Promise((resolve, reject) =>\n    {\n        file.data.onload = (): void =>\n        {\n            if (file.data.onload)\n            {\n                file.data.onload = null;\n                file.data.onerror = null;\n                resolve(file);\n            }\n        };\n\n        file.data.onerror = (event: ErrorEvent): void =>\n        {\n            if (file.data.onload)\n            {\n                file.data.onload = null;\n                file.data.onerror = null;\n                file.error = event;\n                reject(file);\n            }\n        };\n\n        file.data.src = file.url;\n\n        // Image is immediately-available or cached\n\n        if (file.data.complete && file.data.width && file.data.height)\n        {\n            file.data.onload = null;\n            file.data.onerror = null;\n            resolve(file);\n        }\n    });\n}\n", "import { File } from '../File';\nimport { GetURL } from '../GetURL';\nimport { IGLTextureBindingConfig } from '../../renderer/webgl1/textures/IGLTextureBindingConfig';\nimport { ImageTagLoader } from '../ImageTagLoader';\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\n\nexport function ImageFile (key: string, url?: string, glConfig?: IGLTextureBindingConfig): File\n{\n    const file = new File(key, url);\n\n    file.load = (): Promise<File> =>\n    {\n        file.url = GetURL(file.key, file.url, '.png', file.loader);\n\n        if (file.loader)\n        {\n            file.crossOrigin = file.loader.crossOrigin;\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            const textureManager = TextureManagerInstance.get();\n\n            if (textureManager.has(file.key))\n            {\n                resolve(file);\n            }\n            else\n            {\n                ImageTagLoader(file).then(file =>\n                {\n                    textureManager.add(file.key, file.data as HTMLImageElement, glConfig);\n\n                    resolve(file);\n\n                }).catch(file =>\n                {\n                    reject(file);\n                });\n            }\n        });\n    };\n\n    return file;\n}\n", "import { Emit, EventEmitter } from '../events';\n\nimport { File } from './File';\n\nexport class Loader extends EventEmitter\n{\n    baseURL: string = '';\n    path: string = '';\n    crossOrigin: string = 'anonymous';\n\n    //  -1 means load everything at once (only recommended on http/2 servers)\n    maxParallelDownloads: number = -1;\n\n    isLoading: boolean = false;\n    progress: number;\n\n    queue: Set<File>;\n    inflight: Set<File>;\n    completed: Set<File>;\n\n    onComplete: Function;\n    onError: Function;\n\n    constructor ()\n    {\n        super();\n\n        this.reset();\n    }\n\n    reset (): void\n    {\n        this.isLoading = false;\n\n        this.queue = new Set();\n        this.inflight = new Set();\n        this.completed = new Set();\n\n        this.progress = 0;\n    }\n\n    add (...file: File[]): this\n    {\n        file.forEach(entity =>\n        {\n            entity.loader = this;\n\n            this.queue.add(entity);\n        });\n\n        return this;\n    }\n\n    start (): Promise<Loader>\n    {\n        if (this.isLoading)\n        {\n            return null;\n        }\n\n        return new Promise((resolve, reject) =>\n        {\n            this.completed.clear();\n            this.progress = 0;\n\n            if (this.queue.size > 0)\n            {\n                this.isLoading = true;\n\n                this.onComplete = resolve;\n                this.onError = reject;\n\n                // console.log('Loader.start');\n\n                Emit(this, 'start');\n\n                this.nextFile();\n            }\n            else\n            {\n                this.progress = 1;\n\n                Emit(this, 'complete');\n\n                resolve(this);\n                // onComplete();\n            }\n        });\n\n        /*\n        if (this.isLoading)\n        {\n            return this;\n        }\n\n        this.completed.clear();\n        this.progress = 0;\n\n        if (this.queue.size > 0)\n        {\n            this.isLoading = true;\n\n            this.onComplete = onComplete;\n\n            // console.log('Loader.start');\n\n            Emit(this, 'start');\n\n            this.nextFile();\n        }\n        else\n        {\n            this.progress = 1;\n\n            Emit(this, 'complete');\n\n            onComplete();\n        }\n\n        return this;\n        */\n    }\n\n    nextFile (): void\n    {\n        let limit = this.queue.size;\n\n        if (this.maxParallelDownloads !== -1)\n        {\n            limit = Math.min(limit, this.maxParallelDownloads) - this.inflight.size;\n        }\n\n        // console.log('Loader.nextFile', limit);\n\n        if (limit)\n        {\n            // console.log('Batching', limit, 'files to download');\n\n            const iterator = this.queue.values();\n\n            while (limit > 0)\n            {\n                const file = iterator.next().value;\n\n                // console.log('Loader.nextFile', file.key, '=>', file.url);\n\n                this.inflight.add(file);\n\n                this.queue.delete(file);\n\n                file.load()\n                    .then(\n                        (file: File) => this.fileComplete(file)\n                    )\n                    .catch(\n                        (file: File) => this.fileError(file)\n                    );\n\n                limit--;\n            }\n        }\n        else if (this.inflight.size === 0)\n        {\n            // console.log('Loader inflight zero');\n\n            this.stop();\n\n            // window.setTimeout(() => this.stop(), 0);\n        }\n    }\n\n    stop (): void\n    {\n        if (!this.isLoading)\n        {\n            return;\n        }\n\n        this.isLoading = false;\n\n        Emit(this, 'complete', this.completed);\n\n        this.onComplete();\n\n        this.completed.clear();\n    }\n\n    private updateProgress (file: File): void\n    {\n        this.inflight.delete(file);\n        this.completed.add(file);\n\n        const totalCompleted = this.completed.size;\n        const totalQueued = this.queue.size + this.inflight.size;\n\n        if (totalCompleted > 0)\n        {\n            this.progress = totalCompleted / (totalCompleted + totalQueued);\n        }\n\n        Emit(this, 'progress', this.progress, totalCompleted, totalQueued);\n\n        this.nextFile();\n    }\n\n    private fileComplete (file: File): void\n    {\n        Emit(this, 'filecomplete', file);\n\n        this.updateProgress(file);\n    }\n\n    private fileError (file: File): void\n    {\n        Emit(this, 'fileerror', file);\n\n        this.updateProgress(file);\n    }\n\n    totalFilesToLoad (): number\n    {\n        return this.queue.size + this.inflight.size;\n    }\n\n    setBaseURL (url: string = ''): this\n    {\n        if (url !== '' && url.substr(-1) !== '/')\n        {\n            url = url.concat('/');\n        }\n\n        this.baseURL = url;\n\n        return this;\n    }\n\n    setPath (path: string = ''): this\n    {\n        if (path !== '' && path.substr(-1) !== '/')\n        {\n            path = path.concat('/');\n        }\n\n        this.path = path;\n\n        return this;\n    }\n\n    setCORS (crossOrigin: string): this\n    {\n        this.crossOrigin = crossOrigin;\n\n        return this;\n    }\n\n    setMaxParallelDownloads (max: number): this\n    {\n        this.maxParallelDownloads = max;\n\n        return this;\n    }\n}\n", "import { ISceneConfig } from './ISceneConfig';\n\nexport function GetConfigValue<Property extends keyof ISceneConfig> (config: ISceneConfig, property: Property, defaultValue: ISceneConfig[Property]): ISceneConfig[Property]\n{\n    if (Object.prototype.hasOwnProperty.call(config, property))\n    {\n        return config[property];\n    }\n    else\n    {\n        return defaultValue;\n    }\n}\n", "import { GetConfigValue } from './GetConfigValue';\nimport { IScene } from './IScene';\nimport { ISceneConfig } from './ISceneConfig';\nimport { SceneManagerInstance } from './SceneManagerInstance';\n\nexport function Install (scene: IScene, config: string | ISceneConfig = {}): void\n{\n    const sceneManager = SceneManagerInstance.get();\n\n    const size = sceneManager.scenes.size;\n    const sceneIndex = sceneManager.sceneIndex;\n    const firstScene = (size === 0);\n\n    if (typeof config === 'string')\n    {\n        scene.key = config;\n    }\n    else if (config || (!config && firstScene))\n    {\n        scene.key = GetConfigValue(config, 'key', 'scene' + sceneIndex.toString());\n    }\n\n    if (sceneManager.scenes.has(scene.key))\n    {\n        console.warn('Scene key already in use: ' + scene.key);\n    }\n    else\n    {\n        sceneManager.scenes.set(scene.key, scene);\n\n        sceneManager.flush = true;\n\n        sceneManager.sceneIndex++;\n    }\n}\n", "// import { Emit } from '../events/Emit';\n\nimport { Game } from '../Game';\nimport { GameInstance } from '../GameInstance';\nimport { IEventEmitter } from '../events/IEventEmitter';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IScene } from './IScene';\nimport { ISceneConfig } from './ISceneConfig';\nimport { Install } from './Install';\n\nexport class Scene implements IScene, IEventEmitter\n{\n    key: string;\n    game: Game;\n    events: Map<string, Set<IEventInstance>>;\n\n    constructor (config?: string | ISceneConfig)\n    {\n        this.game = GameInstance.get();\n        this.events = new Map();\n\n        Install(this, config);\n    }\n\n    // shutdown (): void\n    // {\n    //     Emit(this, 'shutdown');\n    // }\n\n    // destroy (): void\n    // {\n    //     Emit(this, 'destroy');\n\n    //     this.events.clear();\n\n    //     this.game = null;\n    //     this.events = null;\n    // }\n}\n", "import { ITransformComponent } from './ITransformComponent';\nimport { Vertices } from './Vertices';\n\nexport function GetVertices (transform: ITransformComponent): Vertices\n{\n    const { a, b, c, d, tx, ty } = transform.world;\n    const { x, y, right, bottom } = transform.extent;\n\n    const x0 = (x * a) + (y * c) + tx;\n    const y0 = (x * b) + (y * d) + ty;\n\n    const x1 = (x * a) + (bottom * c) + tx;\n    const y1 = (x * b) + (bottom * d) + ty;\n\n    const x2 = (right * a) + (bottom * c) + tx;\n    const y2 = (right * b) + (bottom * d) + ty;\n\n    const x3 = (right * a) + (y * c) + tx;\n    const y3 = (right * b) + (y * d) + ty;\n\n    return { x0, y0, x1, y1, x2, y2, x3, y3 };\n}\n", "import { DIRTY_CONST } from '../../DIRTY_CONST';\nimport { GetVertices } from '../transform/GetVertices';\nimport { IBoundsComponent } from './IBoundsComponent';\nimport { IGameObject } from '../../IGameObject';\nimport { Rectangle } from '../../../geom/rectangle/Rectangle';\n\nexport class BoundsComponent implements IBoundsComponent\n{\n    entity: IGameObject;\n\n    //  The bounds of the entity calculated in world space\n    private area: Rectangle;\n\n    fixed: boolean = false;\n\n    includeChildren: boolean = true;\n\n    visibleOnly: boolean = true;\n\n    constructor (entity: IGameObject)\n    {\n        this.entity = entity;\n\n        this.area = new Rectangle();\n    }\n\n    set (x: number, y: number, width: number, height: number): void\n    {\n        this.area.set(x, y, width, height);\n    }\n\n    get (): Rectangle\n    {\n        if (this.entity.isDirty(DIRTY_CONST.BOUNDS) && !this.fixed)\n        {\n            this.update();\n        }\n\n        return this.area;\n    }\n\n    updateLocal (): Rectangle\n    {\n        const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(this.entity.transform);\n\n        const x = Math.min(x0, x1, x2, x3);\n        const y = Math.min(y0, y1, y2, y3);\n        const right = Math.max(x0, x1, x2, x3);\n        const bottom = Math.max(y0, y1, y2, y3);\n\n        return this.area.set(\n            x,\n            y,\n            right - x,\n            bottom - y\n        );\n    }\n\n    update (): Rectangle\n    {\n        //  First we get the bounds for this Game Object\n        const bounds = this.updateLocal();\n\n        this.entity.clearDirty(DIRTY_CONST.BOUNDS);\n\n        if (!this.includeChildren || !this.entity.numChildren)\n        {\n            return bounds;\n        }\n\n        const visibleOnly = this.visibleOnly;\n        const children = this.entity.children;\n\n        let x = bounds.x;\n        let y = bounds.y;\n        let right = bounds.right;\n        let bottom = bounds.bottom;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (!child || (visibleOnly && !child.visible))\n            {\n                continue;\n            }\n\n            const childBounds = child.bounds.get();\n\n            if (childBounds.x < x)\n            {\n                x = childBounds.x;\n            }\n\n            if (childBounds.y < y)\n            {\n                y = childBounds.y;\n            }\n\n            if (childBounds.right > right)\n            {\n                right = childBounds.right;\n            }\n\n            if (childBounds.bottom > bottom)\n            {\n                bottom = childBounds.bottom;\n            }\n        }\n\n        return bounds.set(\n            x,\n            y,\n            right - x,\n            bottom - y\n        );\n    }\n\n    destroy (): void\n    {\n        this.entity = null;\n        this.area = null;\n    }\n}\n", "import { IGameObject } from '../../IGameObject';\nimport { IInputComponent } from './IInputComponent';\nimport { IInteractiveArea } from '../../../input/IInteractiveArea';\n\nexport class InputComponent implements IInputComponent\n{\n    entity: IGameObject;\n    enabled: boolean = false;\n    enabledChildren: boolean = true;\n    hitArea: IInteractiveArea;\n\n    constructor (entity: IGameObject)\n    {\n        this.entity = entity;\n    }\n\n    destroy (): void\n    {\n        this.entity = null;\n        this.hitArea = null;\n    }\n}\n", "import { Vertex } from '../../../gameobjects/components/Vertex';\n\nexport function PackColors (vertices: Vertex[]): void\n{\n    vertices.forEach(vertex =>\n    {\n        vertex.packColor();\n    });\n}\n", "import { GetVertices } from './GetVertices';\nimport { IGameObject } from '../../IGameObject';\n\nexport function UpdateVertices <T extends IGameObject> (gameObject: T): T\n{\n    const vertices = gameObject.vertices;\n\n    const { x0, y0, x1, y1, x2, y2, x3, y3 } = GetVertices(gameObject.transform);\n\n    vertices[0].setPosition(x0, y0);\n    vertices[1].setPosition(x1, y1);\n    vertices[2].setPosition(x2, y2);\n    vertices[3].setPosition(x3, y3);\n\n    return gameObject;\n}\n", "import { DIRTY_CONST } from '../../DIRTY_CONST';\nimport { IGameObject } from '../../IGameObject';\nimport { PackColors } from '../../../renderer/webgl1/colors/PackColors';\nimport { UpdateVertices } from './UpdateVertices';\n\nexport function PreRenderVertices <T extends IGameObject> (gameObject: T): T\n{\n    if (gameObject.isDirty(DIRTY_CONST.COLORS))\n    {\n        PackColors(gameObject.vertices);\n\n        gameObject.clearDirty(DIRTY_CONST.COLORS);\n    }\n\n    if (gameObject.isDirty(DIRTY_CONST.TRANSFORM))\n    {\n        UpdateVertices(gameObject);\n\n        gameObject.clearDirty(DIRTY_CONST.TRANSFORM);\n    }\n\n    return gameObject;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetDefaultOriginX (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.DEFAULT_ORIGIN).x;\n}\n", "import { CONFIG_DEFAULTS } from '../const';\nimport { ConfigStore } from '../ConfigStore';\n\nexport function GetDefaultOriginY (): number\n{\n    return ConfigStore.get(CONFIG_DEFAULTS.DEFAULT_ORIGIN).y;\n}\n", "export class Vec2\n{\n    x: number;\n    y: number;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        this.set(x, y);\n    }\n\n    set (x: number = 0, y: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n\n        return this;\n    }\n\n    toArray (dst: Float32List = [], index: number = 0): Float32List\n    {\n        const { x, y } = this;\n\n        dst[ index ] = x;\n        dst[ index + 1 ] = y;\n\n        return dst;\n    }\n\n    fromArray (src: Float32List, index: number = 0): this\n    {\n        return this.set(\n            src[ index ],\n            src[ index + 1 ]\n        );\n    }\n\n    toString (): string\n    {\n        const { x, y } = this;\n\n        return `{ x=${x}, y=${y} }`;\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Force a value within the boundaries by clamping it to the range `min`, `max`.\n *\n * @function Phaser.Math.Clamp\n * @since 3.0.0\n *\n * @param {number} value - The value to be clamped.\n * @param {number} min - The minimum bounds.\n * @param {number} max - The maximum bounds.\n *\n * @return {number} The clamped value.\n */\nexport function Clamp (value: number, min: number, max: number): number\n{\n    return Math.max(min, Math.min(max, value));\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * Check whether the given values are fuzzily equal.\n *\n * Two numbers are fuzzily equal if their difference is less than `epsilon`.\n *\n * @function Phaser.Math.Fuzzy.Equal\n * @since 3.0.0\n *\n * @param {number} a - The first value.\n * @param {number} b - The second value.\n * @param {number} [epsilon=0.0001] - The epsilon.\n *\n * @return {boolean} `true` if the values are fuzzily equal, otherwise `false`.\n */\nexport function FuzzyEqual (a: number, b: number, epsilon: number = 0.0001): boolean\n{\n    return Math.abs(a - b) < epsilon;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Rounds a Rectangle's position and size up to the smallest integer greater than or equal to each respective value.\n */\nexport function CeilRectangle (rect: IRectangle): IRectangle\n{\n    rect.x = Math.ceil(rect.x);\n    rect.y = Math.ceil(rect.y);\n    rect.width = Math.ceil(rect.width);\n    rect.height = Math.ceil(rect.height);\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Rounds a Rectangle's position up to the smallest integer greater than or equal to each current coordinate.\n */\nexport function CeilRectanglePosition (rect: IRectangle): IRectangle\n{\n    rect.x = Math.ceil(rect.x);\n    rect.y = Math.ceil(rect.y);\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Moves the top-left corner of a Rectangle so that its center is at the given coordinates.\n */\nexport function CenterRectangleOn (rect: IRectangle, x: number, y: number): IRectangle\n{\n    rect.x = x - (rect.width / 2);\n    rect.y = y - (rect.height / 2);\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Rectangle } from './Rectangle';\n\n/**\n * Creates a new Rectangle which is identical to the given one.\n */\nexport function CloneRectangle (source: IRectangle): Rectangle\n{\n    return new Rectangle(source.x, source.y, source.width, source.height);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Copy the values of one Rectangle to a destination Rectangle.\n */\nexport function CopyRectangleFrom (source: IRectangle, dest: IRectangle): IRectangle\n{\n    return dest.set(source.x, source.y, source.width, source.height);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Create an array of points for each corner of a Rectangle\n * If an array is specified, each point object will be added to the end of the array, otherwise a new array will be created.\n */\nexport function DecomposeRectangle (rect: IRectangle, out: Vec2[] = []): Vec2[]\n{\n    out.push(\n        new Vec2(rect.x, rect.y),\n        new Vec2(rect.right, rect.y),\n        new Vec2(rect.right, rect.bottom),\n        new Vec2(rect.x, rect.bottom)\n    );\n\n    return out;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Calculates the width/height ratio of a rectangle.\n */\nexport function GetRectangleAspectRatio (rect: IRectangle): number\n{\n    return (rect.height === 0) ? NaN : rect.width / rect.height;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\nexport function GetRectangleCenterX (rect: IRectangle): number\n{\n    return rect.x + (rect.width / 2);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\nexport function GetRectangleCenterY (rect: IRectangle): number\n{\n    return rect.y + (rect.height / 2);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectangleAspectRatio } from './GetRectangleAspectRatio';\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { IRectangle } from './IRectangle';\n\n/**\n * Adjusts the target rectangle, changing its width, height and position,\n * so that it fits inside the area of the source rectangle, while maintaining its original\n * aspect ratio.\n *\n * Unlike the `FitRectangleOutside` function, there may be some space inside the source area not covered.\n */\nexport function FitRectangleInside (target: IRectangle, source: IRectangle): IRectangle\n{\n    const ratio = GetRectangleAspectRatio(target);\n\n    let width: number = source.width;\n    let height: number = source.height;\n\n    if (ratio < GetRectangleAspectRatio(source))\n    {\n        //  Taller than Wide\n        width = source.height * ratio;\n    }\n    else\n    {\n        //  Wider than Tall\n        height = source.width / ratio;\n    }\n\n    return target.set(\n        GetRectangleCenterX(source) - (target.width / 2),\n        GetRectangleCenterY(source) - (target.height / 2),\n        width,\n        height\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectangleAspectRatio } from './GetRectangleAspectRatio';\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { IRectangle } from './IRectangle';\n\n/**\n * Adjusts the target rectangle, changing its width, height and position,\n * so that it fully covers the area of the source rectangle, while maintaining its original\n * aspect ratio.\n *\n * Unlike the `FitRectangleInside` function, the target rectangle may extend further out than the source.\n */\nexport function FitRectangleOutside (target: IRectangle, source: IRectangle): IRectangle\n{\n    const ratio = GetRectangleAspectRatio(target);\n    let width = source.width;\n    let height = source.height;\n\n    if (ratio > GetRectangleAspectRatio(source))\n    {\n        //  Wider than Tall\n        width = source.height * ratio;\n    }\n    else\n    {\n        //  Taller than Wide\n        height = source.width / ratio;\n    }\n\n    return target.set(\n        GetRectangleCenterX(source) - target.width / 2,\n        GetRectangleCenterY(source) - target.height / 2,\n        width,\n        height\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Merges a Rectangle with a point by repositioning and/or resizing it so that the point is on or within its bounds.\n */\nexport function FitRectangleToPoint (target: IRectangle, x: number, y: number): IRectangle\n{\n    const minX = Math.min(target.x, x);\n    const maxX = Math.max(target.right, x);\n    const minY = Math.min(target.y, y);\n    const maxY = Math.max(target.bottom, y);\n\n    return target.set(\n        minX,\n        minY,\n        maxX - minX,\n        maxY - minY\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Merges a Rectangle with a list of points by repositioning and/or resizing it such that all points are located on or within its bounds.\n */\nexport function FitRectangleToPoints (target: IRectangle, points: Vec2[]): IRectangle\n{\n    let minX = target.x;\n    let maxX = target.right;\n    let minY = target.y;\n    let maxY = target.bottom;\n\n    for (let i = 0; i < points.length; i++)\n    {\n        minX = Math.min(minX, points[i].x);\n        maxX = Math.max(maxX, points[i].x);\n        minY = Math.min(minY, points[i].y);\n        maxY = Math.max(maxY, points[i].y);\n    }\n\n    return target.set(\n        minX,\n        minY,\n        maxX - minX,\n        maxY - minY\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Rounds a Rectangle's position and size down to the largest integer less than or equal to each current coordinate or dimension.\n */\nexport function FloorRectangle (rect: IRectangle): IRectangle\n{\n    rect.x = Math.floor(rect.x);\n    rect.y = Math.floor(rect.y);\n    rect.width = Math.floor(rect.width);\n    rect.height = Math.floor(rect.height);\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Rounds down (floors) the top left X and Y coordinates of the given Rectangle to the largest integer less than or equal to them\n */\nexport function FloorRectanglePosition (rect: IRectangle): IRectangle\n{\n    rect.x = Math.floor(rect.x);\n    rect.y = Math.floor(rect.y);\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Calculates the area of the given Rectangle object.\n */\nexport function GetRectangleArea (rect: IRectangle): number\n{\n    return rect.width * rect.height;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns the center of a Rectangle as a Point.\n */\nexport function GetRectangleCenter (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\n{\n    return out.set(GetRectangleCenterX(rect), GetRectangleCenterY(rect));\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\n/**\n * @classdesc\n * Defines a Line segment, a part of a line between two endpoints.\n *\n * @class Line\n * @memberof Phaser.Geom\n * @constructor\n * @since 3.0.0\n *\n * @param {number} [x1=0] - The x coordinate of the lines starting point.\n * @param {number} [y1=0] - The y coordinate of the lines starting point.\n * @param {number} [x2=0] - The x coordinate of the lines ending point.\n * @param {number} [y2=0] - The y coordinate of the lines ending point.\n */\nexport class Line\n{\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n\n    constructor (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0)\n    {\n        this.set(x1, y1, x2, y2);\n    }\n\n    set (x1: number = 0, y1: number = 0, x2: number = 0, y2: number = 0): this\n    {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n\n        return this;\n    }\n\n    get left (): number\n    {\n        return Math.min(this.x1, this.x2);\n    }\n\n    set left (value: number)\n    {\n        if (this.x1 <= this.x2)\n        {\n            this.x1 = value;\n        }\n        else\n        {\n            this.x2 = value;\n        }\n    }\n\n    get right (): number\n    {\n        return Math.max(this.x1, this.x2);\n    }\n\n    set right (value: number)\n    {\n        if (this.x1 > this.x2)\n        {\n            this.x1 = value;\n        }\n        else\n        {\n            this.x2 = value;\n        }\n    }\n\n    get top (): number\n    {\n        return Math.min(this.y1, this.y2);\n    }\n\n    set top (value: number)\n    {\n        if (this.y1 <= this.y2)\n        {\n            this.y1 = value;\n        }\n        else\n        {\n            this.y2 = value;\n        }\n    }\n\n    get bottom (): number\n    {\n        return Math.max(this.y1, this.y2);\n    }\n\n    set bottom (value: number)\n    {\n        if (this.y1 > this.y2)\n        {\n            this.y1 = value;\n        }\n        else\n        {\n            this.y2 = value;\n        }\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Rectangle } from './Rectangle';\nimport { RectangleToRectangle } from '../intersects/RectangleToRectangle';\n\n/**\n * Takes two Rectangles and first checks to see if they intersect.\n * If they intersect it will return the area of intersection in the `out` Rectangle.\n * If they do not intersect, the `out` Rectangle will have a width and height of zero.\n */\nexport function GetRectangleIntersection (rectA: IRectangle, rectB: IRectangle, out: Rectangle = new Rectangle()): Rectangle\n{\n    if (RectangleToRectangle(rectA, rectB))\n    {\n        out.set(\n            Math.max(rectA.x, rectB.x),\n            Math.max(rectA.y, rectB.y),\n            Math.min(rectA.right, rectB.right) - out.x,\n            Math.min(rectA.bottom, rectB.bottom) - out.y\n        );\n    }\n    else\n    {\n        out.set();\n    }\n\n    return out;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Calculates the perimeter of a Rectangle.\n */\nexport function GetRectanglePerimeter (rect: IRectangle): number\n{\n    return 2 * (rect.width + rect.height);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectanglePerimeter } from './GetRectanglePerimeter';\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns an array of points from the perimeter of the Rectangle, where each point is spaced out based\n * on either the `step` value, or the `quantity`.\n */\nexport function GetRectangleMarchingAnts (rect: IRectangle, step?: number, quantity?: number, out: Vec2[] = []): Vec2[]\n{\n    if (!step && !quantity)\n    {\n        //  Bail out\n        return out;\n    }\n\n    //  If step is a falsey value (false, null, 0, undefined, etc) then we calculate\n    //  it based on the quantity instead, otherwise we always use the step value\n    if (!step)\n    {\n        step = GetRectanglePerimeter(rect) / quantity;\n    }\n    else\n    {\n        quantity = Math.round(GetRectanglePerimeter(rect) / step);\n    }\n\n    let x = rect.x;\n    let y = rect.y;\n    let face = 0;\n\n    //  Loop across each face of the rectangle\n\n    for (let i = 0; i < quantity; i++)\n    {\n        out.push(new Vec2(x, y));\n\n        switch (face)\n        {\n            //  Top face\n            case 0:\n                x += step;\n\n                if (x >= rect.right)\n                {\n                    face = 1;\n                    y += (x - rect.right);\n                    x = rect.right;\n                }\n                break;\n\n            //  Right face\n            case 1:\n                y += step;\n\n                if (y >= rect.bottom)\n                {\n                    face = 2;\n                    x -= (y - rect.bottom);\n                    y = rect.bottom;\n                }\n                break;\n\n            //  Bottom face\n            case 2:\n                x -= step;\n\n                if (x <= rect.x)\n                {\n                    face = 3;\n                    y -= (rect.x - x);\n                    x = rect.x;\n                }\n                break;\n\n            //  Left face\n            case 3:\n                y -= step;\n\n                if (y <= rect.y)\n                {\n                    face = 0;\n                    y = rect.y;\n                }\n                break;\n        }\n    }\n\n    return out;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Checks if two Rectangles overlap. If a Rectangle is within another Rectangle, the two will be considered overlapping. Thus, the Rectangles are treated as \"solid\".\n */\nexport function GetRectangleOverlap (rectA: IRectangle, rectB: IRectangle): boolean\n{\n    return (\n        rectA.x < rectB.right &&\n        rectA.right > rectB.x &&\n        rectA.y < rectB.bottom &&\n        rectA.bottom > rectB.y\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from './const';\n\n/**\n * Convert the given angle from degrees, to the equivalent angle in radians.\n *\n * @function Phaser.Math.DegToRad\n * @since 3.0.0\n *\n * @param {number} degrees - The angle (in degrees) to convert to radians.\n *\n * @return {number} The given angle converted to radians.\n */\nexport function DegToRad (degrees: number): number\n{\n    return degrees * MATH_CONST.DEG_TO_RAD;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { DegToRad } from '../../math/DegToRad';\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns a Point from the perimeter of a Rectangle based on the given angle.\n */\nexport function GetRectanglePerimeterPoint (rectangle: IRectangle, angle: number, out: Vec2 = new Vec2()): Vec2\n{\n    angle = DegToRad(angle);\n\n    const s = Math.sin(angle);\n    const c = Math.cos(angle);\n\n    let dx = (c > 0) ? rectangle.width / 2 : rectangle.width / -2;\n    let dy = (s > 0) ? rectangle.height / 2 : rectangle.height / -2;\n\n    if (Math.abs(dx * s) < Math.abs(dy * c))\n    {\n        dy = (dx * s) / c;\n    }\n    else\n    {\n        dx = (dy * c) / s;\n    }\n\n    return out.set(\n        dx + GetRectangleCenterX(rectangle),\n        dy + GetRectangleCenterY(rectangle)\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectanglePerimeter } from './GetRectanglePerimeter';\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Calculates the coordinates of a point at a certain `position` on the Rectangle's perimeter.\n *\n * The `position` is a fraction between 0 and 1 which defines how far into the perimeter the point is.\n *\n * A value of 0 or 1 returns the point at the top left corner of the rectangle, while a value of 0.5 returns the point at the bottom right corner of the rectangle. Values between 0 and 0.5 are on the top or the right side and values between 0.5 and 1 are on the bottom or the left side.\n */\nexport function GetRectanglePoint (rectangle: IRectangle, position: number, out: Vec2 = new Vec2()): Vec2\n{\n    if (position <= 0 || position >= 1)\n    {\n        return out.set(rectangle.x, rectangle.y);\n    }\n\n    let p = GetRectanglePerimeter(rectangle) * position;\n\n    if (position > 0.5)\n    {\n        p -= (rectangle.width + rectangle.height);\n\n        if (p <= rectangle.width)\n        {\n            //  Face 3\n            return out.set(rectangle.right - p, rectangle.bottom);\n        }\n        else\n        {\n            //  Face 4\n            return out.set(rectangle.x, rectangle.bottom - (p - rectangle.width));\n        }\n    }\n    else if (p <= rectangle.width)\n    {\n        //  Face 1\n        return out.set(rectangle.x + p, rectangle.y);\n    }\n    else\n    {\n        //  Face 2\n        return out.set(rectangle.right, rectangle.y + (p - rectangle.width));\n    }\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { GetRectanglePerimeter } from './GetRectanglePerimeter';\nimport { GetRectanglePoint } from './GetRectanglePoint';\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Return an array of points from the perimeter of the rectangle, each spaced out based on the quantity or step required.\n */\nexport function GetRectanglePoints (rectangle: IRectangle, step: number, quantity: number = 0, out: Vec2[] = []): Vec2[]\n{\n    //  If quantity is a falsey value (false, null, 0, undefined, etc) then we calculate it based on the stepRate instead.\n    if (!quantity)\n    {\n        quantity = GetRectanglePerimeter(rectangle) / step;\n    }\n\n    for (let i = 0; i < quantity; i++)\n    {\n        out.push(GetRectanglePoint(rectangle, i / quantity));\n    }\n\n    return out;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns a random point within a Rectangle.\n */\nexport function GetRectangleRandomPoint (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\n{\n    return out.set(\n        rect.x + (Math.random() * rect.width),\n        rect.y + (Math.random() * rect.height)\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Tests if one rectangle fully contains another.\n */\nexport function RectangleContainsRectangle (rectA: IRectangle, rectB: IRectangle): boolean\n{\n    //  Volume check (if rectB volume > rectA then rectA cannot contain it)\n    if ((rectB.width * rectB.height) > (rectA.width * rectA.height))\n    {\n        return false;\n    }\n\n    return (\n        (rectB.x > rectA.x && rectB.x < rectA.right) &&\n        (rectB.right > rectA.x && rectB.right < rectA.right) &&\n        (rectB.y > rectA.y && rectB.y < rectA.bottom) &&\n        (rectB.bottom > rectA.y && rectB.bottom < rectA.bottom)\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { Between } from '../../math/Between';\nimport { IRectangle } from './IRectangle';\nimport { RectangleContainsRectangle } from './RectangleContainsRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Calculates a random point that lies within the `outer` Rectangle, but outside of the `inner` Rectangle.\n * The inner Rectangle must be fully contained within the outer rectangle.\n */\nexport function GetRectangleRandomPointOutside (outer: IRectangle, inner: IRectangle, out: Vec2 = new Vec2()): Vec2\n{\n    if (RectangleContainsRectangle(outer, inner))\n    {\n        //  Pick a random quadrant\n        //\n        //  The quadrants don't extend the full widths / heights of the outer rect to give\n        //  us a better uniformed distribution, otherwise you get clumping in the corners where\n        //  the 4 quads would overlap\n\n        switch (Between(0, 3))\n        {\n            case 0: // Top\n                out.x = outer.x + (Math.random() * (inner.right - outer.x));\n                out.y = outer.y + (Math.random() * (inner.y - outer.y));\n                break;\n\n            case 1: // Bottom\n                out.x = inner.x + (Math.random() * (outer.right - inner.x));\n                out.y = inner.bottom + (Math.random() * (outer.bottom - inner.bottom));\n                break;\n\n            case 2: // Left\n                out.x = outer.x + (Math.random() * (inner.x - outer.x));\n                out.y = inner.y + (Math.random() * (outer.bottom - inner.y));\n                break;\n\n            case 3: // Right\n                out.x = inner.right + (Math.random() * (outer.right - inner.right));\n                out.y = outer.y + (Math.random() * (inner.bottom - outer.y));\n                break;\n        }\n    }\n\n    return out;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Returns the size of the Rectangle, expressed as a Point object.\n * With the value of the `width` as the `x` property and the `height` as the `y` property.\n */\nexport function GetRectangleSize (rect: IRectangle, out: Vec2 = new Vec2()): Vec2\n{\n    return out.set(rect.width, rect.height);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Rectangle } from './Rectangle';\n\n/**\n * Creates a new Rectangle or repositions and/or resizes an existing Rectangle so that it encompasses the two given Rectangles, i.e. calculates their union.\n */\nexport function GetRectangleUnion (rectA: IRectangle, rectB: IRectangle, out: Rectangle = new Rectangle()): Rectangle\n{\n    //  Cache vars so we can use one of the input rects as the output rect\n    const x = Math.min(rectA.x, rectB.x);\n    const y = Math.min(rectA.y, rectB.y);\n    const w = Math.max(rectA.right, rectB.right) - x;\n    const h = Math.max(rectA.bottom, rectB.bottom) - y;\n\n    return out.set(x, y, w, h);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CenterRectangleOn } from './CenterRectangleOn';\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { IRectangle } from './IRectangle';\n\n/**\n * Increases the size of a Rectangle by a specified amount.\n *\n * The center of the Rectangle stays the same. The amounts are added to each side, so the actual increase in width or height is two times bigger than the respective argument.\n */\nexport function InflateRectangle (rect: IRectangle, x: number, y: number): IRectangle\n{\n    const cx = GetRectangleCenterX(rect);\n    const cy = GetRectangleCenterY(rect);\n\n    rect.width = rect.width + (x * 2);\n    rect.height = rect.height + (y * 2);\n\n    return CenterRectangleOn(rect, cx, cy);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Merges the source rectangle into the target rectangle and returns the target.\n * Neither rectangle should have a negative width or height.\n */\nexport function MergeRectangle (target: IRectangle, source: IRectangle): IRectangle\n{\n    const minX = Math.min(target.x, source.x);\n    const maxX = Math.max(target.right, source.right);\n    const minY = Math.min(target.y, source.y);\n    const maxY = Math.max(target.bottom, source.bottom);\n\n    return target.set(\n        minX,\n        minY,\n        maxX - minX,\n        maxY - minY\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { RectangleContains } from './RectangleContains';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Determines whether the specified point is contained within the rectangular region defined by this Rectangle object.\n */\nexport function RectangleContainsPoint (rect: IRectangle, point: Vec2): boolean\n{\n    return RectangleContains(rect, point.x, point.y);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Compares the `x`, `y`, `width` and `height` properties of two rectangles.\n */\nexport function RectangleEquals (rect: IRectangle, toCompare: IRectangle): boolean\n{\n    return (\n        rect.x === toCompare.x &&\n        rect.y === toCompare.y &&\n        rect.width === toCompare.width &&\n        rect.height === toCompare.height\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { MATH_CONST } from '../../math/const';\nimport { Rectangle } from './Rectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Constructs new Rectangle or repositions and resizes an existing Rectangle so that all of the given points are on or within its bounds.\n */\nexport function RectangleFromPoints (points: Vec2[], out: Rectangle = new Rectangle()): Rectangle\n{\n    if (points.length === 0)\n    {\n        return out;\n    }\n\n    let minX = Number.MAX_VALUE;\n    let minY = Number.MAX_VALUE;\n\n    let maxX = MATH_CONST.MIN_SAFE_INTEGER;\n    let maxY = MATH_CONST.MIN_SAFE_INTEGER;\n\n    for (let i = 0; i < points.length; i++)\n    {\n        const px = points[i].x;\n        const py = points[i].y;\n\n        minX = Math.min(minX, px);\n        minY = Math.min(minY, py);\n\n        maxX = Math.max(maxX, px);\n        maxY = Math.max(maxY, py);\n    }\n\n    return out.set(\n        minX,\n        minY,\n        maxX - minX,\n        maxY - minY\n    );\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Determines if the two objects (either Rectangles or Rectangle-like) have the same width and height values under strict equality.\n */\nexport function RectangleSizeEquals (rect: IRectangle, toCompare: IRectangle): boolean\n{\n    return (rect.width === toCompare.width && rect.height === toCompare.height);\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Scales the width and height of this Rectangle by the given amounts.\n */\nexport function ScaleRectangle (rect: IRectangle, x: number, y: number = x): IRectangle\n{\n    rect.width *= x;\n    rect.height *= y;\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\n\n/**\n * Translates the position of a Rectangle by a given offset.\n */\nexport function TranslateRectangle (rect: IRectangle, x: number, y: number): IRectangle\n{\n    rect.x += x;\n    rect.y += y;\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { IRectangle } from './IRectangle';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\n/**\n * Translates the position of a Rectangle by the coordinates of a point (translation vector).\n */\nexport function TranslateRectanglePoint (rect: IRectangle, point: Vec2): IRectangle\n{\n    rect.x += point.x;\n    rect.y += point.y;\n\n    return rect;\n}\n", "/**\n * @author       Richard Davey <rich@photonstorm.com>\n * @copyright    2020 Photon Storm Ltd.\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\n */\n\nimport { CeilRectangle } from './CeilRectangle';\nimport { CeilRectanglePosition } from './CeilRectanglePosition';\nimport { CenterRectangleOn } from './CenterRectangleOn';\nimport { CloneRectangle } from './CloneRectangle';\nimport { CopyRectangleFrom } from './CopyRectangleFrom';\nimport { DecomposeRectangle } from './DecomposeRectangle';\nimport { FitRectangleInside } from './FitRectangleInside';\nimport { FitRectangleOutside } from './FitRectangleOutside';\nimport { FitRectangleToPoint } from './FitRectangleToPoint';\nimport { FitRectangleToPoints } from './FitRectangleToPoints';\nimport { FloorRectangle } from './FloorRectangle';\nimport { FloorRectanglePosition } from './FloorRectanglePosition';\nimport { GetRectangleArea } from './GetRectangleArea';\nimport { GetRectangleAspectRatio } from './GetRectangleAspectRatio';\nimport { GetRectangleCenter } from './GetRectangleCenter';\nimport { GetRectangleCenterX } from './GetRectangleCenterX';\nimport { GetRectangleCenterY } from './GetRectangleCenterY';\nimport { GetRectangleEdges } from './GetRectangleEdges';\nimport { GetRectangleIntersection } from './GetRectangleIntersection';\nimport { GetRectangleMarchingAnts } from './GetRectangleMarchingAnts';\nimport { GetRectangleOverlap } from './GetRectangleOverlap';\nimport { GetRectanglePerimeter } from './GetRectanglePerimeter';\nimport { GetRectanglePerimeterPoint } from './GetRectanglePerimeterPoint';\nimport { GetRectanglePoint } from './GetRectanglePoint';\nimport { GetRectanglePoints } from './GetRectanglePoints';\nimport { GetRectangleRandomPoint } from './GetRectangleRandomPoint';\nimport { GetRectangleRandomPointOutside } from './GetRectangleRandomPointOutside';\nimport { GetRectangleSize } from './GetRectangleSize';\nimport { GetRectangleUnion } from './GetRectangleUnion';\nimport { InflateRectangle } from './InflateRectangle';\nimport { MergeRectangle } from './MergeRectangle';\nimport { Rectangle } from './Rectangle';\nimport { RectangleContains } from './RectangleContains';\nimport { RectangleContainsPoint } from './RectangleContainsPoint';\nimport { RectangleContainsRectangle } from './RectangleContainsRectangle';\nimport { RectangleEquals } from './RectangleEquals';\nimport { RectangleFromPoints } from './RectangleFromPoints';\nimport { RectangleSizeEquals } from './RectangleSizeEquals';\nimport { ScaleRectangle } from './ScaleRectangle';\nimport { TranslateRectangle } from './TranslateRectangle';\nimport { TranslateRectanglePoint } from './TranslateRectanglePoint';\n\nexport {\n    CeilRectangle,\n    CeilRectanglePosition,\n    CenterRectangleOn,\n    CloneRectangle,\n    CopyRectangleFrom,\n    DecomposeRectangle,\n    FitRectangleInside,\n    FitRectangleOutside,\n    FitRectangleToPoint,\n    FitRectangleToPoints,\n    FloorRectangle,\n    FloorRectanglePosition,\n    GetRectangleArea,\n    GetRectangleAspectRatio,\n    GetRectangleCenter,\n    GetRectangleCenterX,\n    GetRectangleCenterY,\n    GetRectangleEdges,\n    GetRectangleIntersection,\n    GetRectangleMarchingAnts,\n    GetRectangleOverlap,\n    GetRectanglePerimeter,\n    GetRectanglePerimeterPoint,\n    GetRectanglePoint,\n    GetRectanglePoints,\n    GetRectangleRandomPoint,\n    GetRectangleRandomPointOutside,\n    GetRectangleSize,\n    GetRectangleUnion,\n    InflateRectangle,\n    MergeRectangle,\n    Rectangle,\n    RectangleContains,\n    RectangleContainsPoint,\n    RectangleContainsRectangle,\n    RectangleEquals,\n    RectangleFromPoints,\n    RectangleSizeEquals,\n    ScaleRectangle,\n    TranslateRectangle,\n    TranslateRectanglePoint\n};\n", "import { ITransformComponent } from './ITransformComponent';\n\nexport function UpdateLocalTransform (transform: ITransformComponent): void\n{\n    const local = transform.local;\n\n    const x = transform.position.x;\n    const y = transform.position.y;\n    const rotation = transform.rotation;\n    const scaleX = transform.scale.x;\n    const scaleY = transform.scale.y;\n    const skewX = transform.skew.x;\n    const skewY = transform.skew.y;\n\n    local.set(\n        Math.cos(rotation + skewY) * scaleX,\n        Math.sin(rotation + skewY) * scaleX,\n        -Math.sin(rotation - skewX) * scaleY,\n        Math.cos(rotation - skewX) * scaleY,\n        x,\n        y\n    );\n}\n", "import { IMatrix2D } from './IMatrix2D';\nimport { Matrix2D } from './Matrix2D';\n\n//  Copy the values from the src Matrix to the target Matrix and return the target Matrix.\n\nexport function Mat2dCopyFrom (src: IMatrix2D, target: Matrix2D): Matrix2D\n{\n    const { a, b, c, d, tx, ty } = src;\n\n    return target.set(a, b, c, d, tx, ty);\n}\n", "import { IGameObject } from '../../IGameObject';\nimport { Mat2dCopyFrom } from '../../../math/mat2d/Mat2dCopyFrom';\n\nexport function UpdateWorldTransform (gameObject: IGameObject): void\n{\n    const parent = gameObject.parent;\n    const transform = gameObject.transform;\n\n    const lt = transform.local;\n    const wt = transform.world;\n\n    if (!parent)\n    {\n        Mat2dCopyFrom(lt, wt);\n    }\n    else if (transform.passthru)\n    {\n        Mat2dCopyFrom(parent.transform.world, wt);\n    }\n    else\n    {\n        const { a, b, c, d, tx, ty } = lt;\n        const { a: pa, b: pb, c: pc, d: pd, tx: ptx, ty: pty } = parent.transform.world;\n\n        wt.set(\n            a  * pa + b  * pc,\n            a  * pb + b  * pd,\n            c  * pa + d  * pc,\n            c  * pb + d  * pd,\n            tx * pa + ty * pc + ptx,\n            tx * pb + ty * pd + pty\n        );\n    }\n}\n", "import { GetDefaultOriginX, GetDefaultOriginY } from '../../../config/defaultorigin/';\nimport { Vec2, Vec2Callback } from '../../../math/vec2';\n\nimport { DIRTY_CONST } from '../../DIRTY_CONST';\nimport { IGameObject } from '../../IGameObject';\nimport { ITransformComponent } from './ITransformComponent';\nimport { Matrix2D } from '../../../math/mat2d/Matrix2D';\nimport { Rectangle } from '../../../geom/rectangle';\nimport { UpdateLocalTransform } from './UpdateLocalTransform';\nimport { UpdateWorldTransform } from './UpdateWorldTransform';\n\nexport class TransformComponent implements ITransformComponent\n{\n    entity: IGameObject;\n\n    //  This should be treated as read-only, it is always perfectly in sync with the properties in this class\n    local: Matrix2D;\n\n    world: Matrix2D;\n\n    position: Vec2Callback;\n    scale: Vec2Callback;\n    skew: Vec2Callback;\n    origin: Vec2Callback;\n    extent: Rectangle;\n\n    passthru: boolean = false;\n\n    private _rotation: number = 0;\n\n    constructor (entity: IGameObject, x: number = 0, y: number = 0)\n    {\n        this.entity = entity;\n\n        this.local = new Matrix2D();\n        this.world = new Matrix2D();\n\n        const update = () => this.update();\n        const updateExtent = () => this.updateExtent();\n\n        this.position = new Vec2Callback(update, x, y);\n        this.scale = new Vec2Callback(update, 1, 1);\n        this.skew = new Vec2Callback(update);\n        this.origin = new Vec2Callback(updateExtent, GetDefaultOriginX(), GetDefaultOriginY());\n\n        this.extent = new Rectangle();\n    }\n\n    update (): void\n    {\n        this.updateLocal();\n        this.updateWorld();\n    }\n\n    updateLocal (): void\n    {\n        this.entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n\n        UpdateLocalTransform(this);\n    }\n\n    updateWorld (): void\n    {\n        const entity = this.entity;\n\n        entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n\n        UpdateWorldTransform(entity);\n\n        if (entity.numChildren)\n        {\n            this.updateChildren();\n        }\n    }\n\n    updateChildren (): void\n    {\n        //  Sweep all children - by this point our local and world transforms are correct\n        const children = this.entity.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            child.transform.updateWorld();\n        }\n    }\n\n    globalToLocal (x: number, y: number, out: Vec2 = new Vec2()): Vec2\n    {\n        const { a, b, c, d, tx, ty } = this.world;\n\n        const id: number = 1 / ((a * d) + (c * -b));\n\n        out.x = (d * id * x) + (-c * id * y) + (((ty * c) - (tx * d)) * id);\n        out.y = (a * id * y) + (-b * id * x) + (((-ty * a) + (tx * b)) * id);\n\n        return out;\n    }\n\n    localToGlobal (x: number, y: number, out: Vec2 = new Vec2()): Vec2\n    {\n        const { a, b, c, d, tx, ty } = this.world;\n\n        out.x = (a * x) + (c * y) + tx;\n        out.y = (b * x) + (d * y) + ty;\n\n        return out;\n    }\n\n    //  The area covered by this transform component + origin + size (usually from a Frame)\n    setExtent (x: number, y: number, width: number, height: number): void\n    {\n        this.extent.set(x, y, width, height);\n\n        this.entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n    }\n\n    updateExtent (width?: number, height?: number): void\n    {\n        const extent = this.extent;\n        const entity = this.entity;\n\n        if (width !== undefined)\n        {\n            extent.width = width;\n        }\n\n        if (height !== undefined)\n        {\n            extent.height = height;\n        }\n\n        extent.x = -(this.origin.x) * extent.width;\n        extent.y = -(this.origin.y) * extent.height;\n\n        entity.setDirty(DIRTY_CONST.TRANSFORM, DIRTY_CONST.BOUNDS);\n    }\n\n    set rotation (value: number)\n    {\n        if (value !== this._rotation)\n        {\n            this._rotation = value;\n\n            this.update();\n        }\n    }\n\n    get rotation (): number\n    {\n        return this._rotation;\n    }\n\n    destroy (): void\n    {\n        this.position.destroy();\n        this.scale.destroy();\n        this.skew.destroy();\n        this.origin.destroy();\n\n        this.entity = null;\n        this.local = null;\n        this.world = null;\n        this.position = null;\n        this.scale = null;\n        this.skew = null;\n        this.origin = null;\n        this.extent = null;\n    }\n}\n", "export function PackColor (rgb: number, alpha: number): number\n{\n    const ua = ((alpha * 255) | 0) & 0xFF;\n\n    return ((ua << 24) | rgb) >>> 0;\n}\n", "import { PackColor } from '../../renderer/webgl1/colors/PackColor';\n\nexport class Vertex\n{\n    x: number = 0;\n    y: number = 0;\n    z: number = 0;\n\n    u: number = 0;\n    v: number = 0;\n\n    texture: number = 0;\n\n    tint: number = 0xffffff;\n    alpha: number = 1;\n    color: number = 4294967295;\n\n    constructor (x: number = 0, y: number = 0, z: number = 0)\n    {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    setPosition (x: number, y: number, z: number = 0): this\n    {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        return this;\n    }\n\n    setUV (u: number, v: number): this\n    {\n        this.u = u;\n        this.v = v;\n\n        return this;\n    }\n\n    setColor (color: number, alpha: number = 1): this\n    {\n        this.tint = color;\n        this.alpha = alpha;\n\n        this.packColor();\n\n        return this;\n    }\n\n    setAlpha (value: number): this\n    {\n        this.alpha = value;\n\n        return this;\n    }\n\n    setTint (value: number): this\n    {\n        this.tint = value;\n\n        return this;\n    }\n\n    packColor (): void\n    {\n        this.color = PackColor(this.tint, this.alpha);\n    }\n}\n", "import { GetVertexBufferEntry } from '../renderpass/GetVertexBufferEntry';\nimport { IRenderPass } from '../renderpass/IRenderPass';\nimport { ITexture } from '../../../textures/ITexture';\nimport { SetTexture } from '../renderpass/SetTexture';\nimport { Vertex } from '../../../gameobjects/components';\n\nexport function BatchTexturedQuad <T extends ITexture> (texture: T, vertices: Vertex[], renderPass: IRenderPass): void\n{\n    const { F32, U32, offset } = GetVertexBufferEntry(renderPass, 1);\n\n    const textureIndex = SetTexture(renderPass, texture);\n\n    let vertOffset = offset;\n\n    vertices.forEach(vertex =>\n    {\n        F32[vertOffset + 0] = vertex.x;\n        F32[vertOffset + 1] = vertex.y;\n        F32[vertOffset + 2] = vertex.u;\n        F32[vertOffset + 3] = vertex.v;\n        F32[vertOffset + 4] = textureIndex;\n        U32[vertOffset + 5] = vertex.color;\n\n        vertOffset += 6;\n    });\n}\n\n/*\n    vertexData array structure:\n\n    0 = topLeft.x\n    1 = topLeft.y\n    2 = frame.u0\n    3 = frame.v0\n    4 = textureIndex\n    5 = topLeft.packedColor\n\n    6 = bottomLeft.x\n    7 = bottomLeft.y\n    8 = frame.u0\n    9 = frame.v1\n    10 = textureIndex\n    11 = bottomLeft.packedColor\n\n    12 = bottomRight.x\n    13 = bottomRight.y\n    14 = frame.u1\n    15 = frame.v1\n    16 = textureIndex\n    17 = bottomRight.packedColor\n\n    18 = topRight.x\n    19 = topRight.y\n    20 = frame.u1\n    21 = frame.v0\n    22 = textureIndex\n    23 = topRight.packedColor\n*/\n", "import { BoundsComponent } from './components/bounds/BoundsComponent';\nimport { DIRTY_CONST } from './DIRTY_CONST';\nimport { DestroyChildren } from '../display/DestroyChildren';\nimport { DestroyEvent } from './events/DestroyEvent';\nimport { Emit } from '../events/Emit';\nimport { GameInstance } from '../GameInstance';\nimport { IBaseWorld } from '../world/IBaseWorld';\nimport { IBoundsComponent } from './components/bounds/IBoundsComponent';\nimport { ICanvasRenderer } from '../renderer/canvas/ICanvasRenderer';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IGameObject } from './IGameObject';\nimport { IInputComponent } from './components/input/IInputComponent';\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\nimport { ITransformComponent } from './components/transform/ITransformComponent';\nimport { InputComponent } from './components/input/InputComponent';\nimport { ReparentChildren } from '../display/ReparentChildren';\nimport { TransformComponent } from './components/transform/TransformComponent';\nimport { Vertex } from './components/Vertex';\n\nexport class GameObject implements IGameObject\n{\n    type: string = 'GameObject';\n    name: string = '';\n\n    //  The World this Game Object belongs to. A Game Object can only belong to one World instance at any one time.\n    world: IBaseWorld;\n\n    //  The direct parent of this Game Object in the scene graph (if any)\n    parent: IGameObject;\n\n    children: IGameObject[];\n\n    events: Map<string, Set<IEventInstance>>;\n\n    willUpdate: boolean = true;\n    willUpdateChildren: boolean = true;\n\n    willRender: boolean = true;\n    willRenderChildren: boolean = true;\n    willCacheChildren: boolean = false;\n\n    dirty: number = 0;\n    dirtyFrame: number = 0;\n\n    transform: ITransformComponent;\n    bounds: IBoundsComponent;\n    input: IInputComponent;\n    vertices: Vertex[];\n\n    visible: boolean = true;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        this.children = [];\n        this.vertices = [];\n\n        this.events = new Map();\n\n        this.transform = new TransformComponent(this, x, y);\n        this.bounds = new BoundsComponent(this);\n        this.input = new InputComponent(this);\n\n        this.dirty = DIRTY_CONST.DEFAULT;\n\n        this.transform.update();\n    }\n\n    isRenderable (): boolean\n    {\n        return (this.visible && this.willRender);\n    }\n\n    isDirty (flag: number): boolean\n    {\n        return (this.dirty & flag) !== 0;\n    }\n\n    clearDirty (flag: number): this\n    {\n        if (this.isDirty(flag))\n        {\n            this.dirty ^= flag;\n        }\n\n        return this;\n    }\n\n    setDirty (flag: number, flag2?: number): this\n    {\n        if (!this.isDirty(flag))\n        {\n            this.dirty ^= flag;\n            this.dirtyFrame = GameInstance.getFrame();\n        }\n\n        if (!this.isDirty(flag2))\n        {\n            this.dirty ^= flag2;\n        }\n\n        return this;\n    }\n\n    update (delta: number, time: number): void\n    {\n        if (this.willUpdateChildren)\n        {\n            const children = this.children;\n\n            for (let i = 0; i < children.length; i++)\n            {\n                const child = children[i];\n\n                if (child && child.willUpdate)\n                {\n                    child.update(delta, time);\n                }\n            }\n        }\n\n        this.postUpdate(delta, time);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postUpdate (delta: number, time: number): void\n    {\n        //  Empty for parent classes to use.\n        //  Called after this GameObject and all of its children have been updated.\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        //  Called after this GameObject and all of its children have been rendered.\n        //  If it doesn't have any children, this method is never called.\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n        //  Called after this GameObject and all of its children have been rendered.\n        //  If it doesn't have any children, this method is never called.\n    }\n\n    get numChildren (): number\n    {\n        return this.children.length;\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        if (reparentChildren)\n        {\n            ReparentChildren(this, reparentChildren);\n        }\n        else\n        {\n            DestroyChildren(this);\n        }\n\n        Emit(this, DestroyEvent, this);\n\n        this.transform.destroy();\n        this.bounds.destroy();\n        this.input.destroy();\n\n        this.events.clear();\n\n        this.world = null;\n        this.parent = null;\n        this.children = null;\n\n        this.vertices = [];\n    }\n}\n", "import { DIRTY_CONST } from '../DIRTY_CONST';\nimport { GameObject } from '../GameObject';\nimport { GetRectangleSize } from '../../geom/rectangle/GetRectangleSize';\nimport { IContainer } from './IContainer';\nimport { Vec2 } from '../../math/vec2/Vec2';\n\nexport class Container extends GameObject implements IContainer\n{\n    protected _alpha: number = 1;\n\n    constructor (x: number = 0, y: number = 0)\n    {\n        super(x, y);\n\n        this.type = 'Container';\n    }\n\n    setSize (width: number, height: number = width): this\n    {\n        this.transform.updateExtent(width, height);\n\n        return this;\n    }\n\n    getSize (out: Vec2 = new Vec2()): Vec2\n    {\n        return GetRectangleSize(this.transform.extent, out);\n    }\n\n    setPosition (x: number, y: number): this\n    {\n        this.transform.position.set(x, y);\n\n        return this;\n    }\n\n    getPosition (out: Vec2 = new Vec2()): Vec2\n    {\n        const position = this.transform.position;\n\n        return out.set(position.x, position.y);\n    }\n\n    setOrigin (x: number, y: number = x): this\n    {\n        this.transform.origin.set(x, y);\n\n        return this;\n    }\n\n    getOrigin (out: Vec2 = new Vec2()): Vec2\n    {\n        const origin = this.transform.origin;\n\n        return out.set(origin.x, origin.y);\n    }\n\n    setSkew (x: number, y: number = x): this\n    {\n        this.transform.skew.set(x, y);\n\n        return this;\n    }\n\n    getSkew (out: Vec2 = new Vec2()): Vec2\n    {\n        const skew = this.transform.skew;\n\n        return out.set(skew.x, skew.y);\n    }\n\n    setScale (x: number, y: number = x): this\n    {\n        this.transform.scale.set(x, y);\n\n        return this;\n    }\n\n    getScale (out: Vec2 = new Vec2()): Vec2\n    {\n        const scale = this.transform.scale;\n\n        return out.set(scale.x, scale.y);\n    }\n\n    setRotation (value: number): this\n    {\n        this.transform.rotation = value;\n\n        return this;\n    }\n\n    getRotation (): number\n    {\n        return this.transform.rotation;\n    }\n\n    set width (value: number)\n    {\n        this.transform.updateExtent(value);\n    }\n\n    get width (): number\n    {\n        return this.transform.extent.width;\n    }\n\n    set height (value: number)\n    {\n        this.transform.updateExtent(undefined, value);\n    }\n\n    get height (): number\n    {\n        return this.transform.extent.height;\n    }\n\n    set x (value: number)\n    {\n        this.transform.position.x = value;\n    }\n\n    get x (): number\n    {\n        return this.transform.position.x;\n    }\n\n    set y (value: number)\n    {\n        this.transform.position.y = value;\n    }\n\n    get y (): number\n    {\n        return this.transform.position.y;\n    }\n\n    set originX (value: number)\n    {\n        this.transform.origin.x = value;\n    }\n\n    get originX (): number\n    {\n        return this.transform.origin.x;\n    }\n\n    set originY (value: number)\n    {\n        this.transform.origin.y = value;\n    }\n\n    get originY (): number\n    {\n        return this.transform.origin.y;\n    }\n\n    set skewX (value: number)\n    {\n        this.transform.skew.x = value;\n    }\n\n    get skewX (): number\n    {\n        return this.transform.skew.x;\n    }\n\n    set skewY (value: number)\n    {\n        this.transform.skew.y = value;\n    }\n\n    get skewY (): number\n    {\n        return this.transform.skew.y;\n    }\n\n    set scaleX (value: number)\n    {\n        this.transform.scale.x = value;\n    }\n\n    get scaleX (): number\n    {\n        return this.transform.scale.x;\n    }\n\n    set scaleY (value: number)\n    {\n        this.transform.scale.y = value;\n    }\n\n    get scaleY (): number\n    {\n        return this.transform.scale.y;\n    }\n\n    set rotation (value: number)\n    {\n        this.transform.rotation = value;\n    }\n\n    get rotation (): number\n    {\n        return this.transform.rotation;\n    }\n\n    get alpha (): number\n    {\n        return this._alpha;\n    }\n\n    set alpha (value: number)\n    {\n        if (value !== this._alpha)\n        {\n            this._alpha = value;\n\n            this.vertices.forEach(vertex =>\n            {\n                vertex.setAlpha(value);\n            });\n\n            this.setDirty(DIRTY_CONST.COLORS);\n        }\n    }\n}\n", "import { Frame } from '../../../textures';\nimport { ICanvasRenderer } from '../ICanvasRenderer';\nimport { ITransformComponent } from '../../../gameobjects/components/transform/ITransformComponent';\n\nexport function DrawTexturedQuad (frame: Frame, alpha: number, transform: ITransformComponent, renderer: ICanvasRenderer): void\n{\n    if (!frame)\n    {\n        return;\n    }\n\n    const ctx = renderer.ctx;\n\n    const { a, b, c, d, tx, ty } = transform.world;\n    const { x, y } = transform.extent;\n\n    ctx.save();\n\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    ctx.globalAlpha = alpha;\n\n    ctx.drawImage(frame.texture.image as HTMLImageElement, frame.x, frame.y, frame.width, frame.height, x, y, frame.width, frame.height);\n\n    ctx.restore();\n}\n", "import { Frame } from '../../textures/Frame';\nimport { ISprite } from './ISprite';\nimport { Texture } from '../../textures';\n\nexport function SetFrame <T extends ISprite> (texture: Texture, key?: string | number | Frame, ...children: T[]): T[]\n{\n    const frame = texture.getFrame(key);\n\n    const pivot = frame.pivot;\n\n    children.forEach(child =>\n    {\n        //  TODO - If frame is dirty, reset it anyway\n        if (!child || frame === child.frame)\n        {\n            return;\n        }\n\n        child.frame = frame;\n        child.hasTexture = true;\n\n        if (pivot)\n        {\n            child.setOrigin(pivot.x, pivot.y);\n        }\n\n        frame.copyToExtent(child);\n\n        //  This rarely changes, so we'll set it here, rather than every game step:\n        frame.copyToVertices(child.vertices);\n    });\n\n    return children;\n}\n", "import { Frame } from '../../textures/Frame';\nimport { ISprite } from './ISprite';\nimport { SetFrame } from './SetFrame';\nimport { Texture } from '../../textures/Texture';\nimport { TextureManagerInstance } from '../../textures/TextureManagerInstance';\n\nexport function SetTexture <T extends ISprite> (key: string | Texture, frame: string | number | Frame, ...children: T[]): T[]\n{\n    if (!key)\n    {\n        //  Remove texture from all children\n        children.forEach(child =>\n        {\n            child.texture = null;\n            child.frame = null;\n            child.hasTexture = false;\n        });\n    }\n    else\n    {\n        let texture: Texture;\n\n        if (key instanceof Texture)\n        {\n            texture = key;\n        }\n        else\n        {\n            texture = TextureManagerInstance.get().get(key);\n        }\n\n        if (!texture)\n        {\n            console.warn(`Invalid Texture key: ${key as string}`);\n        }\n        else\n        {\n            children.forEach(child =>\n            {\n                child.texture = texture;\n            });\n\n            SetFrame(texture, frame, ...children);\n        }\n    }\n\n    return children;\n}\n", "import { BatchTexturedQuad } from '../../renderer/webgl1/draw/BatchTexturedQuad';\nimport { Container } from '../container/Container';\nimport { DIRTY_CONST } from '../DIRTY_CONST';\nimport { DrawTexturedQuad } from '../../renderer/canvas/draw/DrawTexturedQuad';\nimport { Frame } from '../../textures/Frame';\nimport { ICanvasRenderer } from '../../renderer/canvas/ICanvasRenderer';\nimport { IGameObject } from '../IGameObject';\nimport { IRenderPass } from '../../renderer/webgl1/renderpass/IRenderPass';\nimport { ISprite } from './ISprite';\nimport { PreRenderVertices } from '../components/transform/PreRenderVertices';\nimport { SetFrame } from './SetFrame';\nimport { SetTexture } from './SetTexture';\nimport { Texture } from '../../textures/Texture';\nimport { Vertex } from '../components/Vertex';\n\nexport class Sprite extends Container implements ISprite\n{\n    texture: Texture;\n    frame: Frame;\n    hasTexture: boolean = false;\n\n    protected _tint: number = 0xffffff;\n\n    constructor (x: number, y: number, texture: string | Texture, frame?: string | number)\n    {\n        super(x, y);\n\n        this.type = 'Sprite';\n\n        this.vertices = [ new Vertex(), new Vertex(), new Vertex(), new Vertex() ];\n\n        this.setTexture(texture, frame);\n    }\n\n    setTexture (key: string | Texture, frame?: string | number): this\n    {\n        SetTexture(key, frame, this);\n\n        return this;\n    }\n\n    setFrame (key?: string | number | Frame): this\n    {\n        SetFrame(this.texture, key, this);\n\n        return this;\n    }\n\n    isRenderable (): boolean\n    {\n        return (this.visible && this.willRender && this.hasTexture && this.alpha > 0);\n    }\n\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        PreRenderVertices(this);\n\n        BatchTexturedQuad(this.texture, this.vertices, renderPass);\n    }\n\n    renderCanvas <T extends ICanvasRenderer> (renderer: T): void\n    {\n        PreRenderVertices(this);\n\n        DrawTexturedQuad(this.frame, this.alpha, this.transform, renderer);\n    }\n\n    get tint (): number\n    {\n        return this._tint;\n    }\n\n    set tint (value: number)\n    {\n        if (value !== this._tint)\n        {\n            this._tint = value;\n\n            this.vertices.forEach(vertex =>\n            {\n                vertex.setTint(value);\n            });\n\n            this.setDirty(DIRTY_CONST.COLORS);\n        }\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        super.destroy(reparentChildren);\n\n        this.texture = null;\n        this.frame = null;\n        this.hasTexture = false;\n    }\n}\n", "import Tweakpane from 'tweakpane';\n\nexport class SpriteEditor\n{\n    constructor (spriteRef)\n    {\n        this.target = spriteRef;\n        this.transform = spriteRef.transform;\n\n        this.createWindow();\n    }\n\n    createWindow ()\n    {\n        const pane = new Tweakpane({\n            container: document.getElementById('spriteEd')\n        });\n\n        const transformFolder = pane.addFolder({ title: 'Transform' });\n\n        const step01 = { step: 0.1 };\n\n        transformFolder.addInput(this.transform, 'position');\n        transformFolder.addInput(this.transform, 'rotation', step01);\n        transformFolder.addInput(this.transform, 'scale', { x: step01, y: step01 });\n        transformFolder.addInput(this.transform, 'skew', { x: step01, y: step01 });\n        transformFolder.addInput(this.transform, 'origin', { min: 0, max: 1, step: 0.1 });\n\n        const displayFolder = pane.addFolder({ title: 'Display' });\n\n        displayFolder.addInput(this.target, 'visible');\n        // displayFolder.addInput(this.target, 'tint', { input: 'color', picker: 'inline', expanded: true });\n        displayFolder.addInput(this.target, 'alpha', { min: 0, max: 1, step: 0.1 });\n\n    }\n}\n", "import { IBaseWorld } from '../IBaseWorld';\nimport { IWorldRenderData } from '../IWorldRenderData';\n\nexport const WorldRenderEvent: string = 'worldrender';\n\nexport type WorldRenderEventHandler = (renderData: IWorldRenderData, world: IBaseWorld) => void;\n", "import { IBaseWorld } from '../IBaseWorld';\n\nexport const WorldShutdownEvent: string = 'worldshutdown';\n\nexport type WorldShutdownEventHandler = (world: IBaseWorld) => void;\n", "import { IWorldRenderData } from './IWorldRenderData';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function CalculateTotalRenderable (entry: SearchEntry, renderData: IWorldRenderData): void\n{\n    renderData.numRendered++;\n    renderData.numRenderable++;\n\n    if (entry.node.dirtyFrame >= renderData.gameFrame)\n    {\n        renderData.dirtyFrame++;\n    }\n\n    entry.children.forEach(child =>\n    {\n        if (child.children.length > 0)\n        {\n            CalculateTotalRenderable(child, renderData);\n        }\n    });\n}\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function HasDirtyChildren (parent: SearchEntry): boolean\n{\n    if (parent.node.isDirty(DIRTY_CONST.CHILD_CACHE))\n    {\n        return true;\n    }\n\n    const stack = [ parent ];\n\n    while (stack.length > 0)\n    {\n        const entry = stack.pop();\n\n        if (entry.node.isDirty(DIRTY_CONST.TRANSFORM))\n        {\n            return true;\n        }\n\n        const numChildren = entry.children.length;\n\n        if (numChildren > 0)\n        {\n            for (let i = 0; i < numChildren; i++)\n            {\n                stack.push(entry.children[i]);\n            }\n        }\n    }\n\n    stack.length = 0;\n\n    return false;\n}\n", "import { DIRTY_CONST } from '../gameobjects/DIRTY_CONST';\nimport { HasDirtyChildren } from './HasDirtyChildren';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function UpdateCachedLayers (cachedLayers: SearchEntry[], dirtyCamera: boolean): void\n{\n    cachedLayers.forEach(layer =>\n    {\n        if (dirtyCamera || HasDirtyChildren(layer))\n        {\n            //  Camera is dirty, or layer has at least one dirty child\n            layer.node.setDirty(DIRTY_CONST.CHILD_CACHE);\n        }\n        else\n        {\n            //  Camera is clean and no dirty children, so we can re-use layer cache\n            //  So let's remove the children for this layer\n            layer.children.length = 0;\n        }\n    });\n}\n", "import { IGameObject } from '../gameobjects/IGameObject';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport function WorldDepthFirstSearch (cachedLayers: SearchEntry[], parent: IGameObject, output: SearchEntry[] = []): SearchEntry[]\n{\n    for (let i = 0; i < parent.numChildren; i++)\n    {\n        const node = parent.children[i];\n\n        if (node.isRenderable())\n        {\n            const children: SearchEntry[] = [];\n\n            const entry = { node, children };\n\n            output.push(entry);\n\n            if (node.willRenderChildren && node.numChildren > 0)\n            {\n                if (node.willCacheChildren)\n                {\n                    cachedLayers.push(entry);\n                }\n\n                WorldDepthFirstSearch(cachedLayers, node, children);\n            }\n        }\n    }\n\n    return output;\n}\n", "import { CalculateTotalRenderable } from './CalculateTotalRenderable';\nimport { IBaseWorld } from './IBaseWorld';\nimport { SearchEntry } from '../display/SearchEntryType';\nimport { UpdateCachedLayers } from './UpdateCachedLayers';\nimport { WorldDepthFirstSearch } from './WorldDepthFirstSearch';\n\nexport function BuildRenderList (world: IBaseWorld): void\n{\n    const cachedLayers: SearchEntry[] = [];\n    const stack: SearchEntry[] = [];\n\n    //  entries is now populated with the n-tree search results, only containing nodes that will actually render\n    const entries = WorldDepthFirstSearch(cachedLayers, world, stack);\n\n    const renderData = world.renderData;\n\n    //  We can now sweep through the entries and purge non-dirty children of cached layers,\n    //  before finally building the render list. We can only do this if the camera is clean.\n\n    if (cachedLayers.length > 0)\n    {\n        UpdateCachedLayers(cachedLayers, world.camera.dirtyRender);\n    }\n\n    //  TODO: numRenderable probably needs to move to the search function\n    entries.forEach(entry =>\n    {\n        if (entry.children.length > 0)\n        {\n            CalculateTotalRenderable(entry, renderData);\n        }\n        else\n        {\n            renderData.numRendered++;\n            renderData.numRenderable++;\n\n            if (entry.node.dirtyFrame >= renderData.gameFrame)\n            {\n                renderData.dirtyFrame++;\n            }\n        }\n    });\n\n    world.renderList = entries;\n\n    if (world.forceRefresh)\n    {\n        renderData.dirtyFrame++;\n\n        world.forceRefresh = false;\n    }\n\n    // console.log(entries);\n    // console.log(renderData);\n    // eslint-disable-next-line no-debugger\n    // debugger;\n}\n", "import { IMatrix2D } from './IMatrix2D';\n\n//  Compares the a and b matrix and returns if they are equal.\n\nexport function Mat2dEquals (a: IMatrix2D, b: IMatrix2D): boolean\n{\n    return (\n        a.a === b.a &&\n        a.b === b.b &&\n        a.c === b.c &&\n        a.d === b.d &&\n        a.tx === b.tx &&\n        a.ty === b.ty\n    );\n}\n", "import { ISceneRenderData } from '../scenes/ISceneRenderData';\nimport { IWorldRenderData } from './IWorldRenderData';\n\nexport function MergeRenderData (sceneRenderData: ISceneRenderData, worldRenderData: IWorldRenderData): void\n{\n    sceneRenderData.numDirtyFrames += worldRenderData.dirtyFrame;\n    sceneRenderData.numTotalFrames += worldRenderData.numRendered;\n\n    if (worldRenderData.camera.dirtyRender)\n    {\n        sceneRenderData.numDirtyCameras++;\n    }\n\n    sceneRenderData.worldData.push(worldRenderData);\n}\n", "import { IWorldRenderData } from './IWorldRenderData';\n\nexport function ResetWorldRenderData (renderData: IWorldRenderData, gameFrame: number): void\n{\n    renderData.gameFrame = gameFrame;\n    renderData.dirtyFrame = 0;\n    renderData.numRendered = 0;\n    renderData.numRenderable = 0;\n}\n", "import * as GameObjectEvents from '../gameobjects/events';\nimport * as WorldEvents from './events';\n\nimport { Begin, Flush } from '../renderer/webgl1/renderpass';\nimport { Emit, Off, On, Once } from '../events';\n\nimport { BuildRenderList } from './BuildRenderList';\nimport { GameObject } from '../gameobjects';\nimport { IBaseCamera } from '../camera/IBaseCamera';\nimport { IBaseWorld } from './IBaseWorld';\nimport { IEventInstance } from '../events/IEventInstance';\nimport { IGameObject } from '../gameobjects/IGameObject';\nimport { IRenderPass } from '../renderer/webgl1/renderpass/IRenderPass';\nimport { IScene } from '../scenes/IScene';\nimport { ISceneRenderData } from '../scenes/ISceneRenderData';\nimport { IWorldRenderData } from './IWorldRenderData';\nimport { Mat2dEquals } from '../math/mat2d/Mat2dEquals';\nimport { MergeRenderData } from './MergeRenderData';\nimport { RemoveChildren } from '../display';\nimport { ResetWorldRenderData } from './ResetWorldRenderData';\nimport { SearchEntry } from '../display/SearchEntryType';\n\nexport class BaseWorld extends GameObject implements IBaseWorld\n{\n    scene: IScene;\n\n    camera: IBaseCamera;\n    renderData: IWorldRenderData;\n    forceRefresh: boolean = false;\n    events: Map<string, Set<IEventInstance>>;\n    is3D: boolean = false;\n\n    renderList: SearchEntry[];\n\n    private _updateListener: IEventInstance;\n    private _renderListener: IEventInstance;\n    private _shutdownListener: IEventInstance;\n\n    constructor (scene: IScene)\n    {\n        super();\n\n        this.type = 'BaseWorld';\n        this.scene = scene;\n        this.world = this;\n\n        this.events = new Map();\n\n        this.renderList = [];\n\n        this._updateListener = On(scene, 'update', (delta: number, time: number) => this.update(delta, time));\n        this._renderListener = On(scene, 'render', (renderData: ISceneRenderData) => this.render(renderData));\n        this._shutdownListener = On(scene, 'shutdown', () => this.shutdown());\n        Once(scene, 'destroy', () => this.destroy());\n    }\n\n    update (delta: number, time: number): void\n    {\n        if (!this.willUpdate)\n        {\n            return;\n        }\n\n        Emit(this, GameObjectEvents.UpdateEvent, delta, time, this);\n\n        super.update(delta, time);\n    }\n\n    postUpdate (delta: number, time: number): void\n    {\n        Emit(this, GameObjectEvents.PostUpdateEvent, delta, time, this);\n    }\n\n    render (sceneRenderData: ISceneRenderData): void\n    {\n        const renderData = this.renderData;\n\n        ResetWorldRenderData(renderData, sceneRenderData.gameFrame);\n\n        if (!this.willRender || !this.visible)\n        {\n            return;\n        }\n\n        BuildRenderList(this);\n\n        Emit(this, WorldEvents.WorldRenderEvent, renderData, this);\n\n        MergeRenderData(sceneRenderData, renderData);\n\n        this.camera.dirtyRender = false;\n    }\n\n    renderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        const currentCamera = renderPass.current2DCamera;\n        const camera = this.camera;\n\n        if (!currentCamera || !Mat2dEquals(camera.worldTransform, currentCamera.worldTransform))\n        {\n            Flush(renderPass);\n        }\n\n        Begin(renderPass, camera);\n\n        this.renderList.forEach(entry =>\n        {\n            if (entry.children.length > 0)\n            {\n                this.renderNode(entry, renderPass);\n            }\n            else\n            {\n                entry.node.renderGL(renderPass);\n            }\n        });\n    }\n\n    renderNode (entry: SearchEntry, renderPass: IRenderPass): void\n    {\n        entry.node.renderGL(renderPass);\n\n        entry.children.forEach(child =>\n        {\n            if (child.children.length > 0)\n            {\n                this.renderNode(child, renderPass);\n            }\n            else\n            {\n                child.node.renderGL(renderPass);\n            }\n        });\n\n        entry.node.postRenderGL(renderPass);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    postRenderGL <T extends IRenderPass> (renderPass: T): void\n    {\n        //  Emit event?\n    }\n\n    shutdown (): void\n    {\n        const scene = this.scene;\n\n        Off(scene, 'update', this._updateListener);\n        Off(scene, 'render', this._renderListener);\n        Off(scene, 'shutdown', this._shutdownListener);\n\n        //  Clear the display list and reset the camera, but leave\n        //  everything in place so we can return to this World again\n        //  at a later stage\n\n        RemoveChildren(this);\n\n        Emit(this, WorldEvents.WorldShutdownEvent, this);\n\n        ResetWorldRenderData(this.renderData, 0);\n\n        if (this.camera)\n        {\n            this.camera.reset();\n        }\n    }\n\n    destroy (reparentChildren?: IGameObject): void\n    {\n        super.destroy(reparentChildren);\n\n        Emit(this, GameObjectEvents.DestroyEvent, this);\n\n        ResetWorldRenderData(this.renderData, 0);\n\n        if (this.camera)\n        {\n            this.camera.destroy();\n        }\n\n        this.events.clear();\n\n        this.camera = null;\n        this.renderData = null;\n        this.events = null;\n    }\n}\n", "import { IBaseCamera } from '../camera/IBaseCamera';\nimport { IBaseWorld } from './IBaseWorld';\nimport { IWorldRenderData } from './IWorldRenderData';\n\nexport function CreateWorldRenderData (world: IBaseWorld, camera: IBaseCamera): IWorldRenderData\n{\n    return {\n        world,\n        camera,\n        gameFrame: 0,\n        dirtyFrame: 0,\n        numRendered: 0,\n        numRenderable: 0\n    };\n}\n", "import { BaseWorld } from './BaseWorld';\nimport { CreateWorldRenderData } from './CreateWorldRenderData';\nimport { IScene } from '../scenes/IScene';\nimport { IStaticCamera } from '../camera/IStaticCamera';\nimport { IStaticWorld } from './IStaticWorld';\nimport { StaticCamera } from '../camera/StaticCamera';\n\n//  A Static World is designed specifically to have a bounds of a fixed size\n//  and a camera that doesn't move at all (no scrolling, rotation, etc)\n//  Because it has a fixed size, there is no camera culling enabled.\n//  Games that use this kind of world include Pacman, Bejeweled and 2048.\n\nexport class StaticWorld extends BaseWorld implements IStaticWorld\n{\n    camera: IStaticCamera;\n\n    constructor (scene: IScene)\n    {\n        super(scene);\n\n        this.type = 'StaticWorld';\n\n        this.camera = new StaticCamera();\n\n        this.renderData = CreateWorldRenderData(this, this.camera);\n    }\n}\n", "import { BackgroundColor, Parent, Scenes, WebGL } from '../../../../phaser-genesis/src/config';\n\nimport { AddChildren } from '../../../../phaser-genesis/src/display/';\nimport { Game } from '../../../../phaser-genesis/src/Game';\nimport { ImageFile } from '../../../../phaser-genesis/src/loader/files/ImageFile';\nimport { Loader } from '../../../../phaser-genesis/src/loader/Loader';\nimport { Scene } from '../../../../phaser-genesis/src/scenes/Scene';\nimport { Sprite } from '../../../../phaser-genesis/src/gameobjects/';\nimport { SpriteEditor } from '../../../public/libs/phaser4debugkit/SpriteEditor';\nimport { StaticWorld } from '../../../../phaser-genesis/src/world/StaticWorld';\n\nclass Demo extends Scene\n{\n    constructor ()\n    {\n        super();\n\n        const world = new StaticWorld(this);\n\n        const loader = new Loader();\n\n        loader.add(ImageFile('logo', 'assets/logo.png'));\n\n        loader.start().then(() => {\n\n            const logo = new Sprite(400, 300, 'logo');\n\n            AddChildren(world, logo);\n\n            new SpriteEditor(logo);\n\n        });\n    }\n}\n\nnew Game(\n    WebGL(),\n    Parent('gameParent'),\n    BackgroundColor(0x3d8d2d),\n    Scenes(Demo)\n);\n"],
  "mappings": "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",
  "names": []
}
